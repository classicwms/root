Index: ../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.api.transaction.service;\r\n\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\n\r\nimport org.hibernate.exception.LockAcquisitionException;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.dao.CannotAcquireLockException;\r\nimport org.springframework.orm.ObjectOptimisticLockingFailureException;\r\nimport org.springframework.retry.annotation.Backoff;\r\nimport org.springframework.retry.annotation.Retryable;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.UnexpectedRollbackException;\r\nimport org.springframework.transaction.annotation.Propagation;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.tekclover.wms.api.transaction.controller.exception.BadRequestException;\r\nimport com.tekclover.wms.api.transaction.model.DocumentNumber;\r\nimport com.tekclover.wms.api.transaction.model.IKeyValuePair;\r\nimport com.tekclover.wms.api.transaction.model.dto.ImBasicData1V2;\r\nimport com.tekclover.wms.api.transaction.model.inbound.inventory.v2.InventoryV2;\r\nimport com.tekclover.wms.api.transaction.model.notification.NotificationSave;\r\nimport com.tekclover.wms.api.transaction.model.outbound.ordermangement.v2.OrderManagementHeaderV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.ordermangement.v2.OrderManagementLineV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.pickup.AddPickupLine;\r\nimport com.tekclover.wms.api.transaction.model.outbound.pickup.v2.PickupHeaderV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.pickup.v2.PickupLineV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.preoutbound.v2.OutboundIntegrationHeaderV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.preoutbound.v2.OutboundIntegrationLineV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.preoutbound.v2.PreOutboundHeaderV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.preoutbound.v2.PreOutboundLineV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.quality.v2.AddQualityLineV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.quality.v2.QualityHeaderV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.quality.v2.QualityLineV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.v2.OutboundHeaderV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.v2.OutboundLineV2;\r\nimport com.tekclover.wms.api.transaction.model.outbound.v2.OutboundOrderProcess;\r\nimport com.tekclover.wms.api.transaction.model.outbound.v2.PickListCancellation;\r\nimport com.tekclover.wms.api.transaction.model.outbound.v2.PickListHeader;\r\nimport com.tekclover.wms.api.transaction.model.outbound.v2.PickListLine;\r\nimport com.tekclover.wms.api.transaction.model.warehouse.outbound.v2.OutboundOrderV2;\r\nimport com.tekclover.wms.api.transaction.repository.ImBasicData1V2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.InventoryV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.OrderManagementHeaderV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.OrderManagementLineV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.OutboundHeaderV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.OutboundLineV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.OutboundOrderV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.PickListHeaderRepository;\r\nimport com.tekclover.wms.api.transaction.repository.PickupHeaderV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.PreOutboundHeaderV2Repository;\r\nimport com.tekclover.wms.api.transaction.repository.PreOutboundLineV2Repository;\r\nimport com.tekclover.wms.api.transaction.util.CommonUtils;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@Service\r\npublic class OutboundOrderProcessingFTService extends BaseService {\r\n\r\n    @Autowired\r\n    OrderService orderService;\r\n\r\n    @Autowired\r\n    OrderManagementLineService orderManagementLineService;\r\n\r\n    @Autowired\r\n    InventoryService inventoryService;\r\n\r\n    @Autowired\r\n    PushNotificationService pushNotificationService;\r\n\r\n    @Autowired\r\n    PreOutboundHeaderService preOutboundHeaderService;\r\n\r\n    //--------------------------------------------------------------------------------------------------------------\r\n    @Autowired\r\n    PreOutboundHeaderV2Repository preOutboundHeaderV2Repository;\r\n\r\n    @Autowired\r\n    PreOutboundLineV2Repository preOutboundLineV2Repository;\r\n\r\n    @Autowired\r\n    OrderManagementLineV2Repository orderManagementLineV2Repository;\r\n\r\n    @Autowired\r\n    OutboundLineV2Repository outboundLineV2Repository;\r\n\r\n    @Autowired\r\n    OrderManagementHeaderV2Repository orderManagementHeaderV2Repository;\r\n\r\n    @Autowired\r\n    OutboundHeaderV2Repository outboundHeaderV2Repository;\r\n\r\n    @Autowired\r\n    ImBasicData1V2Repository imBasicData1V2Repository;\r\n\r\n    @Autowired\r\n    InventoryV2Repository inventoryV2Repository;\r\n\r\n    @Autowired\r\n    PickupHeaderV2Repository pickupHeaderV2Repository;\r\n\r\n    @Autowired\r\n    OutboundOrderV2Repository outboundOrderV2Repository;\r\n\r\n    @Autowired\r\n    OutboundLineService outboundLineService;\r\n\r\n    @Autowired\r\n    OutboundHeaderService outboundHeaderService;\r\n\r\n    @Autowired\r\n    PreOutboundLineService preOutboundLineService;\r\n\r\n    @Autowired\r\n    QualityHeaderService qualityHeaderService;\r\n\r\n    @Autowired\r\n    QualityLineService qualityLineService;\r\n\r\n    @Autowired\r\n    PickupLineService pickupLineService;\r\n\r\n    @Autowired\r\n    PickListHeaderRepository pickListHeaderRepository;\r\n\r\n    @Autowired\r\n    PickupHeaderService pickupHeaderService;\r\n\r\n    @Autowired\r\n    PickListHeaderService pickListHeaderService;\r\n\r\n    //========================================================================V2====================================================================\r\n\r\n    /**\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n//    public synchronized OutboundHeaderV2 processOutboundReceivedV3(OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n//        try {\r\n//            String companyCodeId = outboundIntegrationHeader.getCompanyCode();\r\n//            String plantId = outboundIntegrationHeader.getBranchCode();\r\n//            String languageId = outboundIntegrationHeader.getLanguageId() != null ? outboundIntegrationHeader.getLanguageId() : LANG_ID;\r\n//            String warehouseId = outboundIntegrationHeader.getWarehouseID();\r\n//            String refDocNumber = outboundIntegrationHeader.getRefDocumentNo();\r\n//            Long outboundOrderTypeId = outboundIntegrationHeader.getOutboundOrderTypeID();\r\n//            log.info(\"Outbound Process Initiated ------> : {}|{}|{}|{}|{}|{}\", companyCodeId, plantId, languageId, warehouseId, refDocNumber, outboundOrderTypeId);\r\n//            WK = outboundIntegrationHeader.getLoginUserId() != null ? outboundIntegrationHeader.getLoginUserId() : WK;\r\n//\r\n//            boolean isDuplicateOrder = preOutboundHeaderService.isPreOutboundHeaderExist(refDocNumber, outboundOrderTypeId);\r\n//            log.info(\"IsDupicate : \" + refDocNumber + \" |---> \" + isDuplicateOrder);\r\n//            if (isDuplicateOrder) {\r\n//                log.info(\"isDuplicateOrder------> : calling doProcessPickListUpdate -----\");\r\n//                doProcessPickListUpdate(outboundIntegrationHeader);\r\n//            }\r\n//\r\n//            OutboundOrderProcess outboundOrderProcess = new OutboundOrderProcess();\r\n//            String idMasterAuthToken = getIDMasterAuthToken();\r\n//            /*\r\n//             * Grouping PreOutboundHeader ID based on the Customer ID\r\n//             */\r\n//            String preOutboundNo = getPreOutboundNo(companyCodeId, plantId, languageId, warehouseId,\r\n//                    outboundIntegrationHeader.getCustomerId(), outboundIntegrationHeader.getSalesOrderNumber(), outboundOrderTypeId, idMasterAuthToken);\r\n//            log.info(\"PreOutboundNo : {}\", preOutboundNo);\r\n//\r\n//            String refField1ForOrderType = null;\r\n//\r\n//            description = getDescription(companyCodeId, plantId, languageId, warehouseId);\r\n//\r\n//            Long statusId = 39L;\r\n//            statusDescription = getStatusDescription(statusId, languageId);\r\n//\r\n//            PreOutboundHeaderV2 createdPreOutboundHeader = createPreOutboundHeaderV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, outboundIntegrationHeader, refField1ForOrderType, statusId, statusDescription, description, WK);\r\n//            log.info(\"preOutboundHeader Created : {}\", createdPreOutboundHeader);\r\n//\r\n//            List<PreOutboundLineV2> createdPreOutboundLineList = new ArrayList<>();\r\n//            for (OutboundIntegrationLineV2 outboundIntegrationLine : outboundIntegrationHeader.getOutboundIntegrationLines()) {\r\n//                log.info(\"outboundIntegrationLine : \" + outboundIntegrationLine);\r\n//                try {\r\n//                    // PreOutboundLine\r\n//                    PreOutboundLineV2 preOutboundLine = createPreOutboundLineV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo,\r\n//                            outboundIntegrationHeader, outboundIntegrationLine, statusId, statusDescription, description, WK);\r\n//                    log.info(\"preOutboundLine created---1---> : \" + preOutboundLine);\r\n//                    createdPreOutboundLineList.add(preOutboundLine);\r\n//                } catch (Exception e) {\r\n//                    log.error(\"Error on processing PreOutboundLine : \" + e.toString());\r\n//                    e.printStackTrace();\r\n//                }\r\n//                refField1ForOrderType = outboundIntegrationLine.getRefField1ForOrderType();\r\n//            }\r\n////            preOutboundLineV2Repository.saveAll(createdPreOutboundLineList);\r\n//\r\n//            createOrderManagementLine(companyCodeId, plantId, languageId, warehouseId, outboundIntegrationHeader, createdPreOutboundLineList, WK, false);\r\n//\r\n//            /*------------------Record Insertion in OUTBOUNDLINE tables-----------*/\r\n//            List<OutboundLineV2> createOutboundLineList = createOutboundLineV2(createdPreOutboundLineList, outboundIntegrationHeader);\r\n//            log.info(\"createOutboundLine created : \" + createOutboundLineList);\r\n//\r\n//            statusId = 41L;\r\n//            statusDescription = getStatusDescription(statusId, languageId);\r\n//            OrderManagementHeaderV2 createdOrderManagementHeader = createOrderManagementHeaderV2(createdPreOutboundHeader, statusId, statusDescription, WK);\r\n//            log.info(\"OrderMangementHeader Created : {}\", createdOrderManagementHeader);\r\n//\r\n//            OutboundHeaderV2 outboundHeader = createOutboundHeaderV2(createdPreOutboundHeader, outboundIntegrationHeader, statusId, statusDescription);\r\n//            if (outboundHeader.getPartnerCode() == null) {\r\n//                outboundHeader.setPartnerCode(\"STO\");\r\n//            }\r\n//\r\n//            log.info(\"outboundHeader Created : {}\", outboundHeader);\r\n//\r\n//            outboundOrderProcess.setOutboundHeader(outboundHeader);\r\n//            outboundOrderProcess.setOutboundLines(createOutboundLineList);\r\n//            outboundOrderProcess.setOrderManagementHeader(createdOrderManagementHeader);\r\n//            outboundOrderProcess.setPreOutboundHeader(createdPreOutboundHeader);\r\n//            outboundOrderProcess.setPreOutboundLines(createdPreOutboundLineList);\r\n//            outboundOrderProcess.setOutboundIntegrationHeader(outboundIntegrationHeader);\r\n//            postOutboundOrder(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, outboundOrderTypeId, outboundOrderProcess);\r\n//\r\n//            validatePickupHeaderCreation(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, outboundHeader, WK);\r\n//\r\n//            return outboundHeader;\r\n//        } catch (Exception e) {\r\n//            e.printStackTrace();\r\n//            // Updating the Processed Status\r\n//            log.info(\"Rollback Initiated...!\" + outboundIntegrationHeader.getRefDocumentNo());\r\n//            rollback(outboundIntegrationHeader);\r\n//            orderService.updateProcessedOrderV2(outboundIntegrationHeader.getRefDocumentNo(), outboundIntegrationHeader.getOutboundOrderTypeID());\r\n//            throw e;\r\n//        }\r\n//    }\r\n\r\n    /**\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public synchronized OutboundHeaderV2 processOutboundReceivedV3(OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n        try {\r\n            String companyCodeId = outboundIntegrationHeader.getCompanyCode();\r\n            String plantId = outboundIntegrationHeader.getBranchCode();\r\n            String languageId = outboundIntegrationHeader.getLanguageId() != null ? outboundIntegrationHeader.getLanguageId() : LANG_ID;\r\n            String warehouseId = outboundIntegrationHeader.getWarehouseID();\r\n            String refDocNumber = outboundIntegrationHeader.getRefDocumentNo();\r\n            Long outboundOrderTypeId = outboundIntegrationHeader.getOutboundOrderTypeID();\r\n            log.info(\"Outbound Process Initiated ------> : {}|{}|{}|{}|{}|{}\", companyCodeId, plantId, languageId, warehouseId, refDocNumber, outboundOrderTypeId);\r\n            MW_AMS = outboundIntegrationHeader.getLoginUserId() != null ? outboundIntegrationHeader.getLoginUserId() : MW_AMS;\r\n\r\n            boolean isDuplicateOrder = preOutboundHeaderService.isPreOutboundHeaderExist(refDocNumber, outboundOrderTypeId);\r\n            log.info(\"IsDupicate : \" + refDocNumber + \" |---> \" + isDuplicateOrder);\r\n            if (isDuplicateOrder) {\r\n                return new OutboundHeaderV2();\r\n            }\r\n\r\n            OutboundOrderProcess outboundOrderProcess = new OutboundOrderProcess();\r\n            String idMasterAuthToken = getIDMasterAuthToken();\r\n            /*\r\n             * Grouping PreOutboundHeader ID based on the Customer ID\r\n             */\r\n            String preOutboundNo = getPreOutboundNo(companyCodeId, plantId, languageId, warehouseId,\r\n                    outboundIntegrationHeader.getCustomerId(), outboundIntegrationHeader.getSalesOrderNumber(), outboundOrderTypeId, idMasterAuthToken);\r\n            log.info(\"PreOutboundNo : {}\", preOutboundNo);\r\n\r\n            String refField1ForOrderType = null;\r\n\r\n            description = getDescription(companyCodeId, plantId, languageId, warehouseId);\r\n\r\n            Long statusId = 39L;\r\n            statusDescription = getStatusDescription(statusId, languageId);\r\n\r\n            PreOutboundHeaderV2 createdPreOutboundHeader = createPreOutboundHeaderV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, outboundIntegrationHeader, refField1ForOrderType, statusId, statusDescription, description, MW_AMS);\r\n            log.info(\"preOutboundHeader Created : {}\", createdPreOutboundHeader);\r\n\r\n            List<PreOutboundLineV2> createdPreOutboundLineList = new ArrayList<>();\r\n            for (OutboundIntegrationLineV2 outboundIntegrationLine : outboundIntegrationHeader.getOutboundIntegrationLines()) {\r\n                log.info(\"outboundIntegrationLine : \" + outboundIntegrationLine);\r\n                try {\r\n                    // PreOutboundLine\r\n                    PreOutboundLineV2 preOutboundLine = createPreOutboundLineV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo,\r\n                            outboundIntegrationHeader, outboundIntegrationLine, statusId, statusDescription, description, MW_AMS);\r\n                    log.info(\"preOutboundLine created---1---> : \" + preOutboundLine);\r\n                    createdPreOutboundLineList.add(preOutboundLine);\r\n                } catch (Exception e) {\r\n                    log.error(\"Error on processing PreOutboundLine : \" + e.toString());\r\n                    e.printStackTrace();\r\n                }\r\n                refField1ForOrderType = outboundIntegrationLine.getRefField1ForOrderType();\r\n            }\r\n//            preOutboundLineV2Repository.saveAll(createdPreOutboundLineList);\r\n\r\n            createOrderManagementLineV2(companyCodeId, plantId, languageId, warehouseId, outboundIntegrationHeader, createdPreOutboundLineList, MW_AMS);\r\n\r\n            /*------------------Record Insertion in OUTBOUNDLINE tables-----------*/\r\n            List<OutboundLineV2> createOutboundLineList = createOutboundLineV2(createdPreOutboundLineList, outboundIntegrationHeader);\r\n            log.info(\"createOutboundLine created : \" + createOutboundLineList);\r\n\r\n            statusId = 41L;\r\n            statusDescription = getStatusDescription(statusId, languageId);\r\n            OrderManagementHeaderV2 createdOrderManagementHeader = createOrderManagementHeaderV3(createdPreOutboundHeader, statusId, statusDescription, MW_AMS);\r\n            log.info(\"OrderMangementHeader Created : {}\", createdOrderManagementHeader);\r\n\r\n            OutboundHeaderV2 outboundHeader = createOutboundHeaderV2(createdPreOutboundHeader, outboundIntegrationHeader, statusId, statusDescription);\r\n            log.info(\"outboundHeader Created : {}\", outboundHeader);\r\n\r\n            outboundOrderProcess.setOutboundHeader(outboundHeader);\r\n            outboundOrderProcess.setOutboundLines(createOutboundLineList);\r\n            outboundOrderProcess.setOrderManagementHeader(createdOrderManagementHeader);\r\n            outboundOrderProcess.setPreOutboundHeader(createdPreOutboundHeader);\r\n            outboundOrderProcess.setPreOutboundLines(createdPreOutboundLineList);\r\n            outboundOrderProcess.setOutboundIntegrationHeader(outboundIntegrationHeader);\r\n            postOutboundOrderV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, outboundOrderTypeId, outboundOrderProcess);\r\n\r\n            validatePickupHeaderCreationV2(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, outboundHeader, MW_AMS);\r\n\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n\r\n            // Updating the Processed Status\r\n            log.info(\"Rollback Initiated...!\" + outboundIntegrationHeader.getRefDocumentNo());\r\n            rollback(outboundIntegrationHeader);\r\n            orderService.updateProcessedOrderV2(outboundIntegrationHeader.getRefDocumentNo(), outboundIntegrationHeader.getOutboundOrderTypeID());\r\n\r\n            throw e;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public synchronized OutboundHeaderV2 processOutboundReceivedFromSAPV3(OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n        try {\r\n            String companyCodeId = outboundIntegrationHeader.getCompanyCode();\r\n            String plantId = outboundIntegrationHeader.getBranchCode();\r\n            String languageId = outboundIntegrationHeader.getLanguageId() != null ? outboundIntegrationHeader.getLanguageId() : LANG_ID;\r\n            String warehouseId = outboundIntegrationHeader.getWarehouseID();\r\n            String refDocNumber = outboundIntegrationHeader.getRefDocumentNo();\r\n            Long outboundOrderTypeId = outboundIntegrationHeader.getOutboundOrderTypeID();\r\n            log.info(\"Outbound Process Initiated ------> : {}|{}|{}|{}|{}|{}\", companyCodeId, plantId, languageId, warehouseId, refDocNumber, outboundOrderTypeId);\r\n            WK = outboundIntegrationHeader.getLoginUserId() != null ? outboundIntegrationHeader.getLoginUserId() : WK;\r\n\r\n            boolean isDuplicateOrder = preOutboundHeaderService.isPreOutboundHeaderExist(refDocNumber, outboundOrderTypeId);\r\n            log.info(\"IsDupicate : \" + refDocNumber + \" |---> \" + isDuplicateOrder + \" <----> \" + outboundIntegrationHeader.getOutboundOrderTypeID());\r\n\r\n            PreOutboundHeaderV2 existingPreOutboundHeaderV2 =\r\n                    preOutboundHeaderService.getPreOutboundHeaderForFullfillment(companyCodeId, plantId, languageId, warehouseId, refDocNumber);\r\n            if (isDuplicateOrder && outboundIntegrationHeader.getOutboundOrderTypeID() == 3) {\r\n                log.info(\"isDuplicateOrder------> : calling doProcessPickListUpdate -----\");\r\n                doProcessPickListUpdate(outboundIntegrationHeader);\r\n                boolean recordExists = pickupHeaderV2Repository.existsByCompanyCodeIdAndPlantIdAndWarehouseIdAndRefDocNumberAndDeletionIndicator(companyCodeId,\r\n                        plantId, warehouseId, outboundIntegrationHeader.getRefDocumentNo(), 0L);\r\n                log.info(\"Exists PickupHeader --------> \" + recordExists);\r\n                if (recordExists) {\r\n                    return outboundHeaderV2Repository.findByRefDocNumberAndDeletionIndicator(outboundIntegrationHeader.getRefDocumentNo(), 0L);\r\n                }\r\n            }\r\n\r\n            OutboundOrderProcess outboundOrderProcess = new OutboundOrderProcess();\r\n            String idMasterAuthToken = getIDMasterAuthToken();\r\n\r\n            /*\r\n             * Grouping PreOutboundHeader ID based on the Customer ID\r\n             */\r\n            String preOutboundNo = getPreOutboundNo(companyCodeId, plantId, languageId, warehouseId,\r\n                    outboundIntegrationHeader.getCustomerId(), outboundIntegrationHeader.getSalesOrderNumber(), outboundOrderTypeId, idMasterAuthToken);\r\n            log.info(\"PreOutboundNo : {}\", preOutboundNo);\r\n\r\n            String refField1ForOrderType = null;\r\n            Long statusId = 39L;\r\n            description = getDescription(companyCodeId, plantId, languageId, warehouseId);\r\n            statusDescription = getStatusDescription(statusId, languageId);\r\n\r\n            PreOutboundHeaderV2 createdPreOutboundHeader = createPreOutboundHeaderV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, outboundIntegrationHeader, refField1ForOrderType, statusId, statusDescription, description, WK);\r\n            /*\r\n             * Filling ShipToCode and ShiptToParty\r\n             */\r\n            if (existingPreOutboundHeaderV2 != null) {\r\n                createdPreOutboundHeader.setShipToCode(existingPreOutboundHeaderV2.getShipToCode());\r\n                createdPreOutboundHeader.setShipToParty(existingPreOutboundHeaderV2.getShipToParty());\r\n            }\r\n            log.info(\"preOutboundHeader Created : {}\", createdPreOutboundHeader);\r\n\r\n            /*\r\n             * Incase OF Picklistcancellation\r\n             */\r\n            if (outboundIntegrationHeader.getPartnerCode() == null) {\r\n                OutboundOrderV2 objOutboundOrderV2 =\r\n                        orderService.getOBOrderByIdV3(outboundIntegrationHeader.getRefDocumentNo(),\r\n                                outboundIntegrationHeader.getOutboundOrderTypeID());\r\n                log.info(\"----------objOutboundOrderV3-----------> : \" + objOutboundOrderV2);\r\n\r\n                if (objOutboundOrderV2 != null) {\r\n                    createdPreOutboundHeader.setPartnerCode(objOutboundOrderV2.getPartnerCode());\r\n                    createdPreOutboundHeader.setCustomerId(objOutboundOrderV2.getCustomerId());\r\n                    createdPreOutboundHeader.setCustomerName(objOutboundOrderV2.getCustomerName());\r\n\r\n                    outboundIntegrationHeader.setPartnerCode(objOutboundOrderV2.getPartnerCode());\r\n                    outboundIntegrationHeader.setCustomerId(objOutboundOrderV2.getCustomerId());\r\n                    outboundIntegrationHeader.setCustomerName(objOutboundOrderV2.getCustomerName());\r\n                }\r\n            }\r\n\r\n            List<PreOutboundLineV2> createdPreOutboundLineList = new ArrayList<>();\r\n            for (OutboundIntegrationLineV2 outboundIntegrationLine : outboundIntegrationHeader.getOutboundIntegrationLines()) {\r\n                log.info(\"outboundIntegrationLine : \" + outboundIntegrationLine);\r\n                try {\r\n                    // PreOutboundLine\r\n                    PreOutboundLineV2 preOutboundLine = createPreOutboundLineV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo,\r\n                            outboundIntegrationHeader, outboundIntegrationLine, statusId, statusDescription, description, WK);\r\n                    log.info(\"preOutboundLine created---1---> : \" + preOutboundLine);\r\n\r\n                    createdPreOutboundHeader.setShipToCode(outboundIntegrationLine.getShipToCode());\r\n                    createdPreOutboundHeader.setShipToParty(outboundIntegrationLine.getShipToParty());\r\n                    createdPreOutboundLineList.add(preOutboundLine);\r\n                } catch (Exception e) {\r\n                    log.error(\"Error on processing PreOutboundLine : \" + e.toString());\r\n                    e.printStackTrace();\r\n                }\r\n                refField1ForOrderType = outboundIntegrationLine.getRefField1ForOrderType();\r\n            }\r\n\r\n            /*------------------Record Insertion in OUTBOUNDLINE tables-----------------------------------*/\r\n            List<OutboundLineV2> createOutboundLineList = createOutboundLineV3(createdPreOutboundLineList,\r\n                    outboundIntegrationHeader);\r\n            log.info(\"createOutboundLine --initiated--- : \" + createOutboundLineList);\r\n\r\n            OutboundHeaderV2 outboundHeader = createOutboundHeaderV2(createdPreOutboundHeader,\r\n                    outboundIntegrationHeader, statusId, statusDescription);\r\n            if (outboundHeader.getPartnerCode() == null) {\r\n                outboundHeader.setPartnerCode(\"STO\");\r\n            }\r\n            log.info(\"outboundHeader Created : {}\", outboundHeader);\r\n            log.info(\"---preOutboundHeader yet to be created : {}\", createdPreOutboundHeader);\r\n\r\n            outboundOrderProcess.setPreOutboundHeader(createdPreOutboundHeader);\r\n            outboundOrderProcess.setPreOutboundLines(createdPreOutboundLineList);\r\n            outboundOrderProcess.setOutboundHeader(outboundHeader);\r\n            outboundOrderProcess.setOutboundLines(createOutboundLineList);\r\n            outboundOrderProcess.setOutboundIntegrationHeader(outboundIntegrationHeader);\r\n            postOutboundOrderV3(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, outboundOrderTypeId, outboundOrderProcess);\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            log.info(\"Rollback Initiated...!\" + outboundIntegrationHeader.getRefDocumentNo());\r\n            rollback(outboundIntegrationHeader);\r\n            orderService.updateProcessedOrderV2(outboundIntegrationHeader.getRefDocumentNo(), outboundIntegrationHeader.getOutboundOrderTypeID());\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * createPickListCancellation\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param oldPickListNumber\r\n     * @param newPickListNumber\r\n     * @param newPreOutboundNo\r\n     * @param pickListCancellation\r\n     * @param loginUserID\r\n     * @throws Exception\r\n     */\r\n    private void createPickListCancellation(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                            String oldPickListNumber, String newPickListNumber, String newPreOutboundNo,\r\n                                            PickListCancellation pickListCancellation, String loginUserID) throws Exception {\r\n        List<PickupLineV2> pickupLineV2 = pickListCancellation.getOldPickupLineList();\r\n        List<QualityLineV2> qualityLineV2 = pickListCancellation.getOldQualityLineList();\r\n        OutboundHeaderV2 outboundHeaderV2 = pickListCancellation.getOldOutboundHeader();\r\n        List<OutboundLineV2> outboundLineV2 = pickListCancellation.getOldOutboundLineList();\r\n        List<OrderManagementLineV2> orderManagementLine = pickListCancellation.getOldOrderManagementLineList();\r\n\r\n        // PickUpLine Creation\r\n        List<PickupLineV2> createNewPickUpLineList = null;\r\n        if (pickupLineV2 != null && !pickupLineV2.isEmpty()) {\r\n            List<PickupHeaderV2> newPickupHeaderList = pickupHeaderService.getPickupHeaderForPickListCancellationV2(\r\n                    companyCodeId, plantId, languageId, warehouseId, newPickListNumber, newPreOutboundNo);\r\n            log.info(\"newPickupHeaderList: \" + newPickupHeaderList);\r\n\r\n            List<AddPickupLine> newPickupLineList = new ArrayList<>();\r\n            if (newPickupHeaderList != null && !newPickupHeaderList.isEmpty()) {\r\n                for (PickupHeaderV2 pickupHeaderV2 : newPickupHeaderList) {\r\n                    List<PickupLineV2> pickupLinePresent = pickupLineV2.stream()\r\n                            .filter(n -> n.getItemCode().equalsIgnoreCase(pickupHeaderV2.getItemCode())\r\n                                    && n.getManufacturerName().equalsIgnoreCase(pickupHeaderV2.getManufacturerName()))\r\n                            .collect(Collectors.toList());\r\n                    log.info(\"Pickup Line present for that itemCode & MFR_Name: \" + pickupLinePresent);\r\n\r\n                    if (pickupLinePresent != null && !pickupLinePresent.isEmpty()) {\r\n                        AddPickupLine newPickupLine = new AddPickupLine();\r\n                        BeanUtils.copyProperties(pickupHeaderV2, newPickupLine, CommonUtils.getNullPropertyNames(pickupHeaderV2));\r\n                        Double oldPickConfirmQty = pickupLinePresent.get(0).getPickConfirmQty();\r\n                        Double newPickConfirmQty = pickupHeaderV2.getPickToQty();\r\n                        if (oldPickConfirmQty < newPickConfirmQty) {\r\n                            // Double pickConfirmQty = newPickConfirmQty - oldPickConfirmQty;\r\n                            newPickupLine.setPickConfirmQty(oldPickConfirmQty);\r\n                            newPickupLine.setAllocatedQty(oldPickConfirmQty);\r\n                            newPickupLine.setPickQty(String.valueOf(oldPickConfirmQty));\r\n                        }\r\n\r\n                        if (oldPickConfirmQty >= newPickConfirmQty) {\r\n                            newPickupLine.setPickConfirmQty(newPickConfirmQty);\r\n                            newPickupLine.setAllocatedQty(newPickConfirmQty);\r\n                            newPickupLine.setPickQty(String.valueOf(newPickConfirmQty));\r\n                        }\r\n                        newPickupLine.setCompanyCodeId(Long.valueOf(pickupHeaderV2.getCompanyCodeId()));\r\n                        newPickupLine.setPickedStorageBin(pickupHeaderV2.getProposedStorageBin());\r\n                        newPickupLine.setPickupNumber(pickupHeaderV2.getPickupNumber());\r\n                        newPickupLine.setActualHeNo(pickupLinePresent.get(0).getActualHeNo());\r\n                        newPickupLine.setPickedPackCode(pickupHeaderV2.getProposedPackBarCode());\r\n                        newPickupLineList.add(newPickupLine);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (newPickupLineList != null && !newPickupLineList.isEmpty()) {\r\n                //createNewPickUpLineList = pickupLineService.createPickupLineV2(newPickupLineList, loginUserID);\r\n                createNewPickUpLineList = pickupLineService\r\n                        .createPickupLineNonCBMPickListCancellationV2(newPickupLineList, loginUserID);\r\n                log.info(\"CreatedPickUpLine List : \" + createNewPickUpLineList);\r\n            }\r\n        }\r\n\r\n        //Quality Line Creation\r\n        if (qualityLineV2 != null && !qualityLineV2.isEmpty()) {\r\n            List<QualityHeaderV2> newQualityHeaderList = qualityHeaderService.getQualityHeaderForPickListCancellationV2(\r\n                    companyCodeId, plantId, languageId, warehouseId, newPickListNumber, newPreOutboundNo);\r\n            log.info(\"NewQualityHeaderList: \" + newQualityHeaderList);\r\n\r\n            List<AddQualityLineV2> newQualityLineList = new ArrayList<>();\r\n            if (newQualityHeaderList != null && !newQualityHeaderList.isEmpty()) {\r\n                for (QualityHeaderV2 qualityHeader : newQualityHeaderList) {\r\n                    List<QualityLineV2> qualityLinePresent = qualityLineV2.stream()\r\n                            .filter(n -> n.getItemCode().equalsIgnoreCase(qualityHeader.getReferenceField4())\r\n                                    && n.getManufacturerName().equalsIgnoreCase(qualityHeader.getManufacturerName()))\r\n                            .collect(Collectors.toList());\r\n                    log.info(\"Quality Line Present for that itemCode and MFR_Name: \" + qualityLinePresent);\r\n\r\n                    if (qualityLinePresent != null && !qualityLinePresent.isEmpty()) {\r\n                        AddQualityLineV2 newQualityLine = new AddQualityLineV2();\r\n                        BeanUtils.copyProperties(qualityHeader, newQualityLine, CommonUtils.getNullPropertyNames(qualityHeader));\r\n\r\n                        Double oldPickConfirmQty = qualityLinePresent.get(0).getPickConfirmQty();\r\n                        Double newPickConfirmQty = Double.valueOf(qualityHeader.getQcToQty());\r\n                        if (oldPickConfirmQty < newPickConfirmQty) {\r\n                            // Double pickConfirmQty = newPickConfirmQty - oldPickConfirmQty;\r\n                            newQualityLine.setPickConfirmQty(oldPickConfirmQty);\r\n                            newQualityLine.setQualityQty(Double.valueOf(oldPickConfirmQty));\r\n                        }\r\n                        if (oldPickConfirmQty >= newPickConfirmQty) {\r\n                            newQualityLine.setPickConfirmQty(Double.valueOf(newPickConfirmQty));\r\n                            newQualityLine.setQualityQty(Double.valueOf(newPickConfirmQty));\r\n                        }\r\n\r\n                        newQualityLine.setDescription(qualityHeader.getReferenceField3());\r\n                        newQualityLine.setItemCode(qualityHeader.getReferenceField4());\r\n                        newQualityLine.setManufacturerName(qualityHeader.getManufacturerName());\r\n                        newQualityLine.setPickPackBarCode(qualityHeader.getReferenceField2());\r\n                        newQualityLine.setQualityInspectionNo(qualityHeader.getQualityInspectionNo());\r\n                        if (qualityHeader.getReferenceField5() != null) {\r\n                            newQualityLine.setLineNumber(Long.valueOf(qualityHeader.getReferenceField5()));\r\n                        }\r\n                        newQualityLineList.add(newQualityLine);\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (newQualityLineList != null && !newQualityLineList.isEmpty()) {\r\n                List<QualityLineV2> createNewQualityLineList = qualityLineService\r\n                        .createQualityLineV2(newQualityLineList, loginUserID);\r\n                log.info(\"Created Quality Line List : \" + createNewQualityLineList);\r\n            }\r\n        }\r\n\r\n        log.info(\"Pick List Cancellation Completed: \" + pickListCancellation.getOldRefDocNumber());\r\n        log.info(\"Stored procedure call to update cnf_by in pickup line, qc header and line : \" + oldPickListNumber\r\n                + \", \" + outboundHeaderV2.getPreOutboundNo() + \", \" + newPickListNumber + \", \" + newPreOutboundNo + \", \"\r\n                + outboundHeaderV2.getSalesOrderNumber());\r\n\r\n        pickListHeaderRepository.updatePickupLineQualityHeaderLineCnfByUpdateProc(companyCodeId, plantId, languageId,\r\n                warehouseId, pickListCancellation.getOldRefDocNumber(), outboundHeaderV2.getPreOutboundNo(), pickListCancellation.getNewRefDocNumber(),\r\n                newPreOutboundNo, outboundHeaderV2.getSalesOrderNumber());\r\n        log.info(\"SP update done\");\r\n\r\n        insertNewPickListCancelRecord(outboundHeaderV2, outboundLineV2, pickupLineV2, createNewPickUpLineList,\r\n                orderManagementLine, companyCodeId, plantId, languageId, warehouseId, oldPickListNumber,\r\n                newPickListNumber);\r\n    }\r\n\r\n    /**\r\n     * insertNewPickListCancelRecord\r\n     *\r\n     * @param outboundHeaderV2\r\n     * @param outboundLineV2List\r\n     * @param oldPickupLineList\r\n     * @param newPickupLineList\r\n     * @param orderManagementLineList\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param oldPickListNumber\r\n     * @param newPickListNumber\r\n     */\r\n    private void insertNewPickListCancelRecord(OutboundHeaderV2 outboundHeaderV2, List<OutboundLineV2> outboundLineV2List, List<PickupLineV2> oldPickupLineList,\r\n                                               List<PickupLineV2> newPickupLineList, List<OrderManagementLineV2> orderManagementLineList,\r\n                                               String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                               String oldPickListNumber, String newPickListNumber) {\r\n        log.info(\"Insert Record for PickList Cancellation Started\");\r\n        String loginUserID = null;\r\n        Long oldObLineCount = 0L;\r\n        Long newObLineCount = 0L;\r\n        Long oldPickLineCount = 0L;\r\n        Long newPickLineCount = 0L;\r\n        if (outboundLineV2List != null && !outboundLineV2List.isEmpty()) { // old OrderLines Count\r\n            oldObLineCount = outboundLineV2List.stream().count();\r\n        }\r\n\r\n        if (oldPickupLineList != null && !oldPickupLineList.isEmpty()) { // old PickedLines Count\r\n            oldPickLineCount = oldPickupLineList.stream().count();\r\n        }\r\n\r\n        List<OutboundLineV2> newOutboundLineList = outboundLineService.getOutboundLineV2(companyCodeId, plantId,\r\n                languageId, warehouseId, newPickListNumber); // Fetch New OrderLines\r\n        if (newOutboundLineList != null && !newOutboundLineList.isEmpty()) { // new OrderLines Count\r\n            newObLineCount = newOutboundLineList.stream().count();\r\n        }\r\n\r\n        if (newPickupLineList != null && !newPickupLineList.isEmpty()) { // new PickedLines Count\r\n            newPickLineCount = newPickupLineList.stream().count();\r\n        }\r\n\r\n        if (outboundHeaderV2 != null) {\r\n            loginUserID = outboundHeaderV2.getCreatedBy();\r\n            PickListHeader pickListHeader = new PickListHeader();\r\n            BeanUtils.copyProperties(outboundHeaderV2, pickListHeader,\r\n                    CommonUtils.getNullPropertyNames(outboundHeaderV2));\r\n            OutboundHeaderV2 newOutboundHeader = outboundHeaderService.getOutboundHeaderV2(companyCodeId, plantId,\r\n                    languageId, newPickListNumber, warehouseId); // Fetch New Order Details - Header\r\n            if (newOutboundHeader != null) {\r\n                loginUserID = newOutboundHeader.getCreatedBy();\r\n                pickListHeader.setOldPreOutboundNo(outboundHeaderV2.getPreOutboundNo());\r\n                pickListHeader.setOldRefDocNumber(outboundHeaderV2.getRefDocNumber());\r\n                pickListHeader.setOldPickListNumber(oldPickListNumber);\r\n                pickListHeader.setOldCustomerId(outboundHeaderV2.getCustomerId());\r\n                pickListHeader.setOldCustomerName(outboundHeaderV2.getCustomerName());\r\n                pickListHeader.setOldInvoiceDate(outboundHeaderV2.getInvoiceDate());\r\n                pickListHeader.setOldInvoiceNumber(outboundHeaderV2.getInvoiceNumber());\r\n                pickListHeader.setOldSalesInvoiceNumber(outboundHeaderV2.getSalesInvoiceNumber());\r\n                pickListHeader.setOldSupplierInvoiceNo(outboundHeaderV2.getSupplierInvoiceNo());\r\n                pickListHeader.setOldSalesOrderNumber(outboundHeaderV2.getSalesOrderNumber());\r\n                pickListHeader.setOldTokenNumber(outboundHeaderV2.getTokenNumber());\r\n                pickListHeader.setOldCountOfOrderedLine(oldObLineCount);\r\n                pickListHeader.setOldCountOfPickedLine(oldPickLineCount);\r\n                pickListHeader.setOldStatusId(outboundHeaderV2.getStatusId());\r\n                pickListHeader.setOldStatusDescription(outboundHeaderV2.getStatusDescription());\r\n\r\n                pickListHeader.setNewPreOutboundNo(newOutboundHeader.getPreOutboundNo());\r\n                pickListHeader.setNewRefDocNumber(newOutboundHeader.getRefDocNumber());\r\n                pickListHeader.setNewPickListNumber(newOutboundHeader.getPickListNumber());\r\n                pickListHeader.setNewCustomerId(newOutboundHeader.getCustomerId());\r\n                pickListHeader.setNewCustomerName(newOutboundHeader.getCustomerName());\r\n                pickListHeader.setNewInvoiceDate(newOutboundHeader.getInvoiceDate());\r\n                pickListHeader.setNewInvoiceNumber(newOutboundHeader.getInvoiceNumber());\r\n                pickListHeader.setNewSalesInvoiceNumber(newOutboundHeader.getSalesInvoiceNumber());\r\n                pickListHeader.setNewSupplierInvoiceNo(newOutboundHeader.getSupplierInvoiceNo());\r\n                pickListHeader.setNewSalesOrderNumber(newOutboundHeader.getSalesOrderNumber());\r\n                pickListHeader.setNewTokenNumber(newOutboundHeader.getTokenNumber());\r\n                pickListHeader.setNewCountOfOrderedLine(newObLineCount);\r\n                pickListHeader.setNewCountOfPickedLine(newPickLineCount);\r\n                pickListHeader.setNewStatusId(newOutboundHeader.getStatusId());\r\n                pickListHeader.setNewStatusDescription(newOutboundHeader.getStatusDescription());\r\n                pickListHeader.setPickListCancelHeaderId(System.currentTimeMillis());\r\n            }\r\n\r\n            List<PickListLine> createPickListLineList = new ArrayList<>();\r\n            List<String> createdItmMfrNameList = new ArrayList<>();\r\n            List<String> oldItmMfrNameList = new ArrayList<>();\r\n            List<String> newItmMfrNameList = new ArrayList<>();\r\n            List<String> filterOldList = new ArrayList<>();\r\n            List<String> filterNewList = new ArrayList<>();\r\n            List<String> createdItmMfrNameList2 = new ArrayList<>();\r\n            List<String> oldItmMfrNameList2 = new ArrayList<>();\r\n            List<String> newItmMfrNameList2 = new ArrayList<>();\r\n            List<String> filterOldList2 = new ArrayList<>();\r\n            List<String> filterNewList2 = new ArrayList<>();\r\n            if (oldPickupLineList != null && !oldPickupLineList.isEmpty()) {\r\n                if (newPickupLineList != null && !newPickupLineList.isEmpty()) {\r\n                    for (PickupLineV2 pickupLineV2 : oldPickupLineList) {\r\n                        for (PickupLineV2 newPickupLineV2 : newPickupLineList) {\r\n                            if (pickupLineV2.getItemCode().equalsIgnoreCase(newPickupLineV2.getItemCode())\r\n                                    && pickupLineV2.getManufacturerName()\r\n                                    .equalsIgnoreCase(newPickupLineV2.getManufacturerName())) {\r\n\r\n                                PickListLine dbPickListLine = new PickListLine();\r\n                                BeanUtils.copyProperties(pickupLineV2, dbPickListLine,\r\n                                        CommonUtils.getNullPropertyNames(pickupLineV2));\r\n\r\n                                dbPickListLine.setOldPreOutboundNo(pickupLineV2.getPreOutboundNo());\r\n                                dbPickListLine.setOldRefDocNumber(pickupLineV2.getRefDocNumber());\r\n                                dbPickListLine.setOldLineNo(pickupLineV2.getLineNumber());\r\n                                dbPickListLine.setOldPickConfirmQty(pickupLineV2.getPickConfirmQty());\r\n                                dbPickListLine.setOldPickedStorageBin(pickupLineV2.getPickedStorageBin());\r\n                                dbPickListLine.setOldOrderQty(pickupLineV2.getPickConfirmQty());\r\n                                dbPickListLine.setOldStatusId(pickupLineV2.getStatusId());\r\n                                dbPickListLine.setOldStatusDescription(pickupLineV2.getStatusDescription());\r\n\r\n                                dbPickListLine.setNewPreOutboundNo(newPickupLineV2.getPreOutboundNo());\r\n                                dbPickListLine.setNewRefDocNumber(newPickupLineV2.getRefDocNumber());\r\n                                dbPickListLine.setNewLineNo(newPickupLineV2.getLineNumber());\r\n                                dbPickListLine.setNewPickConfirmQty(newPickupLineV2.getPickConfirmQty());\r\n                                dbPickListLine.setNewPickedStorageBin(newPickupLineV2.getPickedStorageBin());\r\n                                dbPickListLine.setNewOrderQty(newPickupLineV2.getPickConfirmQty());\r\n                                dbPickListLine.setNewStatusId(newPickupLineV2.getStatusId());\r\n                                dbPickListLine.setNewStatusDescription(newPickupLineV2.getStatusDescription());\r\n\r\n                                dbPickListLine.setDeletionIndicator(0L);\r\n                                dbPickListLine.setCreatedBy(loginUserID);\r\n                                dbPickListLine.setUpdatedBy(loginUserID);\r\n                                dbPickListLine.setCreatedOn(new Date());\r\n                                dbPickListLine.setUpdatedOn(new Date());\r\n                                dbPickListLine.setPickListCancelHeaderId(pickListHeader.getPickListCancelHeaderId());\r\n                                dbPickListLine.setPickListCancelLineId(System.currentTimeMillis());\r\n\r\n                                createPickListLineList.add(dbPickListLine);\r\n                                createdItmMfrNameList\r\n                                        .add(newPickupLineV2.getItemCode() + newPickupLineV2.getManufacturerName());\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    for (PickupLineV2 newPickupLine : newPickupLineList) {\r\n                        newItmMfrNameList.add(newPickupLine.getItemCode() + newPickupLine.getManufacturerName());\r\n                    }\r\n                    log.info(\"NewPickList : \" + newItmMfrNameList);\r\n                    log.info(\"CreatedPickList : \" + createdItmMfrNameList);\r\n\r\n                    if (createdItmMfrNameList != null && !createdItmMfrNameList.isEmpty()) {\r\n                        for (String itmMfrName : createdItmMfrNameList) {\r\n                            boolean newItmPresent = newItmMfrNameList.stream()\r\n                                    .anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n                            if (!newItmPresent) {\r\n                                filterNewList.add(itmMfrName);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (createdItmMfrNameList == null || createdItmMfrNameList.isEmpty()) {\r\n                        filterNewList = newItmMfrNameList;\r\n                    }\r\n                    log.info(\"Filtered NewPickList : \" + filterNewList);\r\n\r\n                    if (filterNewList != null && !filterNewList.isEmpty()) {\r\n                        for (PickupLineV2 newPickupLineV2 : newPickupLineList) {\r\n                            String itmMfrName = newPickupLineV2.getItemCode() + newPickupLineV2.getManufacturerName();\r\n                            boolean itmPresent = filterNewList.stream().anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n                            if (!itmPresent) {\r\n                                PickListLine dbPickListLine = new PickListLine();\r\n                                BeanUtils.copyProperties(newPickupLineV2, dbPickListLine,\r\n                                        CommonUtils.getNullPropertyNames(newPickupLineV2));\r\n                                dbPickListLine.setNewPreOutboundNo(newPickupLineV2.getPreOutboundNo());\r\n                                dbPickListLine.setNewRefDocNumber(newPickupLineV2.getRefDocNumber());\r\n                                dbPickListLine.setNewLineNo(newPickupLineV2.getLineNumber());\r\n                                dbPickListLine.setNewPickConfirmQty(newPickupLineV2.getPickConfirmQty());\r\n                                dbPickListLine.setNewPickedStorageBin(newPickupLineV2.getPickedStorageBin());\r\n                                dbPickListLine.setNewOrderQty(newPickupLineV2.getPickConfirmQty());\r\n                                dbPickListLine.setNewStatusId(newPickupLineV2.getStatusId());\r\n                                dbPickListLine.setNewStatusDescription(newPickupLineV2.getStatusDescription());\r\n\r\n                                dbPickListLine.setDeletionIndicator(0L);\r\n                                dbPickListLine.setCreatedBy(loginUserID);\r\n                                dbPickListLine.setUpdatedBy(loginUserID);\r\n                                dbPickListLine.setCreatedOn(new Date());\r\n                                dbPickListLine.setUpdatedOn(new Date());\r\n                                dbPickListLine.setPickListCancelHeaderId(pickListHeader.getPickListCancelHeaderId());\r\n                                dbPickListLine.setPickListCancelLineId(System.currentTimeMillis());\r\n                                createPickListLineList.add(dbPickListLine);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                for (PickupLineV2 oldPickupLine : oldPickupLineList) {\r\n                    oldItmMfrNameList.add(oldPickupLine.getItemCode() + oldPickupLine.getManufacturerName());\r\n                }\r\n                log.info(\"OldPickList : \" + oldItmMfrNameList);\r\n\r\n                if (createdItmMfrNameList != null && !createdItmMfrNameList.isEmpty()) {\r\n                    for (String itmMfrName : createdItmMfrNameList) {\r\n                        boolean oldItmPresent = oldItmMfrNameList.stream()\r\n                                .anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n                        if (!oldItmPresent) {\r\n                            filterOldList.add(itmMfrName);\r\n                        }\r\n                    }\r\n                }\r\n                if (createdItmMfrNameList == null || createdItmMfrNameList.isEmpty()) {\r\n                    filterOldList = oldItmMfrNameList;\r\n                }\r\n                log.info(\"Filtered OldPickList : \" + filterOldList);\r\n\r\n                if (filterOldList != null && !filterOldList.isEmpty()) {\r\n                    for (PickupLineV2 oldPickupLineV2 : oldPickupLineList) {\r\n                        String itmMfrName = oldPickupLineV2.getItemCode() + oldPickupLineV2.getManufacturerName()\r\n                                + oldPickupLineV2.getLineNumber();\r\n                        boolean itmPresent = filterOldList.stream().anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n                        if (!itmPresent) {\r\n                            PickListLine dbPickListLine = new PickListLine();\r\n                            BeanUtils.copyProperties(oldPickupLineV2, dbPickListLine,\r\n                                    CommonUtils.getNullPropertyNames(oldPickupLineV2));\r\n                            dbPickListLine.setOldPreOutboundNo(oldPickupLineV2.getPreOutboundNo());\r\n                            dbPickListLine.setOldRefDocNumber(oldPickupLineV2.getRefDocNumber());\r\n                            dbPickListLine.setOldLineNo(oldPickupLineV2.getLineNumber());\r\n                            dbPickListLine.setOldPickConfirmQty(oldPickupLineV2.getPickConfirmQty());\r\n                            dbPickListLine.setOldPickedStorageBin(oldPickupLineV2.getPickedStorageBin());\r\n                            dbPickListLine.setOldOrderQty(oldPickupLineV2.getPickConfirmQty());\r\n                            dbPickListLine.setOldStatusId(oldPickupLineV2.getStatusId());\r\n                            dbPickListLine.setOldStatusDescription(oldPickupLineV2.getStatusDescription());\r\n\r\n                            dbPickListLine.setDeletionIndicator(0L);\r\n                            dbPickListLine.setCreatedBy(loginUserID);\r\n                            dbPickListLine.setUpdatedBy(loginUserID);\r\n                            dbPickListLine.setCreatedOn(new Date());\r\n                            dbPickListLine.setUpdatedOn(new Date());\r\n                            dbPickListLine.setPickListCancelHeaderId(pickListHeader.getPickListCancelHeaderId());\r\n                            dbPickListLine.setPickListCancelLineId(System.currentTimeMillis());\r\n                            createPickListLineList.add(dbPickListLine);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            //If PickupLine is Empty fill the line details from outboundLine and bin from OrderManagementLine\r\n            //if(oldPickupLineList == null || oldPickupLineList.isEmpty()) {\r\n\r\n            List<OrderManagementLineV2> newOrderManagementLineList = orderManagementLineService\r\n                    .getOrderManagementLineForPickListCancellationV2(companyCodeId, plantId, languageId, warehouseId,\r\n                            newPickListNumber);\r\n            List<OrderManagementLineV2> oldOrderManagementLineFilteredList = null;\r\n            List<OrderManagementLineV2> newOrderManagementLineFilteredList = null;\r\n\r\n            if (outboundLineV2List != null && !outboundLineV2List.isEmpty()) {\r\n                if (newOutboundLineList != null && !newOutboundLineList.isEmpty()) {\r\n                    for (OutboundLineV2 outboundLineV2 : outboundLineV2List) {\r\n                        String oldItmMfrName = outboundLineV2.getItemCode() + outboundLineV2.getManufacturerName();\r\n                        log.info(\"oldItmMfrName: \" + oldItmMfrName);\r\n\r\n                        boolean oldItmPresent = oldItmMfrNameList.stream().anyMatch(a -> a.equalsIgnoreCase(oldItmMfrName));\r\n                        if (!oldItmPresent) {\r\n                            oldItmMfrNameList2.add(outboundLineV2.getItemCode() + outboundLineV2.getManufacturerName());\r\n                            for (OutboundLineV2 newOutboundLineV2 : newOutboundLineList) {\r\n                                String newItmMfrName = newOutboundLineV2.getItemCode()\r\n                                        + newOutboundLineV2.getManufacturerName();\r\n                                log.info(\"ItmMfrName: \" + newItmMfrName);\r\n\r\n                                boolean newItmPresent = newItmMfrNameList.stream().anyMatch(a -> a.equalsIgnoreCase(newItmMfrName));\r\n                                if (!newItmPresent) {\r\n                                    if (outboundLineV2.getItemCode().equalsIgnoreCase(newOutboundLineV2.getItemCode())\r\n                                            && outboundLineV2.getManufacturerName()\r\n                                            .equalsIgnoreCase(newOutboundLineV2.getManufacturerName())) {\r\n\r\n                                        // Filter ItemCode, MFR Name and LineNumber - OldPickList\r\n                                        oldOrderManagementLineFilteredList = orderManagementLineList.stream().filter(\r\n                                                        a -> a.getItemCode().equalsIgnoreCase(outboundLineV2.getItemCode())\r\n                                                                && a.getManufacturerName()\r\n                                                                .equalsIgnoreCase(outboundLineV2.getManufacturerName())\r\n                                                                && a.getLineNumber().equals(outboundLineV2.getLineNumber()))\r\n                                                .collect(Collectors.toList());\r\n                                        // Filter ItemCode, MFR Name and LineNumber - NewPickList\r\n                                        newOrderManagementLineFilteredList = newOrderManagementLineList.stream().filter(\r\n                                                        a -> a.getItemCode().equalsIgnoreCase(newOutboundLineV2.getItemCode())\r\n                                                                && a.getManufacturerName().equalsIgnoreCase(\r\n                                                                newOutboundLineV2.getManufacturerName())\r\n                                                                && a.getLineNumber().equals(newOutboundLineV2.getLineNumber()))\r\n                                                .collect(Collectors.toList());\r\n\r\n                                        PickListLine dbPickListLine = new PickListLine();\r\n                                        BeanUtils.copyProperties(outboundLineV2, dbPickListLine,\r\n                                                CommonUtils.getNullPropertyNames(outboundLineV2));\r\n\r\n                                        dbPickListLine.setOldPreOutboundNo(outboundLineV2.getPreOutboundNo());\r\n                                        dbPickListLine.setOldRefDocNumber(outboundLineV2.getRefDocNumber());\r\n                                        dbPickListLine.setOldLineNo(outboundLineV2.getLineNumber());\r\n                                        dbPickListLine.setOldPickConfirmQty(outboundLineV2.getDeliveryQty());\r\n                                        if (oldOrderManagementLineFilteredList != null\r\n                                                && !oldOrderManagementLineFilteredList.isEmpty()) {\r\n                                            dbPickListLine.setOldPickedStorageBin(\r\n                                                    oldOrderManagementLineFilteredList.get(0).getProposedStorageBin());\r\n                                        }\r\n                                        dbPickListLine.setOldOrderQty(outboundLineV2.getOrderQty());\r\n                                        dbPickListLine.setOldStatusId(outboundLineV2.getStatusId());\r\n                                        dbPickListLine.setOldStatusDescription(outboundLineV2.getStatusDescription());\r\n\r\n                                        dbPickListLine.setNewPreOutboundNo(newOutboundLineV2.getPreOutboundNo());\r\n                                        dbPickListLine.setNewRefDocNumber(newOutboundLineV2.getRefDocNumber());\r\n                                        dbPickListLine.setNewLineNo(newOutboundLineV2.getLineNumber());\r\n                                        dbPickListLine.setNewPickConfirmQty(newOutboundLineV2.getDeliveryQty());\r\n                                        if (newOrderManagementLineFilteredList != null\r\n                                                && !newOrderManagementLineFilteredList.isEmpty()) {\r\n                                            dbPickListLine.setNewPickedStorageBin(\r\n                                                    newOrderManagementLineFilteredList.get(0).getProposedStorageBin());\r\n                                        }\r\n                                        dbPickListLine.setNewOrderQty(newOutboundLineV2.getOrderQty());\r\n                                        dbPickListLine.setNewStatusId(newOutboundLineV2.getStatusId());\r\n                                        dbPickListLine\r\n                                                .setNewStatusDescription(newOutboundLineV2.getStatusDescription());\r\n\r\n                                        dbPickListLine.setDeletionIndicator(0L);\r\n                                        dbPickListLine.setCreatedBy(loginUserID);\r\n                                        dbPickListLine.setUpdatedBy(loginUserID);\r\n                                        dbPickListLine.setCreatedOn(new Date());\r\n                                        dbPickListLine.setUpdatedOn(new Date());\r\n                                        dbPickListLine\r\n                                                .setPickListCancelHeaderId(pickListHeader.getPickListCancelHeaderId());\r\n                                        dbPickListLine.setPickListCancelLineId(System.currentTimeMillis());\r\n\r\n                                        createPickListLineList.add(dbPickListLine);\r\n                                        createdItmMfrNameList2.add(newOutboundLineV2.getItemCode()\r\n                                                + newOutboundLineV2.getManufacturerName());\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    for (OutboundLineV2 newOutboundLineV2 : newOutboundLineList) {\r\n                        String newItmMfrName = newOutboundLineV2.getItemCode()\r\n                                + newOutboundLineV2.getManufacturerName();\r\n                        log.info(\"ItmMfrName: \" + newItmMfrName);\r\n                        boolean newItmPresent = newItmMfrNameList.stream()\r\n                                .anyMatch(a -> a.equalsIgnoreCase(newItmMfrName));\r\n                        if (!newItmPresent) {\r\n                            newItmMfrNameList2\r\n                                    .add(newOutboundLineV2.getItemCode() + newOutboundLineV2.getManufacturerName());\r\n                        }\r\n                    }\r\n\r\n                    log.info(\"OldPickList2 : \" + oldItmMfrNameList2);\r\n                    log.info(\"NewPickList2 : \" + newItmMfrNameList2);\r\n                    log.info(\"CreatedPickList2 : \" + createdItmMfrNameList2);\r\n                    if (createdItmMfrNameList2 != null && !createdItmMfrNameList2.isEmpty()) {\r\n                        for (String itmMfrName : createdItmMfrNameList2) {\r\n                            boolean oldItmPresent2 = oldItmMfrNameList2.stream()\r\n                                    .anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n                            boolean newItmPresent2 = newItmMfrNameList2.stream()\r\n                                    .anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n                            if (!oldItmPresent2) {\r\n                                filterOldList2.add(itmMfrName);\r\n                            }\r\n                            if (!newItmPresent2) {\r\n                                filterNewList2.add(itmMfrName);\r\n                            }\r\n                        }\r\n                    }\r\n                    if (createdItmMfrNameList2 == null || createdItmMfrNameList2.isEmpty()) {\r\n                        filterOldList2 = oldItmMfrNameList2;\r\n                        filterNewList2 = newItmMfrNameList2;\r\n                    }\r\n\r\n                    log.info(\"Filtered OldPickList2 : \" + filterOldList2);\r\n                    log.info(\"Filtered NewPickList2 : \" + filterNewList2);\r\n                    if (filterNewList2 != null && !filterNewList2.isEmpty()) {\r\n                        for (OutboundLineV2 newOutboundLineV2 : newOutboundLineList) {\r\n                            String itmMfrName = newOutboundLineV2.getItemCode()\r\n                                    + newOutboundLineV2.getManufacturerName();\r\n                            boolean itmPresent = filterNewList2.stream().anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n                            if (!itmPresent) {\r\n\r\n                                // Filter ItemCode, MFR Name and LineNumber - NewPickList\r\n                                newOrderManagementLineFilteredList = newOrderManagementLineList.stream()\r\n                                        .filter(a -> a.getItemCode().equalsIgnoreCase(newOutboundLineV2.getItemCode())\r\n                                                && a.getManufacturerName()\r\n                                                .equalsIgnoreCase(newOutboundLineV2.getManufacturerName())\r\n                                                && a.getLineNumber().equals(newOutboundLineV2.getLineNumber()))\r\n                                        .collect(Collectors.toList());\r\n\r\n                                PickListLine dbPickListLine = new PickListLine();\r\n                                BeanUtils.copyProperties(newOutboundLineV2, dbPickListLine,\r\n                                        CommonUtils.getNullPropertyNames(newOutboundLineV2));\r\n                                dbPickListLine.setNewPreOutboundNo(newOutboundLineV2.getPreOutboundNo());\r\n                                dbPickListLine.setNewRefDocNumber(newOutboundLineV2.getRefDocNumber());\r\n                                dbPickListLine.setNewLineNo(newOutboundLineV2.getLineNumber());\r\n                                dbPickListLine.setNewPickConfirmQty(newOutboundLineV2.getDeliveryQty());\r\n                                if (newOrderManagementLineFilteredList != null\r\n                                        && !newOrderManagementLineFilteredList.isEmpty()) {\r\n                                    dbPickListLine.setNewPickedStorageBin(\r\n                                            newOrderManagementLineFilteredList.get(0).getProposedStorageBin());\r\n                                }\r\n                                dbPickListLine.setNewOrderQty(newOutboundLineV2.getOrderQty());\r\n                                dbPickListLine.setNewStatusId(newOutboundLineV2.getStatusId());\r\n                                dbPickListLine.setNewStatusDescription(newOutboundLineV2.getStatusDescription());\r\n\r\n                                dbPickListLine.setDeletionIndicator(0L);\r\n                                dbPickListLine.setCreatedBy(loginUserID);\r\n                                dbPickListLine.setUpdatedBy(loginUserID);\r\n                                dbPickListLine.setCreatedOn(new Date());\r\n                                dbPickListLine.setUpdatedOn(new Date());\r\n                                dbPickListLine.setPickListCancelHeaderId(pickListHeader.getPickListCancelHeaderId());\r\n                                dbPickListLine.setPickListCancelLineId(System.currentTimeMillis());\r\n                                createPickListLineList.add(dbPickListLine);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n\r\n                if (oldItmMfrNameList2 != null && !oldItmMfrNameList2.isEmpty()) {\r\n                    for (OutboundLineV2 outboundLineV2 : outboundLineV2List) {\r\n                        String itmMfrName = outboundLineV2.getItemCode() + outboundLineV2.getManufacturerName();\r\n                        boolean itmPresent = filterOldList2.stream().anyMatch(a -> a.equalsIgnoreCase(itmMfrName));\r\n\r\n                        if (!itmPresent) {\r\n                            // Filter ItemCode, MFR Name and LineNumber - OldPickList\r\n                            oldOrderManagementLineFilteredList = orderManagementLineList.stream()\r\n                                    .filter(a -> a.getItemCode().equalsIgnoreCase(outboundLineV2.getItemCode())\r\n                                            && a.getManufacturerName()\r\n                                            .equalsIgnoreCase(outboundLineV2.getManufacturerName())\r\n                                            && a.getLineNumber().equals(outboundLineV2.getLineNumber()))\r\n                                    .collect(Collectors.toList());\r\n\r\n                            PickListLine dbPickListLine = new PickListLine();\r\n                            BeanUtils.copyProperties(outboundLineV2, dbPickListLine,\r\n                                    CommonUtils.getNullPropertyNames(outboundLineV2));\r\n                            dbPickListLine.setOldPreOutboundNo(outboundLineV2.getPreOutboundNo());\r\n                            dbPickListLine.setOldRefDocNumber(outboundLineV2.getRefDocNumber());\r\n                            dbPickListLine.setOldLineNo(outboundLineV2.getLineNumber());\r\n                            dbPickListLine.setOldPickConfirmQty(outboundLineV2.getDeliveryQty());\r\n                            if (oldOrderManagementLineFilteredList != null\r\n                                    && !oldOrderManagementLineFilteredList.isEmpty()) {\r\n                                dbPickListLine.setOldPickedStorageBin(\r\n                                        oldOrderManagementLineFilteredList.get(0).getProposedStorageBin());\r\n                            }\r\n                            dbPickListLine.setOldOrderQty(outboundLineV2.getOrderQty());\r\n                            dbPickListLine.setOldStatusId(outboundLineV2.getStatusId());\r\n                            dbPickListLine.setOldStatusDescription(outboundLineV2.getStatusDescription());\r\n\r\n                            dbPickListLine.setDeletionIndicator(0L);\r\n                            dbPickListLine.setCreatedBy(loginUserID);\r\n                            dbPickListLine.setUpdatedBy(loginUserID);\r\n                            dbPickListLine.setCreatedOn(new Date());\r\n                            dbPickListLine.setUpdatedOn(new Date());\r\n                            dbPickListLine.setPickListCancelHeaderId(pickListHeader.getPickListCancelHeaderId());\r\n                            dbPickListLine.setPickListCancelLineId(System.currentTimeMillis());\r\n                            createPickListLineList.add(dbPickListLine);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            log.info(\"PickList Line: \" + createPickListLineList);\r\n            pickListHeader.setLine(createPickListLineList);\r\n            PickListHeader createdPickListHeader = pickListHeaderService.createPickListHeader(pickListHeader, loginUserID);\r\n            log.info(\"Created PicklistHeader : \" + createdPickListHeader);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param outboundIntegrationHeaderList\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n//    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\r\n    @Retryable(value = {Exception.class, CannotAcquireLockException.class, LockAcquisitionException.class, UnexpectedRollbackException.class}, maxAttempts = 2, backoff = @Backoff(delay = 2000))\r\n    public List<OutboundHeaderV2> sapOutboundOrderFullfillment(List<OutboundIntegrationHeaderV2> outboundIntegrationHeaderList) throws Exception {\r\n        log.info(\"---------sapOutboundOrderFullfillment----\" + outboundIntegrationHeaderList);\r\n\r\n        String companyCodeId = outboundIntegrationHeaderList.get(0).getCompanyCode();\r\n        String plantId = outboundIntegrationHeaderList.get(0).getBranchCode();\r\n        String warehouseId = outboundIntegrationHeaderList.get(0).getWarehouseID();\r\n        String languageId = outboundIntegrationHeaderList.get(0).getLanguageId();\r\n        String refDocNumber = outboundIntegrationHeaderList.get(0).getRefDocumentNo();\r\n\r\n        List<OutboundHeaderV2> outboundHeaderV2List = new ArrayList<>();\r\n        String salesOrderNo = getNextRangeNumber(9L, outboundIntegrationHeaderList.get(0).getCompanyCode(), outboundIntegrationHeaderList.get(0).getBranchCode(), outboundIntegrationHeaderList.get(0).getLanguageId(),\r\n                outboundIntegrationHeaderList.get(0).getWarehouseID(), getIDMasterAuthToken());\r\n        log.info(\"SalesOrderNo is -----------------> {} \", salesOrderNo);\r\n\r\n        for(OutboundIntegrationHeaderV2 headerList : outboundIntegrationHeaderList) {\r\n            try {\r\n                log.info(\"---------order----\" + headerList);\r\n                headerList.setSalesOrderNumber(salesOrderNo);\r\n                outboundHeaderV2List.add(fullfillOutboundReceivedV4(headerList));\r\n\r\n                log.info(\"SalesOrder Number Update Process Started ---------> RefDocNo is \" + headerList.getRefDocumentNo());\r\n                updateSalesOrderNumber(companyCodeId, plantId, warehouseId, headerList, salesOrderNo);\r\n                log.info(\"SalesOrder Number Update Process Completed ---------> RefDocNo is \" + headerList.getRefDocumentNo());\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        log.info(\"PickupHeader Validation Started-------------------->\");\r\n        // validatePickupHeaderCreationV2(outboundIntegrationHeaderList.get(0), salesOrderNo, WK);\r\n        validatePickupHeaderCreationV2(companyCodeId, plantId, languageId, warehouseId, refDocNumber, \r\n        \t\toutboundHeaderV2List.get(0).getPreOutboundNo(), outboundHeaderV2List.get(0), MW_AMS);\r\n        return outboundHeaderV2List;\r\n    }\r\n\r\n    @Retryable(value = {CannotAcquireLockException.class,LockAcquisitionException.class,UnexpectedRollbackException.class}, maxAttempts = 2, backoff = @Backoff(delay = 2000))\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public void updateSalesOrderNumber(String companyCodeId, String plantId, String warehouseId, OutboundIntegrationHeaderV2 headerList, String salesOrderNo) {\r\n\r\n        int orderManagementLineCount = orderManagementLineV2Repository.updateSalesOrderNo(companyCodeId, plantId, warehouseId, headerList.getRefDocumentNo(), salesOrderNo);\r\n        int preOutboundHeaderCount = preOutboundHeaderV2Repository.updateSalesOrderNo(companyCodeId, plantId, warehouseId, headerList.getRefDocumentNo(), salesOrderNo);\r\n        int preOutboundLineCount = preOutboundLineV2Repository.updateSalesOrderNo(companyCodeId, plantId, warehouseId, headerList.getRefDocumentNo(), salesOrderNo);\r\n        int outboundOrderCount = outboundOrderV2Repository.updateSalesOrderNo(companyCodeId, plantId, warehouseId, headerList.getRefDocumentNo(), salesOrderNo);\r\n\r\n        if (orderManagementLineCount == 0 || preOutboundHeaderCount == 0 || preOutboundLineCount == 0 || outboundOrderCount == 0) {\r\n            log.warn(\"No rows updated for refDocNo={} (orderManagementLineCount = {}, preOutboundHeaderCount = {} preOutboundLine= {}, outboundOrder= {})\",\r\n                    headerList.getRefDocumentNo(), orderManagementLineCount, preOutboundHeaderCount, preOutboundLineCount, outboundOrderCount);\r\n        }\r\n    }\r\n\r\n\r\n\r\n    /**\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    @Transactional\r\n    public OutboundHeaderV2 fullfillOutboundReceivedV4(OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n        String companyCodeId = null;\r\n        String plantId = null;\r\n        String languageId = null;\r\n        String warehouseId = null;\r\n        String refDocNumber = null;\r\n        String salesOrderNumber = null;\r\n        try {\r\n            salesOrderNumber = outboundIntegrationHeader.getSalesOrderNumber();\r\n            companyCodeId = outboundIntegrationHeader.getCompanyCode();\r\n            plantId = outboundIntegrationHeader.getBranchCode();\r\n            languageId = outboundIntegrationHeader.getLanguageId() != null ? outboundIntegrationHeader.getLanguageId()\r\n                    : LANG_ID;\r\n            warehouseId = outboundIntegrationHeader.getWarehouseID();\r\n            refDocNumber = outboundIntegrationHeader.getRefDocumentNo();\r\n            Long statusId = 39L;\r\n            statusDescription = getStatusDescription(statusId, languageId);\r\n\r\n            log.info(\"Outbound process fullfill Initiated ------> : {}|{}|{}|{}|{}\", companyCodeId, plantId, languageId,\r\n                    warehouseId, refDocNumber);\r\n            WK = \"SAP-ORDER FULLFILLMENT\";\r\n\r\n            // ---------------PreOutboundHeader-----------------------------------------------------------------------------------\r\n            log.info(\"preOutboundHeader inpouts : {},{},{},{},{}\", companyCodeId, plantId, languageId, warehouseId, refDocNumber);\r\n            PreOutboundHeaderV2 createdPreOutboundHeader = preOutboundHeaderService\r\n                    .getPreOutboundHeaderV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber);\r\n            log.info(\"PreOutboundHeader Retrieved : {}\", createdPreOutboundHeader);\r\n\r\n            String preOutboundNo = createdPreOutboundHeader.getPreOutboundNo();\r\n            log.info(\"--------------preOutboundNo--------->{}\", preOutboundNo);\r\n\r\n            outboundIntegrationHeader.setOutboundOrderTypeID(createdPreOutboundHeader.getOutboundOrderTypeId());\r\n            outboundIntegrationHeader.setCustomerId(createdPreOutboundHeader.getCustomerId());\r\n\r\n            OutboundOrderProcess outboundOrderProcess = new OutboundOrderProcess();\r\n\r\n            // ----------------PreOutboundLine-------------------------------------------------------------------------------------\r\n            List<PreOutboundLineV2> createdPreOutboundLineList = preOutboundLineService\r\n                    .getPreOutboundLineV2(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo);\r\n            log.info(\"PreOutboundLine Retrieved---1---> : \" + createdPreOutboundLineList);\r\n            if (createdPreOutboundLineList == null) {\r\n                createdPreOutboundLineList =\r\n                        preOutboundLineService.getPreOutboundLineForFullfillment(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo);\r\n                log.info(\"PreOutboundLine Retrieved---2---> : \" + createdPreOutboundLineList);\r\n            }\r\n\r\n            // ----------------CreateOrderManagementLine----------------------------------------------------------------------------\r\n            boolean fromOrderFullfillment = true;\r\n            createOrderManagementLineFullfillment(companyCodeId, plantId, languageId, warehouseId, outboundIntegrationHeader,\r\n                    createdPreOutboundLineList, WK, fromOrderFullfillment);\r\n\r\n            OutboundHeaderV2 outboundHeader = createOutboundHeaderV2(createdPreOutboundHeader,\r\n                    outboundIntegrationHeader, statusId, statusDescription);\r\n            if (outboundHeader.getPartnerCode() == null) {\r\n                outboundHeader.setPartnerCode(\"STO\");\r\n            }\r\n            log.info(\"outboundHeader Created : {}\", outboundHeader);\r\n\r\n            statusId = 41L;\r\n            statusDescription = getStatusDescription(statusId, languageId);\r\n            OrderManagementHeaderV2 createdOrderManagementHeader = createOrderManagementHeaderV2(\r\n                    createdPreOutboundHeader, statusId, statusDescription, WK);\r\n            log.info(\"OrderMangementHeader Created : {}\", createdOrderManagementHeader);\r\n\r\n            outboundOrderProcess.setOrderManagementHeader(createdOrderManagementHeader);\r\n            outboundOrderProcess.setPreOutboundHeader(createdPreOutboundHeader);\r\n            outboundOrderProcess.setPreOutboundLines(createdPreOutboundLineList);\r\n            outboundOrderProcess.setOutboundIntegrationHeader(outboundIntegrationHeader);\r\n            postOutboundOrder(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber,\r\n                    outboundIntegrationHeader.getOutboundOrderTypeID(), outboundOrderProcess);\r\n\r\n//\t\t\tvalidatePickupHeaderCreationV2(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo,\r\n//\t\t\t\t\toutboundHeader, WK);\r\n            preOutboundHeaderV2Repository.updatePreOutboundHeaderStatusV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, 48L, \"IN PICKING\");\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            // Updating the Processed Status\r\n            log.info(\"Rollback Initiated...!\" + outboundIntegrationHeader.getRefDocumentNo());\r\n            rollback(outboundIntegrationHeader);\r\n            orderService.updateProcessedOrderV2(outboundIntegrationHeader.getRefDocumentNo(), outboundIntegrationHeader.getOutboundOrderTypeID());\r\n            throw e;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * PickList Cancellation\r\n     *\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     */\r\n    private void doProcessPickListUpdate(OutboundIntegrationHeaderV2 outboundIntegrationHeader) {\r\n        if (outboundIntegrationHeader.getOutboundOrderTypeID() == 3) {\r\n            log.info(\"Executing PickList cancellation scenario pre - checkup process\");\r\n            String salesOrderNumber = outboundIntegrationHeader.getSalesOrderNumber();\r\n            String companyCodeId = outboundIntegrationHeader.getCompanyCode();\r\n            String plantId = outboundIntegrationHeader.getBranchCode();\r\n            String warehouseId = outboundIntegrationHeader.getWarehouseID();\r\n            String languageId = outboundIntegrationHeader.getLanguageId();\r\n\r\n            //Check WMS order table\r\n            List<OutboundHeaderV2> outbound =\r\n                    outboundHeaderV2Repository.findByRefDocNumberAndOutboundOrderTypeIdAndDeletionIndicator(outboundIntegrationHeader.getRefDocumentNo(), outboundIntegrationHeader.getOutboundOrderTypeID(), 0L);\r\n            log.info(\"SalesOrderNumber already Exist: ---> PickList Cancellation to be executed \" + salesOrderNumber);\r\n            log.info(\"--outbound----------> \" + outbound);\r\n\r\n            String newSalesOrderNo = outboundIntegrationHeader.getSalesOrderNumber();\r\n            if (outbound != null && !outbound.isEmpty()) {\r\n                List<OutboundHeaderV2> oldSalesOrderNumberList =\r\n                        outbound.stream().filter(n -> !n.getSalesOrderNumber().equalsIgnoreCase(newSalesOrderNo)).collect(Collectors.toList());\r\n                log.info(\"Old SalesOrder Number, New SalesOrderNumber: \" + oldSalesOrderNumberList + \", \" + newSalesOrderNo);\r\n\r\n                if (oldSalesOrderNumberList != null && !oldSalesOrderNumberList.isEmpty()) {\r\n                    for (OutboundHeaderV2 oldSalesOrderNumber : oldSalesOrderNumberList) {\r\n                        OutboundHeaderV2 outboundOrderV2 =\r\n                                outboundHeaderV2Repository.findByCompanyCodeIdAndLanguageIdAndPlantIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n                                        companyCodeId, languageId, plantId, warehouseId, oldSalesOrderNumber.getPickListNumber(), oldSalesOrderNumber.getPreOutboundNo(), 0L);\r\n                        log.info(\"Outbound Order status ---> Delivered for old Picklist Number: \" + outboundOrderV2 + \", \" + oldSalesOrderNumber);\r\n\r\n                        if (outboundOrderV2 != null && outboundOrderV2.getInvoiceNumber() != null) {\r\n                            // Update error message for the new PicklistNo\r\n                            throw new BadRequestException(\"Picklist cannot be cancelled as Sales order associated with picklist - Invoice has been raised\");\r\n                        }\r\n\r\n                        boolean recordExists = pickupHeaderV2Repository.existsByCompanyCodeIdAndPlantIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(companyCodeId,\r\n                                plantId, warehouseId, oldSalesOrderNumber.getRefDocNumber(), oldSalesOrderNumber.getPreOutboundNo(), 0L);\r\n                        if (recordExists) {\r\n                            try {\r\n                                outboundIntegrationHeader.setRefDocumentNo(oldSalesOrderNumber.getRefDocNumber());\r\n                                fullfillOutboundReceivedV5(outboundIntegrationHeader);\r\n                            } catch (Exception e) {\r\n                                e.printStackTrace();\r\n                            }\r\n                        } else {\r\n                            // Outbound OrderReProcess\r\n                            outboundOrderProcessCreation(outboundIntegrationHeader);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param oldPickListNumber\r\n     * @param oldPreOutboundNo\r\n     * @param loginUserID\r\n     * @return\r\n     */\r\n    private PickListCancellation pickListCancellation(String companyCodeId, String plantId, String languageId,\r\n                                                      String warehouseId, String oldPickListNumber, String newSalesOrderNo, String oldPreOutboundNo,\r\n                                                      String loginUserID) {\r\n        try {\r\n            log.info(\"PickList Cancellation Initiated---> \" + companyCodeId + \",\" + plantId + \",\" + languageId + \",\"\r\n                    + warehouseId + \",\" + oldPickListNumber + \",\" + oldPreOutboundNo);\r\n            // Delete OutBoundHeader\r\n            OutboundHeaderV2 outboundHeaderV2 = outboundHeaderService.getPLCOutBoundHeader(companyCodeId, plantId,\r\n                    languageId, warehouseId, oldPickListNumber, oldPreOutboundNo);\r\n\r\n            // Delete OutBoundLine\r\n            List<OutboundLineV2> outboundLineV2 = outboundLineService.getPLCOutBoundLine(companyCodeId, plantId,\r\n                    languageId, warehouseId, oldPickListNumber, oldPreOutboundNo);\r\n\r\n            // Delete PreOutboundLine\r\n            List<PreOutboundLineV2> preOutboundLineV2List = preOutboundLineService.getPLCPreOutBoundLine(companyCodeId,\r\n                    plantId, languageId, warehouseId, oldPickListNumber, oldPreOutboundNo);\r\n\r\n            // DeleteOrderManagementLine\r\n            List<OrderManagementLineV2> orderManagementLine = orderManagementLineService.getPLCOrderManagementLineV2(\r\n                    companyCodeId, plantId, languageId, warehouseId, oldPickListNumber, oldPreOutboundNo);\r\n\r\n            // Delete PickUpLine\r\n            List<PickupLineV2> pickupLineV2 = pickupLineService.getPLCPickUpLine(companyCodeId, plantId, languageId,\r\n                    warehouseId, oldPickListNumber, oldPreOutboundNo);\r\n\r\n            // Quality Line\r\n            List<QualityLineV2> qualityLineV2 = qualityLineService.getPLCQualityLine(companyCodeId, plantId, languageId,\r\n                    warehouseId, oldPickListNumber, oldPreOutboundNo);\r\n\r\n            List<String> pickuplineItemCodeMfrNameList = new ArrayList<>();\r\n            List<String> pickuplineLineNoItemCodeMfrNameList = new ArrayList<>();\r\n            if (pickupLineV2 != null && !pickupLineV2.isEmpty()) {\r\n                for (PickupLineV2 pickupLine : pickupLineV2) {\r\n                    pickuplineItemCodeMfrNameList.add(pickupLine.getItemCode() + pickupLine.getManufacturerName());\r\n                    InventoryV2 inventory = inventoryService.getInventoryV2(pickupLine.getCompanyCodeId(),\r\n                            pickupLine.getPlantId(), pickupLine.getLanguageId(), pickupLine.getWarehouseId(),\r\n                            pickupLine.getPickedPackCode(), pickupLine.getItemCode(), pickupLine.getPickedStorageBin(),\r\n                            pickupLine.getManufacturerName());\r\n\r\n                    List<PickupLineV2> filteredList = pickupLineV2.stream()\r\n                            .filter(a -> a.getItemCode().equalsIgnoreCase(pickupLine.getItemCode())\r\n                                    && a.getManufacturerName().equalsIgnoreCase(pickupLine.getManufacturerName())\r\n                                    && a.getLineNumber().equals(pickupLine.getLineNumber()))\r\n                            .collect(Collectors.toList());\r\n                    List<PreOutboundLineV2> filteredPreOutboundLineList = preOutboundLineV2List.stream()\r\n                            .filter(n -> n.getItemCode().equalsIgnoreCase(pickupLine.getItemCode())\r\n                                    && n.getManufacturerName().equalsIgnoreCase(pickupLine.getManufacturerName())\r\n                                    && n.getLineNumber().equals(pickupLine.getLineNumber()))\r\n                            .collect(Collectors.toList());\r\n\r\n                    Double PICK_CNF_QTY = 0D;\r\n                    Double ORD_QTY = 0D;\r\n                    if (filteredList != null && !filteredList.isEmpty()) {\r\n                        PICK_CNF_QTY = filteredList.stream().mapToDouble(a -> a.getPickConfirmQty()).sum();\r\n                    }\r\n                    if (filteredPreOutboundLineList != null && !filteredPreOutboundLineList.isEmpty()) {\r\n                        ORD_QTY = filteredPreOutboundLineList.stream().mapToDouble(n -> n.getOrderQty()).sum();\r\n                    }\r\n\r\n                    boolean equalQty = PICK_CNF_QTY.equals(ORD_QTY);\r\n                    log.info(\"PICK_CNF_QTY, ORD_TY, EqualQty Condition: \" + PICK_CNF_QTY + \", \" + ORD_QTY + \", \"\r\n                            + equalQty);\r\n                    if (equalQty) {\r\n                        if (inventory != null) {\r\n                            Double INV_QTY = (inventory.getInventoryQuantity() != null\r\n                                    ? inventory.getInventoryQuantity()\r\n                                    : 0)\r\n                                    + (pickupLine.getPickConfirmQty() != null ? pickupLine.getPickConfirmQty() : 0);\r\n                            if (INV_QTY < 0) {\r\n                                log.info(\"inventory qty calculated is less than 0: \" + INV_QTY);\r\n                                INV_QTY = 0D;\r\n                            }\r\n                            inventory.setInventoryQuantity(INV_QTY);\r\n                            Double ALLOC_QTY = 0D;\r\n                            if (inventory.getAllocatedQuantity() != null) {\r\n                                ALLOC_QTY = inventory.getAllocatedQuantity();\r\n                            }\r\n                            Double TOT_QTY = INV_QTY + ALLOC_QTY;\r\n                            inventory.setReferenceField4(TOT_QTY); // Total Qty\r\n\r\n                            InventoryV2 newInventoryV2 = new InventoryV2();\r\n                            BeanUtils.copyProperties(inventory, newInventoryV2,\r\n                                    CommonUtils.getNullPropertyNames(inventory));\r\n                            newInventoryV2.setUpdatedOn(new Date());\r\n                            newInventoryV2.setInventoryId(Long.valueOf(System.currentTimeMillis() + \"\" + 6));\r\n                            InventoryV2 updateInventoryV2 = inventoryV2Repository.save(newInventoryV2);\r\n                            log.info(\"InventoryV2 created : \" + updateInventoryV2);\r\n                        }\r\n                    }\r\n\r\n                    if (!equalQty) {\r\n                        String itmMfrNameLineNo = pickupLine.getItemCode() + pickupLine.getManufacturerName()\r\n                                + pickupLine.getLineNumber();\r\n                        List<String> filterList = pickuplineLineNoItemCodeMfrNameList.stream()\r\n                                .filter(a -> a.equalsIgnoreCase(itmMfrNameLineNo)).collect(Collectors.toList());\r\n                        if (filterList.size() == 0) {\r\n                            if (inventory != null) {\r\n                                Double INV_QTY = (inventory.getInventoryQuantity() != null\r\n                                        ? inventory.getInventoryQuantity()\r\n                                        : 0) + ORD_QTY;\r\n                                if (INV_QTY < 0) {\r\n                                    log.info(\"inventory qty calculated is less than 0: \" + INV_QTY);\r\n                                    INV_QTY = 0D;\r\n                                }\r\n                                inventory.setInventoryQuantity(INV_QTY);\r\n                                Double ALLOC_QTY = 0D;\r\n                                if (inventory.getAllocatedQuantity() != null) {\r\n                                    ALLOC_QTY = inventory.getAllocatedQuantity() - (ORD_QTY - PICK_CNF_QTY);\r\n                                }\r\n                                if (ALLOC_QTY < 0) {\r\n                                    log.info(\"allocated qty calculated is less than 0: \" + ALLOC_QTY);\r\n                                    ALLOC_QTY = 0D;\r\n                                }\r\n                                Double TOT_QTY = INV_QTY + ALLOC_QTY;\r\n                                inventory.setReferenceField4(TOT_QTY); // Total Qty\r\n\r\n                                InventoryV2 newInventoryV2 = new InventoryV2();\r\n                                BeanUtils.copyProperties(inventory, newInventoryV2,\r\n                                        CommonUtils.getNullPropertyNames(inventory));\r\n                                newInventoryV2.setUpdatedOn(new Date());\r\n                                newInventoryV2.setInventoryId(Long.valueOf(System.currentTimeMillis() + \"\" + 6));\r\n                                InventoryV2 updateInventoryV2 = inventoryV2Repository.save(newInventoryV2);\r\n                                log.info(\"InventoryV2 created : \" + updateInventoryV2);\r\n                            }\r\n                            pickuplineLineNoItemCodeMfrNameList.add(itmMfrNameLineNo);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (orderManagementLine != null && !orderManagementLine.isEmpty()) {\r\n                log.info(\"Inventory update for OrderManagementLine\");\r\n                log.info(\"Pickupline ItmCodeMfrName: \" + pickuplineItemCodeMfrNameList);\r\n                for (OrderManagementLineV2 dbOrderManagementLine : orderManagementLine) {\r\n                    if (dbOrderManagementLine.getStatusId() != 47L) {\r\n                        if (dbOrderManagementLine.getProposedStorageBin() == null\r\n                                || dbOrderManagementLine.getProposedStorageBin().equalsIgnoreCase(\"\")) {\r\n                            throw new BadRequestException(\r\n                                    \"OrderManagementLine ProposedStorageBin is Empty, hence inventory cannot be reversed - PickList Cancellation Aborting\");\r\n                        }\r\n                        String itmMfrName = dbOrderManagementLine.getItemCode()\r\n                                + dbOrderManagementLine.getManufacturerName();\r\n                        log.info(\"ItmMfrName: \" + itmMfrName);\r\n                        List<String> itmPresent = pickuplineItemCodeMfrNameList.stream()\r\n                                .filter(a -> a.equalsIgnoreCase(itmMfrName)).collect(Collectors.toList());\r\n                        log.info(\"itmPresent: \" + itmPresent);\r\n                        if (itmPresent.size() == 0) {\r\n                            InventoryV2 inventory = inventoryService.getInventoryV2(\r\n                                    dbOrderManagementLine.getCompanyCodeId(), dbOrderManagementLine.getPlantId(),\r\n                                    dbOrderManagementLine.getLanguageId(), dbOrderManagementLine.getWarehouseId(),\r\n                                    dbOrderManagementLine.getProposedPackBarCode(), dbOrderManagementLine.getItemCode(),\r\n                                    dbOrderManagementLine.getProposedStorageBin(),\r\n                                    dbOrderManagementLine.getManufacturerName());\r\n\r\n                            if (inventory != null) {\r\n                                Double INV_QTY = (inventory.getInventoryQuantity() != null\r\n                                        ? inventory.getInventoryQuantity()\r\n                                        : 0)\r\n                                        + (dbOrderManagementLine.getAllocatedQty() != null\r\n                                        ? dbOrderManagementLine.getAllocatedQty()\r\n                                        : 0);\r\n                                if (INV_QTY < 0) {\r\n                                    log.info(\"inventory qty calculated is less than 0: \" + INV_QTY);\r\n                                    INV_QTY = 0D;\r\n                                }\r\n                                inventory.setInventoryQuantity(INV_QTY);\r\n                                Double ALLOC_QTY = (inventory.getAllocatedQuantity() != null\r\n                                        ? inventory.getAllocatedQuantity()\r\n                                        : 0)\r\n                                        - (dbOrderManagementLine.getAllocatedQty() != null\r\n                                        ? dbOrderManagementLine.getAllocatedQty()\r\n                                        : 0);\r\n                                if (ALLOC_QTY < 0) {\r\n                                    ALLOC_QTY = 0D;\r\n                                }\r\n                                Double TOT_QTY = INV_QTY + ALLOC_QTY;\r\n                                inventory.setAllocatedQuantity(ALLOC_QTY);\r\n                                inventory.setReferenceField4(TOT_QTY); // Total Qty\r\n\r\n                                InventoryV2 newInventoryV2 = new InventoryV2();\r\n                                BeanUtils.copyProperties(inventory, newInventoryV2,\r\n                                        CommonUtils.getNullPropertyNames(inventory));\r\n                                newInventoryV2.setUpdatedOn(new Date());\r\n                                newInventoryV2.setInventoryId(Long.valueOf(System.currentTimeMillis() + \"\" + 6));\r\n                                InventoryV2 updateInventoryV2 = inventoryV2Repository.save(newInventoryV2);\r\n                                log.info(\"InventoryV2 created : \" + updateInventoryV2);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            PickListCancellation pickListCancellation = new PickListCancellation();\r\n            if (pickupLineV2 != null && !pickupLineV2.isEmpty()) {\r\n                pickListCancellation.setOldPickupLineList(pickupLineV2);\r\n            }\r\n            if (qualityLineV2 != null && !qualityLineV2.isEmpty()) {\r\n                pickListCancellation.setOldQualityLineList(qualityLineV2);\r\n            }\r\n            if (outboundHeaderV2 != null) {\r\n                pickListCancellation.setOldOutboundHeader(outboundHeaderV2);\r\n            }\r\n            if (outboundLineV2 != null && !outboundLineV2.isEmpty()) {\r\n                pickListCancellation.setOldOutboundLineList(outboundLineV2);\r\n            }\r\n            if (orderManagementLine != null && !orderManagementLine.isEmpty()) {\r\n                pickListCancellation.setOldOrderManagementLineList(orderManagementLine);\r\n            }\r\n            pickListCancellation.setNewSalesOrderNumber(newSalesOrderNo);\r\n\r\n            //Stored procedure to update deletionIndicator Flag\r\n            pickListHeaderRepository.updateDeletionIndicatorPickListCancellationProc(companyCodeId, plantId, languageId,\r\n                    warehouseId, oldPickListNumber, oldPreOutboundNo, loginUserID, new Date());\r\n            log.info(\"Pick List cancellation - stored procedure update - deletion indicator finished processing\");\r\n            return pickListCancellation;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw new BadRequestException(\"Exception : \" + e);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param customerId\r\n     * @param salesOrderNumber\r\n     * @param outboundOrderTypeId\r\n     * @param idMasterAuthToken\r\n     * @return\r\n     */\r\n    private String getPreOutboundNo(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                    String customerId, String salesOrderNumber, Long outboundOrderTypeId, String idMasterAuthToken) {\r\n        Optional<PreOutboundHeaderV2> orderProcessedStatus =\r\n                preOutboundHeaderV2Repository.findTopBySalesOrderNumberAndOutboundOrderTypeIdAndCustomerIdAndDeletionIndicator(salesOrderNumber, outboundOrderTypeId, customerId, 0L);\r\n        if (orderProcessedStatus.isPresent()) {\r\n            log.info(\"------preOutboundNo---------existing----one---> \" + orderProcessedStatus.get().getPreOutboundNo());\r\n            return orderProcessedStatus.get().getPreOutboundNo();\r\n        } else {\r\n            // Getting PreOutboundNo from NumberRangeTable\r\n            return getNextRangeNumber(9L, companyCodeId, plantId, languageId, warehouseId, idMasterAuthToken);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param manufacturerName\r\n     * @return\r\n     */\r\n    private String getItemDescription(String companyCodeId, String plantId, String languageId, String warehouseId, String itemCode, String manufacturerName) {\r\n        ImBasicData1V2 imBasicData1 = imBasicData1V2Repository.findByLanguageIdAndCompanyCodeIdAndPlantIdAndWarehouseIdAndItemCodeAndManufacturerPartNoAndDeletionIndicator(\r\n                languageId, companyCodeId, plantId, warehouseId, itemCode.trim(), manufacturerName, 0L);\r\n        return imBasicData1 != null ? imBasicData1.getDescription() : null;\r\n    }\r\n\r\n    /**\r\n     * @param createdPreOutboundHeader\r\n     * @param loginUserId\r\n     * @return\r\n     */\r\n    private OrderManagementHeaderV2 createOrderManagementHeaderV2(PreOutboundHeaderV2 createdPreOutboundHeader, Long statusId, String statusDesc, String loginUserId) throws Exception {\r\n        try {\r\n            OrderManagementHeaderV2 newOrderManagementHeader = new OrderManagementHeaderV2();\r\n            BeanUtils.copyProperties(createdPreOutboundHeader, newOrderManagementHeader, CommonUtils.getNullPropertyNames(createdPreOutboundHeader));\r\n            newOrderManagementHeader.setStatusId(statusId);\r\n            newOrderManagementHeader.setStatusDescription(statusDesc);\r\n            newOrderManagementHeader.setPickupCreatedBy(loginUserId);\r\n            newOrderManagementHeader.setPickupCreatedOn(new Date());\r\n            newOrderManagementHeader.setDeletionIndicator(0L);\r\n\r\n            //Deleting orderManagementHeader\r\n            orderManagementHeaderV2Repository.delete(newOrderManagementHeader);\r\n            orderManagementHeaderV2Repository.saveAndFlush(newOrderManagementHeader);\r\n            log.info(\"OrderManagement Header Saved.\");\r\n\r\n            // Order_Text_Update\r\n            String text = \"OrderManagement Created\";\r\n            outboundOrderV2Repository.updateOrderManagementText(newOrderManagementHeader.getOutboundOrderTypeId(), newOrderManagementHeader.getRefDocNumber(), text);\r\n            log.info(\"OrderManagement Header Status Updated Successfully\");\r\n            return newOrderManagementHeader;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while creating OrderManagementHeader : \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param createdPreOutboundHeader\r\n     * @param loginUserId\r\n     * @return\r\n     */\r\n    private OrderManagementHeaderV2 createOrderManagementHeaderV3(PreOutboundHeaderV2 createdPreOutboundHeader, Long statusId, String statusDesc, String loginUserId) throws Exception {\r\n        try {\r\n            OrderManagementHeaderV2 newOrderManagementHeader = new OrderManagementHeaderV2();\r\n            BeanUtils.copyProperties(createdPreOutboundHeader, newOrderManagementHeader, CommonUtils.getNullPropertyNames(createdPreOutboundHeader));\r\n            newOrderManagementHeader.setStatusId(statusId);\r\n            newOrderManagementHeader.setStatusDescription(statusDesc);\r\n            newOrderManagementHeader.setPickupCreatedBy(loginUserId);\r\n            newOrderManagementHeader.setPickupCreatedOn(new Date());\r\n            // Order_Text_Update\r\n            String text = \"OrderManagement Created\";\r\n            outboundOrderV2Repository.updateOrderManagementText(newOrderManagementHeader.getOutboundOrderTypeId(), newOrderManagementHeader.getRefDocNumber(), text);\r\n            log.info(\"OrderManagement Header Status Updated Successfully\");\r\n            return newOrderManagementHeader;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while creating OrderManagementHeader : \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param createdPreOutboundHeader\r\n     * @param outboundIntegrationHeader\r\n     * @param statusId\r\n     * @param statusDesc\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private OutboundHeaderV2 createOutboundHeaderV2(PreOutboundHeaderV2 createdPreOutboundHeader, OutboundIntegrationHeaderV2 outboundIntegrationHeader,\r\n                                                    Long statusId, String statusDesc) throws Exception {\r\n        try {\r\n            OutboundHeaderV2 outboundHeader = new OutboundHeaderV2();\r\n            BeanUtils.copyProperties(createdPreOutboundHeader, outboundHeader, CommonUtils.getNullPropertyNames(createdPreOutboundHeader));\r\n            outboundHeader.setRefDocDate(new Date());\r\n            outboundHeader.setStatusId(statusId);\r\n            outboundHeader.setStatusDescription(statusDesc);\r\n            outboundHeader.setSalesOrderNumber(outboundIntegrationHeader.getSalesOrderNumber());\r\n            outboundHeader.setInvoiceDate(outboundIntegrationHeader.getRequiredDeliveryDate());\r\n            outboundHeader.setDeletionIndicator(0L);\r\n\r\n            if (createdPreOutboundHeader.getCustomerId() == null) {\r\n                outboundHeader.setPartnerCode(\"STO\");\r\n            }\r\n\r\n            if (outboundHeader.getOutboundOrderTypeId() == 3L) {\r\n                outboundHeader.setCustomerType(\"INVOICE\");\r\n            }\r\n            if (outboundHeader.getOutboundOrderTypeId() == 0L || outboundHeader.getOutboundOrderTypeId() == 1L) {\r\n                outboundHeader.setCustomerType(\"TRANSVERSE\");\r\n            }\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While OutboundHeader create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param createdPreOutboundHeader\r\n     * @param outboundIntegrationHeader\r\n     * @param statusId\r\n     * @param statusDesc\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private OutboundHeaderV2 createOutboundHeaderV3(PreOutboundHeaderV2 createdPreOutboundHeader,\r\n                                                    OutboundIntegrationHeaderV2 outboundIntegrationHeader, Long statusId, String statusDesc) throws Exception {\r\n        try {\r\n            OutboundHeaderV2 outboundHeader = new OutboundHeaderV2();\r\n            BeanUtils.copyProperties(createdPreOutboundHeader, outboundHeader,\r\n                    CommonUtils.getNullPropertyNames(createdPreOutboundHeader));\r\n            outboundHeader.setRefDocDate(new Date());\r\n            outboundHeader.setStatusId(statusId);\r\n            outboundHeader.setStatusDescription(statusDesc);\r\n            outboundHeader.setInvoiceDate(outboundIntegrationHeader.getRequiredDeliveryDate());\r\n            outboundHeaderV2Repository.save(outboundHeader);  // OutboundHeader save 28-05-2025\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While OutboundHeader create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param outboundIntegrationHeader\r\n     * @param refField1ForOrderType\r\n     * @param statusId\r\n     * @param statusDesc\r\n     * @param desc\r\n     * @param loginUserId\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private PreOutboundHeaderV2 createPreOutboundHeaderV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo,\r\n                                                          OutboundIntegrationHeaderV2 outboundIntegrationHeader, String refField1ForOrderType,\r\n                                                          Long statusId, String statusDesc, IKeyValuePair desc, String loginUserId) throws Exception {\r\n        try {\r\n            PreOutboundHeaderV2 preOutboundHeader = new PreOutboundHeaderV2();\r\n            BeanUtils.copyProperties(outboundIntegrationHeader, preOutboundHeader, CommonUtils.getNullPropertyNames(outboundIntegrationHeader));\r\n            preOutboundHeader.setCompanyCodeId(companyCodeId);\r\n            preOutboundHeader.setPlantId(plantId);\r\n            preOutboundHeader.setLanguageId(languageId);\r\n            preOutboundHeader.setWarehouseId(warehouseId);\r\n            preOutboundHeader.setRefDocNumber(outboundIntegrationHeader.getRefDocumentNo());\r\n            preOutboundHeader.setPreOutboundNo(preOutboundNo);\r\n            preOutboundHeader.setOutboundOrderTypeId(outboundIntegrationHeader.getOutboundOrderTypeID());\r\n            preOutboundHeader.setRefDocDate(new Date());\r\n\r\n            // REF_FIELD_1\r\n            preOutboundHeader.setReferenceField1(refField1ForOrderType);\r\n            preOutboundHeader.setStatusId(statusId);\r\n            preOutboundHeader.setStatusDescription(statusDesc);\r\n            preOutboundHeader.setCompanyDescription(desc.getCompanyDesc());\r\n            preOutboundHeader.setPlantDescription(desc.getPlantDesc());\r\n            preOutboundHeader.setWarehouseDescription(desc.getWarehouseDesc());\r\n\r\n            preOutboundHeader.setDeletionIndicator(0L);\r\n            preOutboundHeader.setCreatedBy(loginUserId);\r\n            preOutboundHeader.setCreatedOn(new Date());\r\n\r\n            // Order_Text_Update\r\n            String text = \"PreOutboundHeader Created\";\r\n            outboundOrderV2Repository.updatePreOutBoundOrderText(preOutboundHeader.getOutboundOrderTypeId(), preOutboundHeader.getRefDocNumber(), text);\r\n            log.info(\"PreOutbound Header Status Updated Successfully\");\r\n            return preOutboundHeader;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While PreoutboundHeader create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param outboundIntegrationHeader\r\n     * @param outboundIntegrationLine\r\n     * @param statusId\r\n     * @param statusDesc\r\n     * @param desc\r\n     * @param loginUserId\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private PreOutboundLineV2 createPreOutboundLineV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo,\r\n                                                      OutboundIntegrationHeaderV2 outboundIntegrationHeader, OutboundIntegrationLineV2 outboundIntegrationLine,\r\n                                                      Long statusId, String statusDesc, IKeyValuePair desc, String loginUserId) throws Exception {\r\n        try {\r\n            PreOutboundLineV2 preOutboundLine = new PreOutboundLineV2();\r\n            BeanUtils.copyProperties(outboundIntegrationLine, preOutboundLine, CommonUtils.getNullPropertyNames(outboundIntegrationLine));\r\n            preOutboundLine.setCompanyCodeId(companyCodeId);\r\n            preOutboundLine.setPlantId(plantId);\r\n            preOutboundLine.setLanguageId(languageId);\r\n            preOutboundLine.setWarehouseId(warehouseId);\r\n            preOutboundLine.setPreOutboundNo(preOutboundNo);\r\n            preOutboundLine.setCustomerId(outboundIntegrationHeader.getCustomerId());\r\n            preOutboundLine.setCustomerName(outboundIntegrationHeader.getCustomerName());\r\n\r\n            // REF DOC Number\r\n            preOutboundLine.setRefDocNumber(outboundIntegrationHeader.getRefDocumentNo());\r\n\r\n            // PARTNER_CODE\r\n            preOutboundLine.setPartnerCode(outboundIntegrationHeader.getPartnerCode());\r\n\r\n            // IB__LINE_NO\r\n            preOutboundLine.setLineNumber(outboundIntegrationLine.getLineReference());\r\n\r\n            // ITM_CODE\r\n            preOutboundLine.setItemCode(outboundIntegrationLine.getItemCode());\r\n\r\n            // OB_ORD_TYP_ID\r\n            preOutboundLine.setOutboundOrderTypeId(outboundIntegrationHeader.getOutboundOrderTypeID());\r\n\r\n            // STATUS_ID\r\n            preOutboundLine.setStatusId(statusId);\r\n            preOutboundLine.setStatusDescription(statusDesc);\r\n\r\n            // STCK_TYP_ID\r\n            preOutboundLine.setStockTypeId(1L);\r\n\r\n            // SP_ST_IND_ID\r\n            preOutboundLine.setSpecialStockIndicatorId(1L);\r\n\r\n            preOutboundLine.setCompanyDescription(desc.getCompanyDesc());\r\n            preOutboundLine.setPlantDescription(desc.getPlantDesc());\r\n            preOutboundLine.setWarehouseDescription(desc.getWarehouseDesc());\r\n\r\n            preOutboundLine.setSalesInvoiceNumber(outboundIntegrationLine.getSalesInvoiceNo());\r\n            preOutboundLine.setSalesOrderNumber(outboundIntegrationHeader.getSalesOrderNumber());\r\n            preOutboundLine.setPickListNumber(outboundIntegrationLine.getPickListNo());\r\n            preOutboundLine.setTokenNumber(outboundIntegrationHeader.getTokenNumber());\r\n            preOutboundLine.setTargetBranchCode(outboundIntegrationHeader.getTargetBranchCode());\r\n\r\n            String itemText = outboundIntegrationLine.getItemText() != null ? outboundIntegrationLine.getItemText() :\r\n                    getItemDescription(companyCodeId, plantId, languageId, warehouseId, outboundIntegrationLine.getItemCode(), outboundIntegrationLine.getManufacturerName());\r\n\r\n            preOutboundLine.setDescription(itemText);\r\n\r\n            // ORD_QTY\r\n            preOutboundLine.setOrderQty(outboundIntegrationLine.getOrderedQty());\r\n\r\n            // ORD_UOM\r\n            preOutboundLine.setOrderUom(outboundIntegrationLine.getUom());\r\n\r\n            // REQ_DEL_DATE\r\n            preOutboundLine.setRequiredDeliveryDate(outboundIntegrationHeader.getRequiredDeliveryDate());\r\n\r\n            // REF_FIELD_1\r\n            preOutboundLine.setReferenceField1(outboundIntegrationLine.getRefField1ForOrderType());\r\n\r\n            preOutboundLine.setDeletionIndicator(0L);\r\n            preOutboundLine.setCreatedBy(loginUserId);\r\n            preOutboundLine.setCreatedOn(new Date());\r\n\r\n//            log.info(\"preOutboundLine : \" + preOutboundLine);\r\n            return preOutboundLine;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While PreoutboundLine create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param createdPreOutboundLine\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     */\r\n    private List<OutboundLineV2> createOutboundLineV2(List<PreOutboundLineV2> createdPreOutboundLine, OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n        try {\r\n            List<OutboundLineV2> outboundLines = new ArrayList<>();\r\n            for (PreOutboundLineV2 preOutboundLine : createdPreOutboundLine) {\r\n                List<OrderManagementLineV2> orderManagementLine = orderManagementLineService.getOrderManagementLineV2(\r\n                        preOutboundLine.getCompanyCodeId(), preOutboundLine.getPlantId(),\r\n                        preOutboundLine.getLanguageId(), preOutboundLine.getWarehouseId(),\r\n                        preOutboundLine.getPreOutboundNo(), preOutboundLine.getLineNumber(),\r\n                        preOutboundLine.getItemCode());\r\n                for (OrderManagementLineV2 dbOrderManagementLine : orderManagementLine) {\r\n                    OutboundLineV2 outboundLine = new OutboundLineV2();\r\n                    BeanUtils.copyProperties(preOutboundLine, outboundLine, CommonUtils.getNullPropertyNames(preOutboundLine));\r\n                    outboundLine.setDeliveryQty(0D);\r\n                    outboundLine.setStatusId(dbOrderManagementLine.getStatusId());\r\n                    statusDescription = getStatusDescription(dbOrderManagementLine.getStatusId(), dbOrderManagementLine.getLanguageId());\r\n                    outboundLine.setStatusDescription(statusDescription);\r\n                    outboundLine.setInvoiceDate(outboundIntegrationHeader.getRequiredDeliveryDate());\r\n                    outboundLine.setDeletionIndicator(0L);\r\n\r\n                    if (outboundLine.getOutboundOrderTypeId() == 3L) {\r\n                        outboundLine.setCustomerType(\"INVOICE\");\r\n                    }\r\n                    if (outboundLine.getOutboundOrderTypeId() == 0L || outboundLine.getOutboundOrderTypeId() == 1L) {\r\n                        outboundLine.setCustomerType(\"TRANSVERSE\");\r\n                    }\r\n                    outboundLines.add(outboundLine);\r\n                }\r\n            }\r\n//            outboundLines = outboundLineV2Repository.saveAll(outboundLines);\r\n            log.info(\"outboundLines created -----2------>: \" + outboundLines);\r\n            return outboundLines;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While OutboundLine create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param createdPreOutboundLine\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private List<OutboundLineV2> createOutboundLineV3(List<PreOutboundLineV2> createdPreOutboundLine, OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n        try {\r\n            List<OutboundLineV2> outboundLines = new ArrayList<>();\r\n            for (PreOutboundLineV2 preOutboundLine : createdPreOutboundLine) {\r\n                OutboundLineV2 outboundLine = new OutboundLineV2();\r\n                BeanUtils.copyProperties(preOutboundLine, outboundLine, CommonUtils.getNullPropertyNames(preOutboundLine));\r\n                outboundLine.setDeliveryQty(0D);\r\n                outboundLine.setStatusId(39L);\r\n                statusDescription = getStatusDescription(39L, preOutboundLine.getLanguageId());\r\n                outboundLine.setStatusDescription(statusDescription);\r\n                outboundLine.setInvoiceDate(outboundIntegrationHeader.getRequiredDeliveryDate());\r\n\r\n                if (outboundLine.getOutboundOrderTypeId() == 3L) {\r\n                    outboundLine.setCustomerType(\"INVOICE\");\r\n                }\r\n                if (outboundLine.getOutboundOrderTypeId() == 0L || outboundLine.getOutboundOrderTypeId() == 1L) {\r\n                    outboundLine.setCustomerType(\"TRANSVERSE\");\r\n                }\r\n                outboundLines.add(outboundLine);\r\n            }\r\n            log.info(\"outboundLines created -----2------>: \" + outboundLines);\r\n            return outboundLines;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While OutboundLine create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param outboundIntegrationHeader\r\n     * @param preOutboundLineList\r\n     * @param loginUserId\r\n     * @param fromOrderFullfillment\r\n     * @throws Exception\r\n     */\r\n    @Transactional\r\n    public void createOrderManagementLine(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                          OutboundIntegrationHeaderV2 outboundIntegrationHeader, List<PreOutboundLineV2> preOutboundLineList,\r\n                                          String loginUserId, boolean fromOrderFullfillment) throws Exception {\r\n        log.error(\"--------1-------fromOrderFullfillment----> \" + fromOrderFullfillment);\r\n        try {\r\n            for (PreOutboundLineV2 preOutboundLine : preOutboundLineList) {\r\n                createOrderManagementLineV2(companyCodeId, plantId, languageId, warehouseId, outboundIntegrationHeader, \r\n                \t\tpreOutboundLine, loginUserId, fromOrderFullfillment);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param outboundIntegrationHeader\r\n     * @param preOutboundLineList\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n    @Transactional\r\n    public void createOrderManagementLineV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                            OutboundIntegrationHeaderV2 outboundIntegrationHeader,\r\n                                            List<PreOutboundLineV2> preOutboundLineList, String loginUserId) throws Exception {\r\n        try {\r\n            for (PreOutboundLineV2 preOutboundLine : preOutboundLineList) {\r\n                createOrderManagementLineV3(companyCodeId, plantId, languageId, warehouseId, outboundIntegrationHeader, preOutboundLine, loginUserId);\r\n//                log.info(\"orderManagementLine created---1---> : \" + orderManagementLine);\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param outboundIntegrationHeader\r\n     * @param preOutboundLine\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private void createOrderManagementLineV3(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                             OutboundIntegrationHeaderV2 outboundIntegrationHeader, PreOutboundLineV2 preOutboundLine, String loginUserId) throws Exception {\r\n        try {\r\n            OrderManagementLineV2 orderManagementLine = new OrderManagementLineV2();\r\n            BeanUtils.copyProperties(preOutboundLine, orderManagementLine, CommonUtils.getNullPropertyNames(preOutboundLine));\r\n            log.info(\"orderManagementLine : \" + orderManagementLine);\r\n\r\n            /*\r\n             * 1. If OB_ORD_TYP_ID = 0,1,3\r\n             * Pass WH_ID/ITM_CODE in INVENTORY table and fetch ST_BIN.\r\n             * Pass ST_BIN into STORAGEBIN table and filter ST_BIN values by ST_SEC_ID values of ZB,ZC,ZG,ZT and\r\n             * PUTAWAY_BLOCK and PICK_BLOCK are false(Null).\r\n             *\r\n             * 2. If OB_ORD_TYP_ID = 2\r\n             * Pass  WH_ID/ITM_CODE in INVENTORY table and fetch ST_BIN.\r\n             * Pass ST_BIN into STORAGEBIN table and filter ST_BIN values by ST_SEC_ID values of ZD and PUTAWAY_BLOCK\r\n             * and PICK_BLOCK are false(Null).\r\n             *\r\n             * Pass the filtered ST_BIN/WH_ID/ITM_CODE/BIN_CL_ID=01/STCK_TYP_ID=1 in Inventory table and fetch Sum(INV_QTY)\"\r\n             */\r\n\r\n            Long OB_ORD_TYP_ID = outboundIntegrationHeader.getOutboundOrderTypeID();\r\n            Long BIN_CLASS_ID;\r\n\r\n            if (OB_ORD_TYP_ID == 0L || OB_ORD_TYP_ID == 1L || OB_ORD_TYP_ID == 3L) {\r\n                BIN_CLASS_ID = 1L;\r\n                createOrderManagementV3(companyCodeId, plantId, languageId, BIN_CLASS_ID, orderManagementLine, warehouseId,\r\n                        preOutboundLine.getItemCode(), preOutboundLine.getOrderQty(), loginUserId);\r\n            }\r\n            if (OB_ORD_TYP_ID == 2L) {\r\n                BIN_CLASS_ID = 7L;\r\n                createOrderManagementV3(companyCodeId, plantId, languageId, BIN_CLASS_ID, orderManagementLine, warehouseId,\r\n                        preOutboundLine.getItemCode(), preOutboundLine.getOrderQty(), loginUserId);\r\n            }\r\n//            return orderManagementLine;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While OrderManagementLine create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param outboundIntegrationHeader\r\n     * @param preOutboundLine\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private void createOrderManagementLineV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                             OutboundIntegrationHeaderV2 outboundIntegrationHeader, PreOutboundLineV2 preOutboundLine,\r\n                                             String loginUserId, boolean fromOrderFullfillment) throws Exception {\r\n        try {\r\n            log.error(\"--------2-------fromOrderFullfillment----> \" + fromOrderFullfillment);\r\n            OrderManagementLineV2 orderManagementLine = new OrderManagementLineV2();\r\n            BeanUtils.copyProperties(preOutboundLine, orderManagementLine, CommonUtils.getNullPropertyNames(preOutboundLine));\r\n\r\n            if (preOutboundLine.getCustomerId() == null) {\r\n                orderManagementLine.setPartnerCode(\"STO\");\r\n            }\r\n            log.info(\"orderManagementLine : \" + orderManagementLine);\r\n\r\n            /*\r\n             * 1. If OB_ORD_TYP_ID = 0,1,3\r\n             * Pass WH_ID/ITM_CODE in INVENTORY table and fetch ST_BIN.\r\n             * Pass ST_BIN into STORAGEBIN table and filter ST_BIN values by ST_SEC_ID values of ZB,ZC,ZG,ZT and\r\n             * PUTAWAY_BLOCK and PICK_BLOCK are false(Null).\r\n             *\r\n             * 2. If OB_ORD_TYP_ID = 2\r\n             * Pass  WH_ID/ITM_CODE in INVENTORY table and fetch ST_BIN.\r\n             * Pass ST_BIN into STORAGEBIN table and filter ST_BIN values by ST_SEC_ID values of ZD and PUTAWAY_BLOCK\r\n             * and PICK_BLOCK are false(Null).\r\n             *\r\n             * Pass the filtered ST_BIN/WH_ID/ITM_CODE/BIN_CL_ID=01/STCK_TYP_ID=1 in Inventory table and fetch Sum(INV_QTY)\"\r\n             */\r\n\r\n            Long OB_ORD_TYP_ID = outboundIntegrationHeader.getOutboundOrderTypeID();\r\n            Long BIN_CLASS_ID;\r\n\r\n            if (OB_ORD_TYP_ID == 0L || OB_ORD_TYP_ID == 1L || OB_ORD_TYP_ID == 3L) {\r\n                if (preOutboundLine.getMtoNumber() != null && !preOutboundLine.getMtoNumber().isEmpty()) {\r\n                    log.info(\"MTO Number is ------------------> {} \", preOutboundLine.getMtoNumber());\r\n                    BIN_CLASS_ID = 10L;\r\n                } else {\r\n                    BIN_CLASS_ID = 1L;\r\n                }\r\n                createOrderManagementV2(companyCodeId, plantId, languageId, BIN_CLASS_ID, orderManagementLine, warehouseId,\r\n                        preOutboundLine.getItemCode(), preOutboundLine.getOrderQty(), loginUserId, fromOrderFullfillment);\r\n            }\r\n            if (OB_ORD_TYP_ID == 2L) {\r\n                BIN_CLASS_ID = 7L;\r\n                createOrderManagementV2(companyCodeId, plantId, languageId, BIN_CLASS_ID, orderManagementLine, warehouseId,\r\n                        preOutboundLine.getItemCode(), preOutboundLine.getOrderQty(), loginUserId, fromOrderFullfillment);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While OrderManagementLine create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param binClassId\r\n     * @param orderManagementLine\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param ORD_QTY\r\n     * @return\r\n     */\r\n    private void createOrderManagementV2(String companyCodeId, String plantId, String languageId,\r\n                                         Long binClassId, OrderManagementLineV2 orderManagementLine,\r\n                                         String warehouseId, String itemCode, Double ORD_QTY, String loginUserId,\r\n                                         boolean fromOrderFullfillment) throws Exception {\r\n        log.error(\"--------3-------fromOrderFullfillment----> \" + fromOrderFullfillment);\r\n        String manufacturerName = orderManagementLine.getManufacturerName();\r\n        orderManagementLineService.updateAllocationV3(companyCodeId, plantId, languageId, warehouseId, itemCode,\r\n                manufacturerName, binClassId, ORD_QTY, orderManagementLine, loginUserId, fromOrderFullfillment);\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param binClassId\r\n     * @param orderManagementLine\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param ORD_QTY\r\n     * @return\r\n     */\r\n    private void createOrderManagementV3(String companyCodeId, String plantId, String languageId,\r\n                                         Long binClassId, OrderManagementLineV2 orderManagementLine,\r\n                                         String warehouseId, String itemCode, Double ORD_QTY, String loginUserId) throws Exception {\r\n        String manufacturerName = orderManagementLine.getManufacturerName();\r\n//        List<IInventoryImpl> stockType1InventoryList = inventoryService.\r\n//                getInventoryForOrderManagementV3(companyCodeId, plantId, languageId, warehouseId, itemCode, 1L, binClassId, manufacturerName);\r\n//        log.info(\"Walkaroo---Global---stockType1InventoryList-------> : \" + stockType1InventoryList.size());\r\n//        if (stockType1InventoryList.isEmpty()) {\r\n//            return createEMPTYOrderManagementLineV2(orderManagementLine);\r\n//        }\r\n\r\n        orderManagementLineService.updateAllocationV4(companyCodeId, plantId, languageId, warehouseId, itemCode, manufacturerName, binClassId, ORD_QTY, orderManagementLine, loginUserId);\r\n    }\r\n\r\n\r\n    /**\r\n     * @param orderManagementLine\r\n     * @return\r\n     */\r\n    private OrderManagementLineV2 createEMPTYOrderManagementLineV2(OrderManagementLineV2 orderManagementLine) throws Exception {\r\n        try {\r\n            orderManagementLine.setStatusId(47L);\r\n            statusDescription = getStatusDescription(47L, orderManagementLine.getLanguageId());\r\n            orderManagementLine.setStatusDescription(statusDescription);\r\n            orderManagementLine.setReferenceField7(statusDescription);\r\n            orderManagementLine.setProposedStorageBin(\"\");\r\n            orderManagementLine.setProposedPackBarCode(\"\");\r\n            orderManagementLine.setBarcodeId(UUID.randomUUID().toString());\r\n            orderManagementLine.setInventoryQty(0D);\r\n            orderManagementLine.setAllocatedQty(0D);\r\n\r\n            if (orderManagementLine.getCompanyDescription() == null) {\r\n                description = getDescription(orderManagementLine.getCompanyCodeId(), orderManagementLine.getPlantId(), orderManagementLine.getLanguageId(), orderManagementLine.getWarehouseId());\r\n                orderManagementLine.setCompanyDescription(description.getCompanyDesc());\r\n                orderManagementLine.setPlantDescription(description.getPlantDesc());\r\n                orderManagementLine.setWarehouseDescription(description.getWarehouseDesc());\r\n            }\r\n\r\n            orderManagementLine = orderManagementLineV2Repository.save(orderManagementLine);\r\n            log.info(\"orderManagementLine created: \" + orderManagementLine);\r\n            return orderManagementLine;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While EmptyOrderManagementLine create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param outboundIntegrationHeader\r\n     * @throws Exception\r\n     */\r\n    public void rollback(OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n        try {\r\n            String companyCodeId = outboundIntegrationHeader.getCompanyCode();\r\n            String plantId = outboundIntegrationHeader.getBranchCode();\r\n            String languageId = outboundIntegrationHeader.getLanguageId() != null ? outboundIntegrationHeader.getLanguageId() : LANG_ID;\r\n            String warehouseId = outboundIntegrationHeader.getWarehouseID();\r\n            Long outboundOrderTypeId = outboundIntegrationHeader.getOutboundOrderTypeID();\r\n            String refDocNo = outboundIntegrationHeader.getRefDocumentNo();\r\n            initiateRollBack(companyCodeId, plantId, languageId, warehouseId, refDocNo, outboundOrderTypeId);\r\n        } catch (Exception e) {\r\n            log.error(\"Exception occurred : \" + e.toString());\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNo\r\n     * @param outboundOrderTypeId\r\n     * @throws Exception\r\n     */\r\n    public void rollback(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                         String refDocNo, Long outboundOrderTypeId) throws Exception {\r\n        try {\r\n            initiateRollBack(companyCodeId, plantId, languageId, warehouseId, refDocNo, outboundOrderTypeId);\r\n            log.info(\"Rollback---> 3. rerun the order ----> \" + refDocNo + \", \" + outboundOrderTypeId);\r\n            orderService.reRunProcessedOrderV2(refDocNo, outboundOrderTypeId);\r\n        } catch (Exception e) {\r\n            log.error(\"Exception occurred during Rollback : \" + e.toString());\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNo\r\n     * @param outboundOrderTypeId\r\n     * @throws Exception\r\n     */\r\n    @Transactional(rollbackFor = {Exception.class, Throwable.class})\r\n    @Retryable(value = Exception.class, maxAttempts = 3, backoff = @Backoff(delay = 5000, multiplier = 2))\r\n    public void initiateRollBack(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                 String refDocNo, Long outboundOrderTypeId) throws Exception {\r\n        try {\r\n\r\n            List<OrderManagementLineV2> orderManagementLineV2List = orderManagementLineV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndOutboundOrderTypeIdAndDeletionIndicator(\r\n                    companyCodeId, plantId, languageId, warehouseId, refDocNo, outboundOrderTypeId, 0L);\r\n\r\n            log.info(\"Rollback---> 1. Inventory restore ----> \" + refDocNo + \", \" + outboundOrderTypeId);\r\n            //if order management line present do un allocation\r\n//            if (orderManagementLineV2List != null && !orderManagementLineV2List.isEmpty()) {\r\n//                for (OrderManagementLineV2 dbOrderManagementLine : orderManagementLineV2List) {\r\n//                    String packBarcodes = dbOrderManagementLine.getProposedPackBarCode();\r\n//                    String storageBin = dbOrderManagementLine.getProposedStorageBin();\r\n//                    InventoryV2 inventory =\r\n//                            inventoryService.getOutboundInventoryV3(dbOrderManagementLine.getCompanyCodeId(), dbOrderManagementLine.getPlantId(), dbOrderManagementLine.getLanguageId(),\r\n//                                    dbOrderManagementLine.getWarehouseId(), dbOrderManagementLine.getItemCode(), dbOrderManagementLine.getManufacturerName(),\r\n//                                    dbOrderManagementLine.getBarcodeId(), storageBin);\r\n//                    double[] inventoryQty = calculateInventoryUnAllocate(dbOrderManagementLine.getAllocatedQty(), inventory.getInventoryQuantity(), inventory.getAllocatedQuantity());\r\n//                    if (inventoryQty != null && inventoryQty.length > 2) {\r\n//                        inventory.setInventoryQuantity(inventoryQty[0]);\r\n//                        inventory.setAllocatedQuantity(inventoryQty[1]);\r\n//                        inventory.setReferenceField4(inventoryQty[2]);\r\n//                    }\r\n//\r\n//                    // Create new Inventory Record\r\n//                    InventoryV2 inventoryV2 = new InventoryV2();\r\n//                    BeanUtils.copyProperties(inventory, inventoryV2, CommonUtils.getNullPropertyNames(inventory));\r\n//                    inventoryV2 = inventoryV2Repository.save(inventoryV2);\r\n//                    log.info(\"-----InventoryV2 created-------: \" + inventoryV2);\r\n//                }\r\n//                log.info(\"Rollback---> 1.Inventory restoration Finished ----> \" + refDocNo + \", \" + outboundOrderTypeId);\r\n//            }\r\n\r\n            //delete all records from respective tables\r\n            log.info(\"Rollback---> 2. delete all record initiated ----> \" + refDocNo + \", \" + outboundOrderTypeId);\r\n            orderManagementLineV2Repository.deleteOutboundProcessingProc(companyCodeId, plantId, languageId, warehouseId, refDocNo, outboundOrderTypeId);\r\n            log.info(\"Rollback---> 2. delete all record finished ----> \" + refDocNo + \", \" + outboundOrderTypeId);\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param preOutboundNo\r\n     * @param orderManagementLineList\r\n     * @param loginUserId\r\n     */\r\n    private List<DocumentNumber> createPickupHeaderV3(String companyCodeId, String plantId, String languageId, String warehouseId, String refDocNumber,\r\n                                                      String preOutboundNo, List<OrderManagementLineV2> orderManagementLineList, String loginUserId) {\r\n        try {\r\n            double sumOfAllocatedQty = orderManagementLineList\r\n            \t\t.stream()\r\n            \t\t.filter(n -> n.getAllocatedQty() != null)\r\n            \t\t.mapToDouble(OrderManagementLineV2::getAllocatedQty).sum();\r\n            \r\n            IKeyValuePair caseTolerance = getnoOfCaseTolerance(companyCodeId, plantId, languageId, warehouseId);\r\n            log.info(\"caseTolerance: \" + caseTolerance);\r\n\r\n            List<DocumentNumber> documentNumberList = new ArrayList<>();\r\n            List<OrderManagementLineV2> sortedOrderManagementLineList = \r\n            \t\torderManagementLineList\r\n            \t\t.stream()\r\n            \t\t.sorted(Comparator.comparing(OrderManagementLineV2::getProposedStorageBin)\r\n            \t\t\t\t.reversed()).collect(Collectors.toList());\r\n            \r\n            String PU_NO = null;\r\n            if (caseTolerance != null) {\r\n                double noOfCases = getQuantity(caseTolerance.getNoOfCase());\r\n                double plusTolerance = getQuantity(caseTolerance.getPlusTolerance());\r\n                double totalCases = noOfCases + plusTolerance;\r\n                int PU_NO_COUNT = (int) Math.ceil(sumOfAllocatedQty / totalCases);\r\n                log.info(noOfCases + \"|\" + plusTolerance + \"|\" + totalCases + \"|\" + sumOfAllocatedQty + \"|\" + PU_NO_COUNT);\r\n                int i = 1;\r\n                PU_NO = getNextRangeNumber(10L, companyCodeId, plantId, languageId, warehouseId);\r\n                \r\n                for (OrderManagementLineV2 createdOrderManagementLine : sortedOrderManagementLineList) {\r\n                    if (createdOrderManagementLine.getOutboundOrderTypeId() == 3) {\r\n                        if (i <= totalCases) {\r\n                            log.info(\"Creating PickUpHeader for case {} of {} with PU_NO: {}\", i, totalCases, PU_NO);\r\n\r\n                            createPickUpHeaderV3(companyCodeId, plantId, languageId, warehouseId, PU_NO, preOutboundNo, refDocNumber, \r\n                            \t\tcreatedOrderManagementLine, loginUserId);\r\n                            i++;\r\n                            if (i > totalCases) {\r\n                                log.info(\"Total cases processed for current PU_NO. Resetting case counter and generating new PU_NO.\");\r\n                                i = 1;\r\n                                PU_NO = getNextRangeNumber(10L, companyCodeId, plantId, languageId, warehouseId);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                PU_NO = getNextRangeNumber(10L, companyCodeId, plantId, languageId, warehouseId);\r\n                for (OrderManagementLineV2 orderManagementLine : orderManagementLineList) {\r\n                    if (orderManagementLine.getOutboundOrderTypeId() == 3) {\r\n                        createPickUpHeaderV3(companyCodeId, plantId, languageId, warehouseId, PU_NO, preOutboundNo, refDocNumber, \r\n                        \t\torderManagementLine, loginUserId);\r\n                    }\r\n                }\r\n            }\r\n            return documentNumberList;\r\n\r\n        } catch (Exception e) {\r\n            throw new BadRequestException(e.getLocalizedMessage());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param preOutboundNo\r\n     * @param orderManagementLineList\r\n     * @param loginUserId\r\n     */\r\n    private List<DocumentNumber> createPickupHeaderV4(String companyCodeId, String plantId, String languageId, String warehouseId, String refDocNumber,\r\n                                                      String preOutboundNo, List<OrderManagementLineV2> orderManagementLineList, String loginUserId) {\r\n        try {\r\n        \tlog.info (\"-------createPickupHeaderV4--------called-------\");\r\n            List<PickupHeaderV2> pickupHeaderV2List = new ArrayList<>();\r\n            double sumOfAllocatedQty = orderManagementLineList.stream().filter(n -> n.getAllocatedQty() != null).mapToDouble(OrderManagementLineV2::getAllocatedQty).sum();\r\n            IKeyValuePair caseTolerance = getnoOfCaseTolerance(companyCodeId, plantId, languageId, warehouseId);\r\n            log.info(\"caseTolerance: \" + caseTolerance);\r\n\r\n            List<DocumentNumber> documentNumberList = new ArrayList<>();\r\n            List<OrderManagementLineV2> sortedOrderManagementLineList = orderManagementLineList.stream().sorted(Comparator.comparing(OrderManagementLineV2::getProposedStorageBin).reversed()).collect(Collectors.toList());\r\n            String PU_NO = null;\r\n            if (caseTolerance != null) {\r\n                double noOfCases = getQuantity(caseTolerance.getNoOfCase());\r\n                double plusTolerance = getQuantity(caseTolerance.getPlusTolerance());\r\n                double totalCases = noOfCases + plusTolerance;\r\n                int PU_NO_COUNT = (int) Math.ceil(sumOfAllocatedQty / totalCases);\r\n                log.info(noOfCases + \"|\" + plusTolerance + \"|\" + totalCases + \"|\" + sumOfAllocatedQty+ \"|\" + PU_NO_COUNT);\r\n                int i = 1;\r\n                PU_NO = getNextRangeNumber(10L, companyCodeId, plantId, languageId, warehouseId);\r\n                log.info(\"OrderFullfillment PickupHeader Creation -------------> Sorted OrdermanagementList ---->  {} \", orderManagementLineList.size());\r\n\r\n                for (OrderManagementLineV2 createdOrderManagementLine : sortedOrderManagementLineList) {\r\n                    log.info(\"OutboundOrderType ID is --------------------> {} \", createdOrderManagementLine.getOutboundOrderTypeId() );\r\n                    if (createdOrderManagementLine.getOutboundOrderTypeId() == 3) {\r\n                        if (i <= totalCases) {\r\n                           PickupHeaderV2 pickupHeaderV2 =  createPickUpHeaderV4(companyCodeId, plantId, languageId, warehouseId, PU_NO, preOutboundNo,\r\n                                    refDocNumber, createdOrderManagementLine, loginUserId);\r\n                            if (pickupHeaderV2 != null) {\r\n                                log.info(\"PickupHeader is Created -------------------> RefDocNo is {} \", pickupHeaderV2.getRefDocNumber());\r\n                                pickupHeaderV2List.add(pickupHeaderV2);\r\n                            }\r\n                            i++;\r\n                            if (i > totalCases) {\r\n                                i = 1;\r\n                                PU_NO = getNextRangeNumber(10L, companyCodeId, plantId, languageId, warehouseId);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                log.info(\"CaseTolerance is null ------------------------------------> \");\r\n                PU_NO = getNextRangeNumber(10L, companyCodeId, plantId, languageId, warehouseId);\r\n                for (OrderManagementLineV2 orderManagementLine : orderManagementLineList) {\r\n                    log.info(\"OutboundOrderType ID is --------------------> {} \", orderManagementLine.getOutboundOrderTypeId() );\r\n                    if(orderManagementLine.getOutboundOrderTypeId() == 3) {\r\n                        PickupHeaderV2 pickupHeaderV2 = createPickUpHeaderV4(companyCodeId, plantId, languageId, warehouseId, PU_NO, preOutboundNo,\r\n                                refDocNumber, orderManagementLine, loginUserId);\r\n                        if (pickupHeaderV2 != null) {\r\n                            log.info(\"PickupHeader is Created -------------------> RefDocNo is {} \", pickupHeaderV2.getRefDocNumber());\r\n                            pickupHeaderV2List.add(pickupHeaderV2);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n//            if(!pickupHeaderV2List.isEmpty()) {\r\n//                log.info(\"PickupHeader Values Saved in Orderfullfillment ---------------------> \" + pickupHeaderV2List.size());\r\n//                pickupHeaderV2Repository.saveAll(pickupHeaderV2List);\r\n//            }\r\n\r\n            // PickupHeader Save Process\r\n            List<PickupHeaderV2> savedPickupHeaders = savePickupHeadersTx(pickupHeaderV2List);\r\n\r\n            log.info(\"All Tables Update Status Process Started ------------->\");\r\n            doPostPickupUpdatesTx(companyCodeId, plantId, languageId, warehouseId, savedPickupHeaders);\r\n            log.info(\"All Tables Update Status Process Completed ------------->\");\r\n\r\n            return documentNumberList;\r\n        } catch (Exception e) {\r\n            log.error(\"Exception in createPickupHeaderV4: \", e);\r\n            throw new BadRequestException(e.getLocalizedMessage());\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Perform post-save updates in a deterministic order for each saved PickupHeader.\r\n     * Keep this transaction short. Retryable for transient lock acquisition issues.\r\n     */\r\n    @Retryable(value = { CannotAcquireLockException.class, ObjectOptimisticLockingFailureException.class, Exception.class },\r\n            maxAttempts = 3, backoff = @Backoff(delay = 1000, multiplier = 2))\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW, rollbackFor = Exception.class)\r\n    public void doPostPickupUpdatesTx(String companyCodeId, String plantId, String languageId, String warehouseId, List<PickupHeaderV2> savedPickupHeaders) {\r\n        for (PickupHeaderV2 ph : savedPickupHeaders) {\r\n            String refDoc = ph.getRefDocNumber();\r\n            String pickupNumber = ph.getPickupNumber();\r\n            String statusDescription = ph.getStatusDescription();\r\n\r\n            // 1) outboundLine update\r\n            int outboundLineCount = outboundLineV2Repository.updateOutboundLineStatus(companyCodeId, plantId, languageId, warehouseId, refDoc, ph.getPreOutboundNo(), 48L, statusDescription, ph.getLineNumber(), ph.getItemCode());\r\n            log.info(\"OutboundLine Status Update Count Size {} \", outboundLineCount);\r\n\r\n            // 2) outboundHeader update\r\n            int outboundHeaderCount = outboundHeaderV2Repository.updateOutboundHeaderStatus(companyCodeId, plantId, languageId, warehouseId, refDoc, ph.getPreOutboundNo(), 48L, statusDescription);\r\n            log.info(\"OutboundHeader Status Update Count {} \", outboundHeaderCount);\r\n\r\n            // 3) preOutboundHeader update - include pickup number\r\n            int preoutboundHeader = preOutboundHeaderV2Repository.updatePreOutboundHeaderStatus(companyCodeId, plantId, languageId, warehouseId, refDoc, pickupNumber, 48L, statusDescription);\r\n            log.info(\"PreOutboundHeader Status Update Count {} \", preoutboundHeader);\r\n\r\n            // 4) outboundOrder text update\r\n            int obOrderStatusUpdateCount =  outboundOrderV2Repository.updateOBHeaderText(ph.getOutboundOrderTypeId(), refDoc, \"PickupHeader Created\");\r\n            log.info(\"OB Order PickupHeader Status Updated Count {} \", obOrderStatusUpdateCount);\r\n\r\n            log.info(\"Completed post updates for RefDocNo {}\", refDoc);\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param orderManagementLine\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n//    private void createPickUpHeader(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n//                                    String preOutboundNo, String refDocNumber, OrderManagementLineV2 orderManagementLine, String loginUserId) throws Exception {\r\n//\r\n//        String PU_NO = null;\r\n//        if (orderManagementLine != null && orderManagementLine.getStatusId() != 47L) {\r\n//            log.info(\"orderManagementLine: \" + orderManagementLine);\r\n//\r\n//            IKeyValuePair caseTolerance = getnoOfCaseTolerance(companyCodeId, plantId, languageId, warehouseId);\r\n//            log.info(\"caseTolerance: \" + caseTolerance);\r\n//            List<PickupHeaderV2> pickupHeaders = pickupHeaderService.getPickupHeadersV3(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, orderManagementLine.getCustomerId());\r\n//            log.info(\"PickupHeader existing---->: \" + pickupHeaders.size());\r\n//            if (caseTolerance != null) {\r\n//\r\n//                double noOfCases = getQuantity(caseTolerance.getNoOfCase());\r\n//                double plusTolerance = getQuantity(caseTolerance.getPlusTolerance());\r\n//                double totalCases = noOfCases + plusTolerance;\r\n//                double allocatedQty = getQuantity(orderManagementLine.getAllocatedQty());\r\n//                log.info(noOfCases + \"|\" + plusTolerance + \"|\" + totalCases + \"|\" + allocatedQty);\r\n//\r\n//                if (pickupHeaders != null && !pickupHeaders.isEmpty()) {\r\n//                    double sumOfPickQty = pickupHeaders.stream().filter(n -> n.getPickToQty() != null).mapToDouble(PickupHeaderV2::getPickToQty).sum();\r\n//                    double totalQty = sumOfPickQty + allocatedQty;\r\n//                    log.info(\"TotalQty : \" + totalQty);\r\n//                    if (totalQty < totalCases) {\r\n//                        PU_NO = pickupHeaders.get(0).getPickupNumber();\r\n//                        createPickUpHeaderV3(companyCodeId, plantId, languageId, warehouseId, PU_NO, preOutboundNo, refDocNumber, orderManagementLine, loginUserId);\r\n//                    } else {\r\n//                        createPickUpHeaderV3(companyCodeId, plantId, languageId, warehouseId, noOfCases, allocatedQty, totalCases, preOutboundNo, refDocNumber, orderManagementLine, loginUserId);\r\n//                    }\r\n//                } else if (pickupHeaders == null || pickupHeaders.isEmpty()) {\r\n//                    createPickUpHeaderV3(companyCodeId, plantId, languageId, warehouseId, noOfCases, allocatedQty, totalCases, preOutboundNo, refDocNumber, orderManagementLine, loginUserId);\r\n//                }\r\n//            } else {\r\n//                PU_NO = getNextRangeNumber(10L, companyCodeId, plantId, languageId, warehouseId);\r\n//                createPickUpHeaderV3(companyCodeId, plantId, languageId, warehouseId, PU_NO, preOutboundNo, refDocNumber, orderManagementLine, loginUserId);\r\n//            }\r\n//        }\r\n//    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param noOfCases\r\n     * @param allocatedQty\r\n     * @param totalCases\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param orderManagementLine\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n//    private void createPickUpHeaderV3(String companyCodeId, String plantId, String languageId, String warehouseId, double noOfCases, double allocatedQty,\r\n//                                      double totalCases, String preOutboundNo, String refDocNumber, OrderManagementLineV2 orderManagementLine, String loginUserId) throws Exception {\r\n//        try {\r\n//            String idMasterToken = getIDMasterAuthToken();\r\n//            long NUM_RAN_CODE = 10;\r\n//            double i = noOfCases;\r\n//            double j = allocatedQty;\r\n//            while (i <= allocatedQty) {\r\n//                String PU_NO = getNextRangeNumber(NUM_RAN_CODE, companyCodeId, plantId, languageId, warehouseId, idMasterToken);\r\n//                log.info(\"----------New PU_NO--------> : \" + PU_NO);\r\n//                createPickUpHeaderV3(companyCodeId, plantId, languageId, warehouseId, PU_NO, preOutboundNo, refDocNumber, orderManagementLine, loginUserId);\r\n//                i = i + noOfCases;\r\n//                j = j - noOfCases;\r\n//                if(j > noOfCases && j <= totalCases) {\r\n//                    i = allocatedQty;\r\n//                }\r\n//            }\r\n//        } catch (Exception e) {\r\n//            log.error(\"Exception while creating PickUpHeader : \" + e.getLocalizedMessage());\r\n//            throw e;\r\n//        }\r\n//    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param preOutboundNo\r\n     * @param outboundHeader\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n//    private void validatePickupHeaderCreation(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n//                                              String refDocNumber, String preOutboundNo, OutboundHeaderV2 outboundHeader, String loginUserId) throws Exception {\r\n//\r\n//        String salesOrderNumber = outboundHeader.getSalesOrderNumber();\r\n//        log.info(\"SalesOrderNumber : \" + salesOrderNumber);\r\n//        List<DocumentNumber> documentNumberList = new ArrayList<>();\r\n//        try {\r\n//            if (outboundHeader.getOutboundOrderTypeId() == 3L) {\r\n//                List<String> customerIdList = preOutboundHeaderV2Repository.getCustomerIdByOrder(companyCodeId, plantId, languageId, warehouseId, refDocNumber);\r\n//                log.info(\"CustomerId List : \" + customerIdList.size());\r\n//                if (customerIdList != null && !customerIdList.isEmpty()) {\r\n//                    for (String customerId : customerIdList) {\r\n//                        log.info(\"CustomerId : \" + customerId);\r\n//                        List<OrderManagementLineV2> orderManagementLineList = orderManagementLineService.getOrderManagementLinesV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, customerId);\r\n//                        documentNumberList = createPickupHeaderV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, orderManagementLineList, loginUserId);\r\n//                    }\r\n//                }\r\n//                assignPicker(companyCodeId, plantId, languageId, warehouseId, outboundHeader, documentNumberList, loginUserId);\r\n//            }\r\n//        } catch (Exception e) {\r\n//            log.error(\"Exception while validating PickupHeader creation\");\r\n//            throw e;\r\n//        }\r\n//    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param preOutboundNo\r\n     * @param outboundHeader\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n    private void validatePickupHeaderCreation(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                              String refDocNumber, String preOutboundNo, OutboundHeaderV2 outboundHeader, String loginUserId) throws Exception {\r\n\r\n        String salesOrderNumber = outboundHeader.getSalesOrderNumber();\r\n        log.info(\"SalesOrderNumber : \" + salesOrderNumber);\r\n        log.info(\"CompanyId : \" + companyCodeId);\r\n        log.info(\"PlantId : \" + plantId);\r\n        log.info(\"WarehouseId : \" + warehouseId);\r\n        Long pickupHeaderStatusCheck = preOutboundHeaderV2Repository.getPickupHeaderCreateStatus(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n        log.info(\"pickupHeaderStatusCheck : \" + pickupHeaderStatusCheck);\r\n        try {\r\n            if (pickupHeaderStatusCheck == 1 && outboundHeader.getOutboundOrderTypeId() == 3L) {\r\n                List<String> shipToPartyList = preOutboundHeaderV2Repository.getShipToParty(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n//                log.info(\"shipToParty List : \" + shipToPartyList.size());\r\n                if (shipToPartyList != null && !shipToPartyList.isEmpty()) {\r\n                    for (String shipToParty : shipToPartyList) {\r\n                        log.info(\"ShipToParty : \" + shipToParty);\r\n                        List<OrderManagementLineV2> orderManagementLineList = orderManagementLineService.getOrderManagementLinesShipToPartyV3(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber, shipToParty);\r\n                        createPickupHeaderV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, orderManagementLineList, loginUserId);\r\n                    }\r\n                }\r\n                preOutboundHeaderService.assignPicker(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while validating PickupHeader creation\");\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param preOutboundNo\r\n     * @param outboundHeader\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n    private void validatePickupHeaderCreationV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                              String refDocNumber, String preOutboundNo, OutboundHeaderV2 outboundHeader, String loginUserId) throws Exception {\r\n    \tlog.info(\"---companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, outboundHeader, loginUserId : {},{},{},{},{},{},{},{}--->\",\r\n    \t\t\tcompanyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, outboundHeader, loginUserId);\r\n        String salesOrderNumber = outboundHeader.getSalesOrderNumber();\r\n        \r\n        log.info(\"SalesOrderNumber : \" + salesOrderNumber);\r\n        Long pickupHeaderStatusCheck = preOutboundHeaderV2Repository.getPickupHeaderCreateStatus(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n        log.info(\"pickupHeaderStatusCheck : \" + pickupHeaderStatusCheck);\r\n        try {\r\n            if (pickupHeaderStatusCheck == 1 && outboundHeader.getOutboundOrderTypeId() == 3L) {\r\n//            if (outboundHeader.getOutboundOrderTypeId() == 3L) {\r\n                List<String> shipToPartyList = preOutboundHeaderV2Repository.getShipToParty(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n                log.info(\"shipToParty List : \" + shipToPartyList.size());\r\n                if (shipToPartyList != null && !shipToPartyList.isEmpty()) {\r\n                    for (String shipToParty : shipToPartyList) {\r\n                        log.info(\"ShipToParty : \" + shipToParty);\r\n                        List<OrderManagementLineV2> orderManagementLineList = orderManagementLineService.getOrderManagementLinesShipToPartyV3(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber, shipToParty);\r\n                        log.info(\"OrderManagementLine List in Orderfullfillment -----------------------> RefDocNo is {} \", refDocNumber);\r\n                        createPickupHeaderV4(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, orderManagementLineList, loginUserId);\r\n                    }\r\n                }\r\n                preOutboundHeaderService.assignPicker(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while validating PickupHeader creation\");\r\n            throw e;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * @param outboundHeader\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n    private void validatePickupHeaderCreationV2(OutboundIntegrationHeaderV2 outboundHeader, String salesOrderNumber, String loginUserId) throws Exception {\r\n\r\n        String companyCodeId = outboundHeader.getCompanyCode();\r\n        String plantId = outboundHeader.getBranchCode();\r\n        String warehouseId = outboundHeader.getWarehouseID();\r\n        String languageId = outboundHeader.getLanguageId();\r\n        log.info(\"SalesOrderNumber : \" + salesOrderNumber);\r\n        Long pickupHeaderStatusCheck = preOutboundHeaderV2Repository.getPickupHeaderCreateStatus(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n        log.info(\"pickupHeaderStatusCheck : \" + pickupHeaderStatusCheck);\r\n        try {\r\n            if (pickupHeaderStatusCheck == 1) {\r\n                List<String> shipToPartyList = preOutboundHeaderV2Repository.getShipToParty(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n//                log.info(\"shipToParty List : \" + shipToPartyList.size());\r\n                if (shipToPartyList != null && !shipToPartyList.isEmpty()) {\r\n                    for (String shipToParty : shipToPartyList) {\r\n                        log.info(\"ShipToParty : \" + shipToParty);\r\n                        List<OrderManagementLineV2> orderManagementLineList = orderManagementLineService.getOrderManagementLinesShipToPartyV3(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber, shipToParty);\r\n                        \r\n                        log.info(\"---validatePickupHeaderCreationV2---orderManagementLineList-----> : \" + orderManagementLineList);\r\n                        createPickupHeaderV3(companyCodeId, plantId, languageId, warehouseId, orderManagementLineList.get(0).getRefDocNumber(), orderManagementLineList.get(0).getPreOutboundNo(), orderManagementLineList, loginUserId);\r\n                    }\r\n                }\r\n                preOutboundHeaderService.assignPicker(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while validating PickupHeader creation\");\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param outboundHeader\r\n     * @param documentNumberList\r\n     * @throws Exception\r\n     */\r\n    private void assignPicker(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                              OutboundHeaderV2 outboundHeader, List<DocumentNumber> documentNumberList, String loginUserId) throws Exception {\r\n        try {\r\n            String salesOrderNumber = outboundHeader.getSalesOrderNumber();\r\n            Long pickupHeaderStatusCheck = preOutboundHeaderV2Repository.getPickupHeaderCreateStatus(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n            log.info(\"pickupHeaderStatusCheck : \" + pickupHeaderStatusCheck);\r\n            if (pickupHeaderStatusCheck == 1 && outboundHeader.getOutboundOrderTypeId() == 3L) {\r\n                preOutboundHeaderService.assignPicker(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n//                log.info(\"DocList : \" + documentNumberList);\r\n//                if (documentNumberList != null && !documentNumberList.isEmpty()) {\r\n//                    log.info(\"FireBase Notification Initiated !\");\r\n//                    for (DocumentNumber documentNumber : documentNumberList) {\r\n//                        fireBaseNotification(companyCodeId, plantId, languageId, warehouseId, documentNumber.getPreOutboundNo(), documentNumber.getRefDocNumber(), outboundHeader.getReferenceDocumentType(), loginUserId);\r\n//                    }\r\n//                }\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while validating PickupHeader creation\");\r\n            throw e;\r\n        }\r\n    }\r\n\r\n//    private void validatePickupHeaderCreation(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n//                                              String refDocNumber, String preOutboundNo, OutboundHeaderV2 outboundHeader, String loginUserId) throws Exception {\r\n//\r\n//        String salesOrderNumber = outboundHeader.getSalesOrderNumber();\r\n//        log.info(\"SalesOrderNumber : \" + salesOrderNumber);\r\n//        List<DocumentNumber> documentNumberList = new ArrayList<>();\r\n//        try {\r\n//            Long pickupHeaderStatusCheck = preOutboundHeaderV2Repository.getPickupHeaderCreateStatus(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n//            log.info(\"pickupHeaderStatusCheck : \" + pickupHeaderStatusCheck);\r\n//            if (pickupHeaderStatusCheck == 1 && outboundHeader.getOutboundOrderTypeId() == 3L) {\r\n//                List<String> customerIdList = preOutboundHeaderV2Repository.getCustomerId(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n//                log.info(\"CustomerId List : \" + customerIdList.size());\r\n//                if (customerIdList != null && !customerIdList.isEmpty()) {\r\n//                    for (String customerId : customerIdList) {\r\n//                        log.info(\"CustomerId : \" + customerId);\r\n//                        List<OrderManagementLineV2> orderManagementLineList = orderManagementLineService.getOrderManagementLinesV3(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber, customerId);\r\n//                        documentNumberList = createPickupHeaderV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, orderManagementLineList, loginUserId);\r\n//                    }\r\n//                }\r\n//                preOutboundHeaderService.assignPicker(companyCodeId, plantId, languageId, warehouseId, salesOrderNumber);\r\n//                log.info(\"DocList : \" + documentNumberList);\r\n//                if(documentNumberList != null && !documentNumberList.isEmpty()) {\r\n//                    log.info(\"FireBase Notification Initiated !\");\r\n//                    for(DocumentNumber documentNumber : documentNumberList) {\r\n//                        fireBaseNotification(companyCodeId, plantId, languageId, warehouseId, documentNumber.getPreOutboundNo(), documentNumber.getRefDocNumber(), outboundHeader.getReferenceDocumentType(), loginUserId);\r\n//                    }\r\n//                }\r\n//            }\r\n//        } catch (Exception e) {\r\n//            log.error(\"Exception while validating PickupHeader creation\");\r\n//            throw e;\r\n//        }\r\n//    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param orderManagementLine\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n    private void createPickUpHeaderV3(String companyCodeId, String plantId, String languageId, String warehouseId, String pickupNumber,\r\n                                      String preOutboundNo, String refDocNumber, OrderManagementLineV2 orderManagementLine, String loginUserId) throws Exception {\r\n        preOutboundNo = orderManagementLine.getPreOutboundNo();\r\n        refDocNumber = orderManagementLine.getRefDocNumber();\r\n        PickupHeaderV2 newPickupHeader = new PickupHeaderV2();\r\n\r\n//        List<PickupHeaderV2> pickupHeaderV2List = pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndItemCodeAndDeletionIndicator(\r\n//                companyCodeId, plantId,languageId, warehouseId, preOutboundNo, refDocNumber, orderManagementLine.getItemCode(), 0L);\r\n//        log.info(\"PickupHeader Deleted -------pickupHeaderV2List---------> {} \", pickupHeaderV2List);\r\n//        if(!pickupHeaderV2List.isEmpty()) {\r\n//            log.info(\"PickupHeader Deleted Successfully ----------------> Size is -----> {} \", pickupHeaderV2List.size());\r\n//            pickupHeaderV2Repository.deleteAll(pickupHeaderV2List);\r\n//        }\r\n\r\n        BeanUtils.copyProperties(orderManagementLine, newPickupHeader, CommonUtils.getNullPropertyNames(orderManagementLine));\r\n//            newPickupHeader.setAssignedPickerId(assignPickerId);\r\n        newPickupHeader.setPickupNumber(pickupNumber);\r\n        newPickupHeader.setPickToQty(orderManagementLine.getAllocatedQty());\r\n        // PICK_UOM\r\n        newPickupHeader.setPickUom(orderManagementLine.getOrderUom());\r\n\r\n        // STATUS_ID\r\n        newPickupHeader.setStatusId(48L);\r\n        statusDescription = getStatusDescription(48L, languageId);\r\n        newPickupHeader.setStatusDescription(statusDescription);\r\n\r\n        newPickupHeader.setReferenceField5(orderManagementLine.getDescription());\r\n        if (newPickupHeader.getCompanyDescription() == null) {\r\n            description = getDescription(companyCodeId, plantId, languageId, warehouseId);\r\n            newPickupHeader.setCompanyDescription(description.getCompanyDesc());\r\n            newPickupHeader.setPlantDescription(description.getPlantDesc());\r\n            newPickupHeader.setWarehouseDescription(description.getWarehouseDesc());\r\n        }\r\n        newPickupHeader.setDeletionIndicator(0L);\r\n        newPickupHeader.setPickupCreatedBy(loginUserId);\r\n        newPickupHeader.setPickUpdatedBy(loginUserId);\r\n        newPickupHeader.setPickupCreatedOn(new Date());\r\n        newPickupHeader.setPickUpdatedOn(new Date());\r\n\r\n        // Order_Text_Update\r\n        String text = \"PickupHeader Created\";\r\n        outboundOrderV2Repository.updateOutboundHeaderText(newPickupHeader.getOutboundOrderTypeId(), newPickupHeader.getRefDocNumber(), text);\r\n        log.info(\"PickupHeader Status Updated Successfully\");\r\n\r\n        PickupHeaderV2 createdPickupHeader = pickupHeaderV2Repository.save(newPickupHeader);\r\n        log.info(\"pickupHeader created: \" + createdPickupHeader);\r\n\r\n        orderManagementLineV2Repository.updateOrderManagementLineV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, pickupNumber,\r\n//                    assignPickerId,\r\n                orderManagementLine.getLineNumber(), orderManagementLine.getItemCode(), 48L, statusDescription, new Date());\r\n\r\n        outboundLineV2Repository.updateOutboundLineStatusV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo,\r\n                48L, statusDescription, orderManagementLine.getLineNumber(), orderManagementLine.getItemCode());\r\n//                    , assignPickerId);\r\n\r\n        // OutboundHeader Update\r\n        outboundHeaderV2Repository.updateOutboundHeaderStatusV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, 48L, statusDescription);\r\n        log.info(\"outboundHeader updated\");\r\n\r\n        // ORDERMANAGEMENTHEADER Update\r\n        orderManagementHeaderV2Repository.updateOrderManagementHeaderStatusV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, 48L, statusDescription);\r\n        log.info(\"orderManagementHeader updated\");\r\n\r\n        // PreOutboundHeader Update for PU_NO\r\n        preOutboundHeaderV2Repository.updatePreOutboundHeaderStatusId(companyCodeId, plantId, languageId, warehouseId, refDocNumber, pickupNumber, 48L, statusDescription);\r\n        log.info(\"PreOutboundHeader Updated PickupNo\");\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param orderManagementLine\r\n     * @param loginUserId\r\n     * @throws Exception\r\n     */\r\n    private PickupHeaderV2 createPickUpHeaderV4(String companyCodeId, String plantId, String languageId, String warehouseId, String pickupNumber,\r\n                                      String preOutboundNo, String refDocNumber, OrderManagementLineV2 orderManagementLine, String loginUserId) throws Exception {\r\n\r\n        preOutboundNo = orderManagementLine.getPreOutboundNo();\r\n        refDocNumber = orderManagementLine.getRefDocNumber();\r\n        PickupHeaderV2 newPickupHeader = new PickupHeaderV2();\r\n        BeanUtils.copyProperties(orderManagementLine, newPickupHeader, CommonUtils.getNullPropertyNames(orderManagementLine));\r\n\r\n//            newPickupHeader.setAssignedPickerId(assignPickerId);\r\n        newPickupHeader.setPickupNumber(pickupNumber);\r\n        newPickupHeader.setPickToQty(orderManagementLine.getAllocatedQty());\r\n        // PICK_UOM\r\n        newPickupHeader.setPickUom(orderManagementLine.getOrderUom());\r\n\r\n        // STATUS_ID\r\n        newPickupHeader.setStatusId(48L);\r\n        statusDescription = getStatusDescription(48L, languageId);\r\n        newPickupHeader.setStatusDescription(statusDescription);\r\n\r\n        newPickupHeader.setReferenceField5(orderManagementLine.getDescription());\r\n        if (newPickupHeader.getCompanyDescription() == null) {\r\n            description = getDescription(companyCodeId, plantId, languageId, warehouseId);\r\n            newPickupHeader.setCompanyDescription(description.getCompanyDesc());\r\n            newPickupHeader.setPlantDescription(description.getPlantDesc());\r\n            newPickupHeader.setWarehouseDescription(description.getWarehouseDesc());\r\n        }\r\n        newPickupHeader.setDeletionIndicator(0L);\r\n        newPickupHeader.setPickupCreatedBy(loginUserId);\r\n        newPickupHeader.setPickUpdatedBy(loginUserId);\r\n        newPickupHeader.setPickupCreatedOn(new Date());\r\n        newPickupHeader.setPickUpdatedOn(new Date());\r\n\r\n//        try {\r\n//\r\n//            // Order_Text_Update\r\n//            String text = \"PickupHeader Created\";\r\n//            outboundOrderV2Repository.updateOutboundHeaderText(newPickupHeader.getOutboundOrderTypeId(), newPickupHeader.getRefDocNumber(), text);\r\n//            log.info(\"PickupHeader Status Updated Successfully -----------------> \" + newPickupHeader.getRefDocNumber());\r\n//\r\n//            outboundLineV2Repository.updateOutboundLineStatusV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo,\r\n//                    48L, statusDescription, orderManagementLine.getLineNumber(), orderManagementLine.getItemCode());\r\n//\r\n//            // OutboundHeader Update\r\n//            outboundHeaderV2Repository.updateOutboundHeaderStatusV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, 48L, statusDescription);\r\n//            log.info(\"outboundHeader updated {} \", newPickupHeader.getRefDocNumber());\r\n//\r\n//            // PreOutboundHeader Update for PU_NO\r\n//            preOutboundHeaderV2Repository.updatePreOutboundHeaderStatusId(companyCodeId, plantId, languageId, warehouseId, refDocNumber, pickupNumber, 48L, statusDescription);\r\n//            log.info(\"PreOutboundHeader Updated PickupNo {} -------> RefDocNo is -------> {} \", pickupNumber, newPickupHeader.getRefDocNumber());\r\n//        } catch (Exception e) {\r\n//            log.error(\"Error creating PickupHeader for RefDocNo {}: {}\", refDocNumber, e.getMessage(), e);\r\n//            return null; // avoid breaking entire loop\r\n//        }\r\n        return newPickupHeader;\r\n        \r\n    }\r\n\r\n    /**\r\n     * Persist a batch of pickup headers in a short transactional block.\r\n     */\r\n    @Transactional(propagation = Propagation.REQUIRES_NEW)\r\n    public List<PickupHeaderV2> savePickupHeadersTx(List<PickupHeaderV2> pickupHeaderV2List) {\r\n        log.info(\"PickupHeader Saved Process Completed Size is -----------------------> \" + pickupHeaderV2List.size());\r\n        return pickupHeaderV2Repository.saveAll(pickupHeaderV2List);\r\n    }\r\n\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param orderTypeId\r\n     * @param outboundOrderProcess\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public OutboundHeaderV2 postOutboundOrder(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                              String preOutboundNo, String refDocNumber, Long orderTypeId,\r\n                                              OutboundOrderProcess outboundOrderProcess) throws Exception {\r\n        try {\r\n            log.info(\"Outbound Order Process save Initiated...! \" + refDocNumber);\r\n            OutboundHeaderV2 outboundHeader = new OutboundHeaderV2();\r\n            boolean isDuplicateOrder = preOutboundHeaderService.isPreOutboundHeaderExist(refDocNumber, orderTypeId);\r\n            log.info(\"IsDupicate : \" + refDocNumber + \" |---> \" + isDuplicateOrder);\r\n            if (!isDuplicateOrder) {\r\n                if (outboundOrderProcess.getPreOutboundHeader() != null) {\r\n                    log.info(\"PreOutboundHeader Deleted Successfully \" + outboundOrderProcess.getPreOutboundHeader());\r\n                    preOutboundHeaderV2Repository.delete(outboundOrderProcess.getPreOutboundHeader());\r\n                    preOutboundHeaderV2Repository.saveAndFlush(outboundOrderProcess.getPreOutboundHeader());\r\n                }\r\n                if (outboundOrderProcess.getOutboundHeader() != null) {\r\n                    log.info(\"OutboundHeader Deleted Successfully \" + outboundOrderProcess.getOutboundHeader());\r\n                    outboundHeaderV2Repository.delete(outboundOrderProcess.getOutboundHeader());\r\n                    outboundHeader = outboundHeaderV2Repository.saveAndFlush(outboundOrderProcess.getOutboundHeader());\r\n                }\r\n//                if (outboundOrderProcess.getOrderManagementHeader() != null) {\r\n//                    orderManagementHeaderV2Repository.saveAndFlush(outboundOrderProcess.getOrderManagementHeader());\r\n//                }\r\n                if (outboundOrderProcess.getPreOutboundLines() != null && !outboundOrderProcess.getPreOutboundLines().isEmpty()) {\r\n                    preOutboundLineV2Repository.deleteAll(outboundOrderProcess.getPreOutboundLines());\r\n                    log.info(\"OutboundLines Deleted Successfully\");\r\n                    preOutboundLineV2Repository.saveAll(outboundOrderProcess.getPreOutboundLines());\r\n                }\r\n                if (outboundOrderProcess.getOutboundLines() != null && !outboundOrderProcess.getOutboundLines().isEmpty()) {\r\n                    outboundLineV2Repository.deleteAll(outboundOrderProcess.getOutboundLines());\r\n                    log.info(\"OutboundLines Deleted Successfully\");\r\n                    outboundLineV2Repository.saveAll(outboundOrderProcess.getOutboundLines());\r\n                }\r\n//                if(outboundOrderProcess.getOrderManagementLines() != null && !outboundOrderProcess.getOrderManagementLines().isEmpty()) {\r\n//                    orderManagementLineV2Repository.saveAll(outboundOrderProcess.getOrderManagementLines());\r\n//                }\r\n            }\r\n            log.info(\"Outbound Order Save Process Completed ------> \" + refDocNumber);\r\n\r\n            //check the status of OrderManagementLine for NoStock update status of outbound header, preoutbound header, preoutboundline\r\n            statusDescription = getStatusDescription(47L, languageId);\r\n            orderManagementLineV2Repository.updateNostockStatusUpdateProc(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, 47L, statusDescription);\r\n            log.info(\"No stock status updated in preinbound header and line, outbound header using stored procedure when condition is satisfied\");\r\n\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            log.info(\"Rollback Initiated...!\" + refDocNumber);\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param orderTypeId\r\n     * @param outboundOrderProcess\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public OutboundHeaderV2 postOutboundOrderV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                              String preOutboundNo, String refDocNumber, Long orderTypeId,\r\n                                              OutboundOrderProcess outboundOrderProcess) throws Exception {\r\n        try {\r\n            log.info(\"Outbound Order Process save Initiated...! \" + refDocNumber);\r\n            OutboundHeaderV2 outboundHeader = new OutboundHeaderV2();\r\n            boolean isDuplicateOrder = preOutboundHeaderService.isPreOutboundHeaderExist(refDocNumber, orderTypeId);\r\n            log.info(\"IsDupicate : \" + refDocNumber + \" |---> \" + isDuplicateOrder);\r\n            if(!isDuplicateOrder) {\r\n                if (outboundOrderProcess.getPreOutboundHeader() != null) {\r\n                    preOutboundHeaderV2Repository.saveAndFlush(outboundOrderProcess.getPreOutboundHeader());\r\n                }\r\n                if(outboundOrderProcess.getOutboundHeader() != null) {\r\n                    outboundHeader = outboundHeaderV2Repository.saveAndFlush(outboundOrderProcess.getOutboundHeader());\r\n                }\r\n                if(outboundOrderProcess.getOrderManagementHeader() != null) {\r\n                    orderManagementHeaderV2Repository.saveAndFlush(outboundOrderProcess.getOrderManagementHeader());\r\n                }\r\n                if (outboundOrderProcess.getPreOutboundLines() != null && !outboundOrderProcess.getPreOutboundLines().isEmpty()) {\r\n                    preOutboundLineV2Repository.saveAll(outboundOrderProcess.getPreOutboundLines());\r\n                }\r\n                if(outboundOrderProcess.getOutboundLines() != null && !outboundOrderProcess.getOutboundLines().isEmpty()) {\r\n                    outboundLineV2Repository.saveAll(outboundOrderProcess.getOutboundLines());\r\n                }\r\n//                if(outboundOrderProcess.getOrderManagementLines() != null && !outboundOrderProcess.getOrderManagementLines().isEmpty()) {\r\n//                    orderManagementLineV2Repository.saveAll(outboundOrderProcess.getOrderManagementLines());\r\n//                }\r\n            }\r\n            log.info(\"Outbound Order Save Process Completed ------> \" + refDocNumber);\r\n\r\n            //check the status of OrderManagementLine for NoStock update status of outbound header, preoutbound header, preoutboundline\r\n            statusDescription = getStatusDescription(47L, languageId);\r\n            orderManagementLineV2Repository.updateNostockStatusUpdateProc(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, 47L, statusDescription);\r\n            log.info(\"No stock status updated in preinbound header and line, outbound header using stored procedure when condition is satisfied\");\r\n\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n\r\n            // Updating the Processed Status\r\n            log.info(\"Rollback Initiated...!\" + refDocNumber);\r\n//            rollback(outboundOrderProcess.getOutboundIntegrationHeader());\r\n//            orderService.updateProcessedOrderV2(refDocNumber, orderTypeId);\r\n\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param orderTypeId\r\n     * @param outboundOrderProcess\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public OutboundHeaderV2 postOutboundOrderV3(String companyCodeId, String plantId, String languageId,\r\n                                                String warehouseId, String preOutboundNo, String refDocNumber, Long orderTypeId,\r\n                                                OutboundOrderProcess outboundOrderProcess) throws Exception {\r\n        try {\r\n            log.info(\"Outbound Order Process save Initiated...! \" + refDocNumber);\r\n            log.info(\"------outboundOrderProcess.getOutboundLines()-------> \" + outboundOrderProcess.getOutboundLines());\r\n\r\n            OutboundHeaderV2 outboundHeader = new OutboundHeaderV2();\r\n            boolean isDuplicateOrder = preOutboundHeaderService.isPreOutboundHeaderExist(refDocNumber, orderTypeId);\r\n            log.info(\"IsDupicate : \" + refDocNumber + \" |---> \" + isDuplicateOrder);\r\n            if (!isDuplicateOrder) {\r\n                if (outboundOrderProcess.getPreOutboundHeader() != null) {\r\n                    preOutboundHeaderV2Repository.saveAndFlush(outboundOrderProcess.getPreOutboundHeader());\r\n                }\r\n\r\n                if (outboundOrderProcess.getPreOutboundLines() != null\r\n                        && !outboundOrderProcess.getPreOutboundLines().isEmpty()) {\r\n                    preOutboundLineV2Repository.saveAll(outboundOrderProcess.getPreOutboundLines());\r\n                }\r\n\r\n                if (outboundOrderProcess.getOutboundHeader() != null) {\r\n                    outboundHeaderV2Repository.saveAndFlush(outboundOrderProcess.getOutboundHeader());\r\n                }\r\n\r\n                if (outboundOrderProcess.getOutboundLines() != null && !outboundOrderProcess.getOutboundLines().isEmpty()) {\r\n                    outboundLineV2Repository.saveAll(outboundOrderProcess.getOutboundLines());\r\n                }\r\n            }\r\n            log.info(\"Outbound Order Save Process Completed ------> \" + refDocNumber);\r\n            return outboundHeader;\r\n        } catch (Exception e) {\r\n            log.info(\"Rollback Initiated...!\" + refDocNumber);\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param refDocType\r\n     * @param loginUserId\r\n     */\r\n    private void fireBaseNotification(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                      String preOutboundNo, String refDocNumber, String refDocType, String loginUserId) {\r\n        try {\r\n            List<String> deviceToken = pickupHeaderV2Repository.getDeviceToken(companyCodeId, plantId, languageId, warehouseId);\r\n            if (deviceToken != null && !deviceToken.isEmpty()) {\r\n                String title = \"PICKING\";\r\n                String message = refDocType + \" ORDER - \" + refDocNumber + \" - IS RECEIVED\";\r\n                NotificationSave notificationInput = new NotificationSave();\r\n                notificationInput.setUserId(Collections.singletonList(loginUserId));\r\n                notificationInput.setUserType(null);\r\n                notificationInput.setMessage(message);\r\n                notificationInput.setTopic(title);\r\n                notificationInput.setReferenceNumber(refDocNumber);\r\n                notificationInput.setDocumentNumber(preOutboundNo);\r\n                notificationInput.setCompanyCodeId(companyCodeId);\r\n                notificationInput.setPlantId(plantId);\r\n                notificationInput.setLanguageId(languageId);\r\n                notificationInput.setWarehouseId(warehouseId);\r\n                notificationInput.setCreatedOn(new Date());\r\n                notificationInput.setCreatedBy(loginUserId);\r\n                String response = pushNotificationService.sendPushNotification(deviceToken, notificationInput);\r\n                if (response.equals(\"OK\")) {\r\n                    pickupHeaderV2Repository.updateNotificationStatus(refDocNumber, warehouseId);\r\n                    log.info(\"status update successfully\");\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(\"Outbound fireBase notification error \" + e.toString());\r\n        }\r\n    }\r\n\r\n\r\n    @Transactional\r\n    public OutboundHeaderV2 fullfillOutboundReceivedV5(OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {\r\n        String companyCodeId = null;\r\n        String plantId = null;\r\n        String languageId = null;\r\n        String warehouseId = null;\r\n        String refDocNumber = null;\r\n        try {\r\n            companyCodeId = outboundIntegrationHeader.getCompanyCode();\r\n            plantId = outboundIntegrationHeader.getBranchCode();\r\n            languageId = outboundIntegrationHeader.getLanguageId() != null ? outboundIntegrationHeader.getLanguageId() : LANG_ID;\r\n            warehouseId = outboundIntegrationHeader.getWarehouseID();\r\n            refDocNumber = outboundIntegrationHeader.getRefDocumentNo();\r\n            Long statusId = 39L;\r\n            statusDescription = getStatusDescription(statusId, languageId);\r\n\r\n            log.info(\"Outbound process fullfill Initiated ------> : {}|{}|{}|{}|{}\", companyCodeId, plantId, languageId, warehouseId, refDocNumber);\r\n            WK = \"SAP-ORDER FULLFILLMENT\";\r\n\r\n            // ---------------PreOutboundHeader-----------------------------------------------------------------------------------\r\n            log.info(\"preOutboundHeader inpouts : {},{},{},{},{}\", companyCodeId, plantId, languageId, warehouseId, refDocNumber);\r\n            PreOutboundHeaderV2 preOutbound = preOutboundHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndDeletionIndicator(\r\n                    companyCodeId, plantId, languageId, warehouseId, refDocNumber, 0L);\r\n            if (preOutbound == null) {\r\n                throw new BadRequestException(\"PreOutboundHeader These Values Doesn't Exist\");\r\n            }\r\n            // OutboundHeader\r\n            OutboundHeaderV2 outboundHeader = outboundHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n                    companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutbound.getPreOutboundNo(), 0L);\r\n\r\n            // OrderManagementHeader\r\n            OrderManagementHeaderV2 orderManagementHeader = orderManagementHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n                    companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutbound.getPreOutboundNo(), 0L);\r\n\r\n            // PreOutboundHeaderV2 Insert\r\n            PreOutboundHeaderV2 newPreOutbound = new PreOutboundHeaderV2();\r\n            BeanUtils.copyProperties(preOutbound, newPreOutbound, CommonUtils.getNullPropertyNames(preOutbound));\r\n            BeanUtils.copyProperties(outboundIntegrationHeader, newPreOutbound, CommonUtils.getNullPropertyNames(outboundIntegrationHeader));\r\n            preOutboundHeaderV2Repository.delete(preOutbound);\r\n            log.info(\"----------PreOutboundHeaderV2------delete-----> : \" + preOutbound);\r\n\r\n            preOutboundHeaderV2Repository.save(newPreOutbound);\r\n            log.info(\"----------PreOutboundHeaderV2------newly-created-----> : \" + newPreOutbound);\r\n\r\n            // OutboundHeaderV2 Insert\r\n            OutboundHeaderV2 newOutboundHeader = new OutboundHeaderV2 ();\r\n            BeanUtils.copyProperties(newPreOutbound, newOutboundHeader, CommonUtils.getNullPropertyNames(newPreOutbound));\r\n            if (outboundHeader.getPartnerCode() == null) {\r\n            \tnewOutboundHeader.setPartnerCode(\"STO\");\r\n            }\r\n            outboundHeaderV2Repository.delete(outboundHeader);\r\n            log.info(\"----------OutboundHeaderV2------delete-----> : \" + outboundHeader);\r\n\r\n            outboundHeaderV2Repository.save(newOutboundHeader);\r\n            log.info(\"----------OutboundHeaderV2------newly-created-----> : \" + newOutboundHeader);\r\n\r\n            // OrderManagementHeaderV2 Insert\r\n            OrderManagementHeaderV2 newOrderManagementHeader = new OrderManagementHeaderV2 ();\r\n            BeanUtils.copyProperties(newPreOutbound, newOrderManagementHeader, CommonUtils.getNullPropertyNames(newPreOutbound));\r\n            statusId = 41L;\r\n            statusDescription = getStatusDescription(statusId, languageId);\r\n            newOrderManagementHeader.setStatusId(statusId);\r\n            newOrderManagementHeader.setStatusDescription(statusDescription);\r\n            orderManagementHeaderV2Repository.delete(orderManagementHeader);\r\n            log.info(\"----------OrderManagementHeaderV2------delete-----> : \" + orderManagementHeader);\r\n            \r\n            /*\r\n             * Delete existing order mgmt lines\r\n             */\r\n            List<OrderManagementLineV2> orderManagementLineV2s = orderManagementLineV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndDeletionIndicator(\r\n                  companyCodeId, plantId, languageId, warehouseId, newOrderManagementHeader.getPreOutboundNo(), newOrderManagementHeader.getRefDocNumber(), 0L);\r\n\t        if(!orderManagementLineV2s.isEmpty()) {\r\n\t        \torderManagementLineV2Repository.deleteAll(orderManagementLineV2s);\r\n\t        \tlog.info(\"OrderManagementLine is Deleted Successfully ----------------------> Size is ----> {} \", orderManagementLineV2s.size());\r\n\t        }\r\n\r\n            orderManagementHeaderV2Repository.save(newOrderManagementHeader);\r\n            log.info(\"----------OrderManagementHeaderV2------newly-created-----> : \" + newOrderManagementHeader);\r\n\r\n            \r\n            /*\r\n             * Delete existing Pickup header\r\n             */\r\n            List<PickupHeaderV2> pickupHeaderV2List = pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n                    companyCodeId, plantId,languageId, warehouseId, refDocNumber, newOrderManagementHeader.getPreOutboundNo(), 0L);\r\n            log.info(\"PickupHeader Deleted -------pickupHeaderV2List---------> {} \", pickupHeaderV2List);\r\n            if(!pickupHeaderV2List.isEmpty()) {\r\n                pickupHeaderV2Repository.deleteAll(pickupHeaderV2List);\r\n                log.info(\"PickupHeader Deleted Successfully ----------------> Size is -----> {} \", pickupHeaderV2List.size());\r\n            }\r\n            \r\n            // Lines\r\n            List<PreOutboundLineV2> preOutboundLine = preOutboundLineV2Repository.findByLanguageIdAndCompanyCodeIdAndPlantIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n                    languageId, companyCodeId, plantId, warehouseId, refDocNumber, preOutbound.getPreOutboundNo(), 0L);\r\n            if(preOutboundLine.isEmpty()) {\r\n                throw new BadRequestException(\"PreInboundLine Doesn't Values\");\r\n            }\r\n            \r\n            List<PreOutboundLineV2> preOutboundLineV2s = new ArrayList<>();\r\n            for(PreOutboundLineV2 preOutboundLineV2 : preOutboundLine ) {\r\n                for(OutboundIntegrationLineV2 line : outboundIntegrationHeader.getOutboundIntegrationLines()) {\r\n                    if(preOutboundLineV2.getRefDocNumber().equals(line.getPickListNo()) &&\r\n                            preOutboundLineV2.getLineNumber().equals(line.getLineReference())) {\r\n                    \tPreOutboundLineV2 newPreOutboundLineV2 = new PreOutboundLineV2 ();\r\n                        BeanUtils.copyProperties(preOutboundLineV2, newPreOutboundLineV2, CommonUtils.getNullPropertyNames(preOutboundLineV2));\r\n                        BeanUtils.copyProperties(line, newPreOutboundLineV2, CommonUtils.getNullPropertyNames(line));\r\n                        newPreOutboundLineV2.setOrderQty(line.getOrderedQty());\r\n                        preOutboundLineV2s.add(newPreOutboundLineV2);\r\n                    }\r\n                }\r\n            }\r\n            preOutboundLineV2Repository.deleteAll(preOutboundLine);\r\n            preOutboundLineV2Repository.saveAll(preOutboundLineV2s);\r\n\r\n\r\n            // OrderManagementLine - This flow is from SAP Order update, so not from direct API calling\r\n            boolean fromOrderFullfillment = true;\r\n\r\n            createOrderManagementLine(companyCodeId, plantId, languageId, warehouseId, outboundIntegrationHeader,\r\n                    preOutboundLineV2s, WK, fromOrderFullfillment);\r\n\r\n            validatePickupHeaderCreation(companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutbound.getPreOutboundNo(),\r\n                    newOutboundHeader, WK);\r\n            preOutboundHeaderV2Repository.updatePreOutboundHeaderStatusV3(companyCodeId, plantId, languageId, warehouseId, refDocNumber, 48L, \"IN PICKING\");\r\n            return newOutboundHeader;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            // Updating the Processed Status\r\n            log.info(\"Rollback Initiated...!\" + outboundIntegrationHeader.getRefDocumentNo());\r\n            rollback(outboundIntegrationHeader);\r\n            orderService.updateProcessedOrderV2(outboundIntegrationHeader.getRefDocumentNo(), outboundIntegrationHeader.getOutboundOrderTypeID());\r\n            throw e;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     *\r\n     * @param outboundIntegrationHeaderV2 orderReprocess\r\n     */\r\n    public void outboundOrderProcessCreation(OutboundIntegrationHeaderV2 outboundIntegrationHeaderV2) {\r\n\r\n        String refDocNo = outboundIntegrationHeaderV2.getRefDocumentNo();\r\n        String companyId = outboundIntegrationHeaderV2.getCompanyCode();\r\n        String plantId = outboundIntegrationHeaderV2.getBranchCode();\r\n        String warehouseId = outboundIntegrationHeaderV2.getWarehouseID();\r\n\r\n        log.info(\"Outbound Re-OrderProcessing CompanyId - {}, PlantId - {}, WarehouseId - {}, RefDocNo - {} \", companyId, plantId, warehouseId, refDocNo);\r\n\r\n        // PreOutboundHeader OldOrder Delete Process\r\n        preOutboundHeaderV2Repository.deletePreOutboundHeader(companyId, plantId,warehouseId, refDocNo);\r\n        log.info(\"PreOutboundHeader Deleted Successfully --> Order No is {} \", refDocNo);\r\n\r\n        // PreOutboundHederLine OldOrder Delete Process\r\n        preOutboundLineV2Repository.deletePreOutboundLine(companyId, plantId, warehouseId, refDocNo);\r\n        log.info(\"PreOutboundLine Deleted Successfully --> Order No is {} \", refDocNo);\r\n\r\n        // OutboundHeader OldOrder Delete Process\r\n        outboundHeaderV2Repository.deleteOutboundHeader(companyId, plantId, warehouseId, refDocNo);\r\n        log.info(\"OutboundHeader Deleted Successfully --> Order No is {} \", refDocNo);\r\n\r\n        // OutboundLine OldOrder Delete Process\r\n        outboundLineV2Repository.deleteOutboundLine(companyId, plantId, warehouseId, refDocNo);\r\n        log.info(\"OutboundLine Deleted Successfully --> Order No is {} \", refDocNo);\r\n\r\n    }\r\n\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param outboundIntegrationHeader\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private void createOrderManagementLineFullfillment(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                                       OutboundIntegrationHeaderV2 outboundIntegrationHeader, List<PreOutboundLineV2> preOutboundLineList,\r\n                                                       String loginUserId, boolean fromOrderFullfillment) throws Exception {\r\n        try {\r\n            for (PreOutboundLineV2 preOutboundLine : preOutboundLineList) {\r\n                log.error(\"--------1-------fromOrderFullfillment----> \" + fromOrderFullfillment);\r\n                OrderManagementLineV2 orderManagementLine = new OrderManagementLineV2();\r\n                BeanUtils.copyProperties(preOutboundLine, orderManagementLine, CommonUtils.getNullPropertyNames(preOutboundLine));\r\n\r\n                if (preOutboundLine.getCustomerId() == null) {\r\n                    orderManagementLine.setPartnerCode(\"STO\");\r\n                }\r\n                log.info(\"orderManagementLine : \" + orderManagementLine);\r\n\r\n                Long OB_ORD_TYP_ID = outboundIntegrationHeader.getOutboundOrderTypeID();\r\n                List<Long> BIN_CLASS_ID  = new ArrayList<>();\r\n\r\n                if (OB_ORD_TYP_ID == 0L || OB_ORD_TYP_ID == 1L || OB_ORD_TYP_ID == 3L) {\r\n                    if (preOutboundLine.getMtoNumber() != null && !preOutboundLine.getMtoNumber().isEmpty()) {\r\n                        log.info(\"MTO Number is ------------------> {} \", preOutboundLine.getMtoNumber());\r\n                        BIN_CLASS_ID.add(10L);\r\n                        BIN_CLASS_ID.add(3L);\r\n                        BIN_CLASS_ID.add(1L);\r\n                    } else {\r\n                        BIN_CLASS_ID.add(1L);\r\n                        BIN_CLASS_ID.add(10L);\r\n                        BIN_CLASS_ID.add(3L);\r\n                    }\r\n\r\n                    OrderManagementLineV2 orderManagementLineV2 = orderManagementLineService.updateAllocationOrderFullfillment(companyCodeId, plantId, languageId, warehouseId, preOutboundLine.getItemCode(),\r\n                            orderManagementLine.getManufacturerName(), BIN_CLASS_ID, preOutboundLine.getOrderQty(), orderManagementLine, loginUserId, fromOrderFullfillment);\r\n                    log.info(\"OrderFullfillment method OrderManagement Line Created Successfully ----------> OrderId is {}\", orderManagementLineV2.getRefDocNumber());\r\n                }\r\n                if (OB_ORD_TYP_ID == 2L) {\r\n                    BIN_CLASS_ID.add(7L);\r\n                    OrderManagementLineV2 orderManagement = orderManagementLineService.updateAllocationOrderFullfillment(companyCodeId, plantId, languageId, warehouseId, preOutboundLine.getItemCode(),\r\n                            orderManagementLine.getManufacturerName(), BIN_CLASS_ID, preOutboundLine.getOrderQty(), orderManagementLine, loginUserId, fromOrderFullfillment);\r\n                    log.info(\"OrderFullfillment method OrderManagement Line Created Successfully ----------> OrderId is {}\", orderManagement.getRefDocNumber());\r\n                }\r\n            }\r\n        } catch (Exception e) {\r\n            log.error(\"Exception While OrderManagementLine create: \" + e);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java b/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java
--- a/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java	(date 1767265025320)
@@ -1121,7 +1121,7 @@
      * @return
      * @throws Exception
      */
-    @Transactional
+//    @Transactional
     public OutboundHeaderV2 fullfillOutboundReceivedV4(OutboundIntegrationHeaderV2 outboundIntegrationHeader) throws Exception {
         String companyCodeId = null;
         String plantId = null;
@@ -1542,6 +1542,7 @@
      * @param loginUserId
      * @return
      */
+
     private OrderManagementHeaderV2 createOrderManagementHeaderV2(PreOutboundHeaderV2 createdPreOutboundHeader, Long statusId, String statusDesc, String loginUserId) throws Exception {
         try {
             OrderManagementHeaderV2 newOrderManagementHeader = new OrderManagementHeaderV2();
@@ -2884,6 +2885,7 @@
      * @return
      * @throws Exception
      */
+    @Transactional
     public OutboundHeaderV2 postOutboundOrder(String companyCodeId, String plantId, String languageId, String warehouseId,
                                               String preOutboundNo, String refDocNumber, Long orderTypeId,
                                               OutboundOrderProcess outboundOrderProcess) throws Exception {
Index: ../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"corretto-11\" project-jdk-type=\"JavaSDK\" />\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml b/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml
--- a/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml	(date 1767265025352)
@@ -1,4 +1,3 @@
-<?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ExternalStorageConfigurationManager" enabled="true" />
   <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="corretto-11" project-jdk-type="JavaSDK" />
Index: ../OutboundTransactionService/.idea/gradle.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"GradleSettings\">\r\n    <option name=\"linkedExternalProjectsSettings\">\r\n      <GradleProjectSettings>\r\n        <option name=\"externalProjectPath\" value=\"$PROJECT_DIR$\" />\r\n        <option name=\"modules\">\r\n          <set>\r\n            <option value=\"$PROJECT_DIR$\" />\r\n          </set>\r\n        </option>\r\n      </GradleProjectSettings>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../OutboundTransactionService/.idea/gradle.xml b/../OutboundTransactionService/.idea/gradle.xml
--- a/../OutboundTransactionService/.idea/gradle.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../OutboundTransactionService/.idea/gradle.xml	(date 1767265025380)
@@ -1,5 +1,6 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
+  <component name="GradleMigrationSettings" migrationVersion="1" />
   <component name="GradleSettings">
     <option name="linkedExternalProjectsSettings">
       <GradleProjectSettings>
Index: ../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.api.idmaster.controller;\r\n\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.util.List;\r\n\r\nimport javax.validation.Valid;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.validation.annotation.Validated;\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PatchMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport com.tekclover.wms.api.idmaster.model.currency.AddCurrency;\r\nimport com.tekclover.wms.api.idmaster.model.currency.Currency;\r\nimport com.tekclover.wms.api.idmaster.model.currency.UpdateCurrency;\r\nimport com.tekclover.wms.api.idmaster.service.CurrencyService;\r\n\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\nimport io.swagger.annotations.SwaggerDefinition;\r\nimport io.swagger.annotations.Tag;\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@Validated\r\n@Api(tags = {\"Currency\"}, value = \"Currency Operations related to CurrencyController\") // label for swagger\r\n@SwaggerDefinition(tags = {@Tag(name = \"Currency\",description = \"Operations related to Currency\")})\r\n@RequestMapping(\"/currency\")\r\n@RestController\r\npublic class CurrencyController {\r\n\t\r\n\t@Autowired\r\n\tCurrencyService currencyService;\r\n\t\r\n    @ApiOperation(response = Currency.class, value = \"Get all Currency details\") // label for swagger\r\n\t@GetMapping(\"\")\r\n\tpublic ResponseEntity<?> getAll() {\r\n\t\tList<Currency> currencyList = currencyService.getCompanies();\r\n\t\treturn new ResponseEntity<>(currencyList, HttpStatus.OK);\r\n\t}\r\n    \r\n    @ApiOperation(response = Currency.class, value = \"Get a Currency\") // label for swagger \r\n\t@GetMapping(\"/{currencyId}\")\r\n\tpublic ResponseEntity<?> getCurrency(@PathVariable Long currencyId) {\r\n    \tCurrency currency = currencyService.getCurrency(currencyId);\r\n    \tlog.info(\"Currency : \" + currency);\r\n\t\treturn new ResponseEntity<>(currency, HttpStatus.OK);\r\n\t}\r\n    \r\n    @ApiOperation(response = Currency.class, value = \"Create Currency\") // label for swagger\r\n\t@PostMapping(\"\")\r\n\tpublic ResponseEntity<?> addCurrency(@Valid @RequestBody AddCurrency newCurrency) \r\n\t\t\tthrows IllegalAccessException, InvocationTargetException {\r\n\t\tCurrency createdCurrency = currencyService.createCurrency(newCurrency);\r\n\t\treturn new ResponseEntity<>(createdCurrency , HttpStatus.OK);\r\n\t}\r\n    \r\n    @ApiOperation(response = Currency.class, value = \"Update Currency\") // label for swagger\r\n    @PatchMapping(\"/{currencyId}\")\r\n\tpublic ResponseEntity<?> patchCurrency(@PathVariable Long currencyId, \r\n\t\t\t@Valid @RequestBody UpdateCurrency updateCurrency) \r\n\t\t\tthrows IllegalAccessException, InvocationTargetException {\r\n\t\tCurrency updatedCurrency = currencyService.updateCurrency(currencyId, updateCurrency);\r\n\t\treturn new ResponseEntity<>(updatedCurrency , HttpStatus.OK);\r\n\t}\r\n    \r\n    @ApiOperation(response = Currency.class, value = \"Delete Currency\") // label for swagger\r\n\t@DeleteMapping(\"/{currencyId}\")\r\n\tpublic ResponseEntity<?> deleteCurrency(@PathVariable Long currencyId) {\r\n    \tcurrencyService.deleteCurrency(currencyId);\r\n\t\treturn new ResponseEntity<>(HttpStatus.NO_CONTENT);\r\n\t}\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java b/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java
--- a/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java	(date 1767265025416)
@@ -33,7 +33,7 @@
 @Validated
 @Api(tags = {"Currency"}, value = "Currency Operations related to CurrencyController") // label for swagger
 @SwaggerDefinition(tags = {@Tag(name = "Currency",description = "Operations related to Currency")})
-@RequestMapping("/currency")
+@RequestMapping("/tpl/currency")
 @RestController
 public class CurrencyController {
 	
Index: ../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"ebef2d19-95bf-46e4-b7f2-6d0dbe011258\" name=\"Changes\" comment=\"\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/vcs.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/vcs.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/vcs.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/vcs.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/vcs.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/vcs.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/controller/InhouseTransferHeaderController.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/controller/InhouseTransferHeaderController.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Dev/OutboundTransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../MultiTenent/Dev/OutboundTransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/gradle.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/vcs.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/vcs.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ExternalProjectsData\">\r\n    <projectState path=\"$PROJECT_DIR$\">\r\n      <ProjectState />\r\n    </projectState>\r\n  </component>\r\n  <component name=\"ExternalProjectsManager\">\r\n    <system id=\"GRADLE\">\r\n      <state>\r\n        <projects_view>\r\n          <tree_state>\r\n            <expand />\r\n            <select />\r\n          </tree_state>\r\n        </projects_view>\r\n      </state>\r\n    </system>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$/../../..\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 2\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2b5Hhd7WLkrJspINgDC8mUukc94\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"git-widget-placeholder\": \"main\",\r\n    \"last_opened_file_path\": \"D:/GIT/active-projects/Almailem/AutoLab/ConnectorService\",\r\n    \"settings.editor.selected.configurable\": \"reference.settingsdialog.project.gradle\"\r\n  }\r\n}]]></component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"ebef2d19-95bf-46e4-b7f2-6d0dbe011258\" name=\"Changes\" comment=\"\" />\r\n      <created>1705498140179</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1705498140179</updated>\r\n    </task>\r\n    <servers />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml b/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml
--- a/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml	(date 1767265025428)
@@ -5,26 +5,21 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="ebef2d19-95bf-46e4-b7f2-6d0dbe011258" name="Changes" comment="">
-      <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/vcs.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../AutoLabMergeCode/05-11-2025/TransactionService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/InboundTransactionService/.idea/vcs.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/vcs.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundOrderService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/controller/InhouseTransferHeaderController.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/controller/InhouseTransferHeaderController.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Dev/OutboundTransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Dev/OutboundTransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PreOutboundHeaderService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PreOutboundHeaderService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../TransactionService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../TransactionService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/gradle.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/EnterpriseSetupService/.idea/vcs.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" afterDir="false" />
     </list>
Index: ../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.core.model.transaction;\r\n\r\nimport lombok.Data;\r\n\r\n@Data\r\npublic class Receipt {\r\n\r\n\tprivate String sku; \t\t// ITM_CODE\r\n\tprivate String description;\t// ITEM_TEXT\r\n\tprivate String mfrSku;\t\t// MFR_PART\r\n\tprivate Double expectedQty;\t// ORD_QTY\r\n\tprivate Double acceptedQty;\t// ACCEPT_QTY\r\n\tprivate Double damagedQty;\t// DAMAGE_QTY\r\n\tprivate Double missingORExcess;\t// SUM(Accepted + Damaged) - Expected\r\n\tprivate String status;\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java b/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java
--- a/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java	(date 1767265025457)
@@ -13,4 +13,5 @@
 	private Double damagedQty;	// DAMAGE_QTY
 	private Double missingORExcess;	// SUM(Accepted + Damaged) - Expected
 	private String status;
+	private String qualityStatus;
 }
Index: ../../Dev/WrapperService/src/main/resources/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>server.port=8086\r\n\r\nserver.servlet.context-path=/classicwms\r\n\r\n#UAT\r\nspring.datasource.url=jdbc:sqlserver://10.10.14.33;databaseName=WMS_WK\r\nspring.datasource.username=sa\r\nspring.datasource.password=VcDBpRrebn2N8LgBPSYitDcsbV\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.show-sql=false\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n#-----------Batch Configurtion-------------------------------------\r\nspring.batch.initialize-schema=always\r\nspring.batch.job.enabled=false\r\nspring.servlet.multipart.max-file-size=15MB\r\nspring.servlet.multipart.max-request-size=15MB\r\n\r\n#security\r\nsecurity.oauth2.resource.filter-order=3\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/../../Dev/WrapperService/src/main/resources/application.properties b/../../Dev/WrapperService/src/main/resources/application.properties
--- a/../../Dev/WrapperService/src/main/resources/application.properties	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../Dev/WrapperService/src/main/resources/application.properties	(date 1767265025480)
@@ -3,7 +3,7 @@
 server.servlet.context-path=/classicwms
 
 #UAT
-spring.datasource.url=jdbc:sqlserver://10.10.14.33;databaseName=WMS_WK
+spring.datasource.url=jdbc:sqlserver://10.10.14.33;databaseName=WMS_CMP
 spring.datasource.username=sa
 spring.datasource.password=VcDBpRrebn2N8LgBPSYitDcsbV
 spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver
Index: ../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"corretto-11\" project-jdk-type=\"JavaSDK\" />\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml b/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml
--- a/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml	(date 1767265025491)
@@ -1,4 +1,3 @@
-<?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ExternalStorageConfigurationManager" enabled="true" />
   <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="corretto-11" project-jdk-type="JavaSDK" />
Index: ../../../../MultiTenent/Dev/InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.api.inbound.transaction.service;\r\n\r\n\r\nimport com.tekclover.wms.api.inbound.transaction.config.dynamicConfig.DataBaseContextHolder;\r\nimport com.tekclover.wms.api.inbound.transaction.controller.exception.BadRequestException;\r\nimport com.tekclover.wms.api.inbound.transaction.model.auth.AuthToken;\r\nimport com.tekclover.wms.api.inbound.transaction.model.dto.ImBasicData1;\r\nimport com.tekclover.wms.api.inbound.transaction.model.dto.StorageBin;\r\nimport com.tekclover.wms.api.inbound.transaction.model.impl.StockReportImpl;\r\nimport com.tekclover.wms.api.inbound.transaction.model.inbound.gr.v2.GrLineV2;\r\nimport com.tekclover.wms.api.inbound.transaction.model.inbound.inventory.Inventory;\r\nimport com.tekclover.wms.api.inbound.transaction.model.inbound.inventory.SearchInventory;\r\nimport com.tekclover.wms.api.inbound.transaction.model.inbound.inventory.v2.InventoryV2;\r\nimport com.tekclover.wms.api.inbound.transaction.model.inbound.preinbound.PreInboundHeaderEntity;\r\nimport com.tekclover.wms.api.inbound.transaction.model.inbound.putaway.v2.PutAwayLineV2;\r\nimport com.tekclover.wms.api.inbound.transaction.model.inbound.v2.InboundLineV2;\r\nimport com.tekclover.wms.api.inbound.transaction.model.report.*;\r\nimport com.tekclover.wms.api.inbound.transaction.model.warehouse.inbound.v2.InboundOrderLinesV2;\r\nimport com.tekclover.wms.api.inbound.transaction.model.warehouse.inbound.v2.InboundOrderV2;\r\nimport com.tekclover.wms.api.inbound.transaction.repository.*;\r\nimport com.tekclover.wms.api.inbound.transaction.util.CommonUtils;\r\nimport com.tekclover.wms.api.inbound.transaction.util.DateUtils;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.data.domain.*;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.ZoneId;\r\nimport java.util.*;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\n\r\n@Slf4j\r\n@Service\r\npublic class ReportsService extends BaseService {\r\n\r\n    @Autowired\r\n    private InventoryV2Repository inventoryV2Repository;\r\n    @Autowired\r\n    private PreInboundHeaderRepository preInboundHeaderRepository;\r\n    @Autowired\r\n    private PreInboundLineV2Repository preInboundLineV2Repository;\r\n    @Autowired\r\n    private InboundHeaderV2Repository inboundHeaderV2Repository;\r\n    @Autowired\r\n    private InboundLineV2Repository inboundLineV2Repository;\r\n    @Autowired\r\n    private StagingHeaderV2Repository stagingHeaderV2Repository;\r\n    @Autowired\r\n    private StagingLineV2Repository stagingLineV2Repository;\r\n    @Autowired\r\n    private GrHeaderV2Repository grHeaderV2Repository;\r\n    @Autowired\r\n    private PutAwayLineV2Repository putAwayLineV2Repository;\r\n    @Autowired\r\n    private GrLineV2Repository grLineV2Repository;\r\n    @Autowired\r\n    private PutAwayHeaderV2Repository putAwayHeaderV2Repository;\r\n    @Autowired\r\n    private InboundOrderV2Repository inboundOrderV2Repository;\r\n    @Autowired\r\n    private InboundOrderLinesV2Repository inboundOrderLinesV2Repository;\r\n\r\n\r\n    @Autowired\r\n    InventoryService inventoryService;\r\n\r\n    @Autowired\r\n    PreInboundHeaderService preInboundHeaderService;\r\n\r\n    @Autowired\r\n    InboundLineService inboundLineService;\r\n\r\n    @Autowired\r\n    MastersService mastersService;\r\n\r\n    @Autowired\r\n    AuthTokenService authTokenService;\r\n\r\n    @Autowired\r\n    StorageBinRepository storagebinRepository;\r\n\r\n    @Autowired\r\n    InventoryRepository inventoryRepository;\r\n\r\n    @Autowired\r\n    ContainerReceiptRepository containerReceiptRepository;\r\n\r\n    @Autowired\r\n    InboundHeaderRepository inboundHeaderRepository;\r\n\r\n    @Autowired\r\n    InboundLineRepository inboundLineRepository;\r\n\r\n    @Autowired\r\n    OutboundLineRepository outboundLineRepository;\r\n\r\n    /**\r\n     * @param languageId\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param itemText\r\n     * @param stockTypeText\r\n     * @return\r\n     */\r\n    public List<StockReport> getAllStockReport(List<String> languageId, List<String> companyCodeId, List<String> plantId,\r\n                                               List<String> warehouseId, List<String> itemCode, List<String> manufacturerName, String itemText, String stockTypeText) {\r\n\r\n        if (languageId == null) {\r\n            throw new BadRequestException(\"languageId can't be blank\");\r\n        }\r\n\r\n        if (companyCodeId == null) {\r\n            throw new BadRequestException(\"companyCodeId can't be blank\");\r\n        }\r\n\r\n        if (plantId == null) {\r\n            throw new BadRequestException(\"plantId can't be blank\");\r\n        }\r\n\r\n        if (warehouseId == null) {\r\n            throw new BadRequestException(\"WarehouseId can't be blank.\");\r\n        }\r\n\r\n        if (stockTypeText == null) {\r\n            throw new BadRequestException(\"StockTypeText can't be blank.\");\r\n        }\r\n\r\n        if (itemCode != null && itemCode.isEmpty()) {\r\n            itemCode = null;\r\n        }\r\n        if (manufacturerName != null && manufacturerName.isEmpty()) {\r\n            manufacturerName = null;\r\n        }\r\n\r\n        if (itemText != null && itemText.trim().equals(\"\")) {\r\n            itemText = null;\r\n        }\r\n\r\n        List<StockReport> stockReportList = new ArrayList<>();\r\n        List<StockReportImpl> reportList = inventoryV2Repository.getAllStockReportNew(\r\n                languageId, companyCodeId, plantId,\r\n                warehouseId,\r\n                itemCode,\r\n                itemText,\r\n                manufacturerName,\r\n                stockTypeText);\r\n\r\n        reportList.forEach(data -> {\r\n            StockReport stockReport = new StockReport();\r\n            BeanUtils.copyProperties(data, stockReport);\r\n            stockReportList.add(stockReport);\r\n        });\r\n        return stockReportList;\r\n    }\r\n\r\n    /**\r\n     * @param searchStockReport\r\n     * @return\r\n     */\r\n    public List<StockReportImpl> stockReport(SearchStockReport searchStockReport) {\r\n\r\n        if (searchStockReport.getCompanyCodeId() == null || searchStockReport.getCompanyCodeId().isEmpty()) {\r\n            searchStockReport.setCompanyCodeId(null);\r\n        }\r\n\r\n        if (searchStockReport.getPlantId() == null || searchStockReport.getPlantId().isEmpty()) {\r\n            searchStockReport.setPlantId(null);\r\n        }\r\n\r\n        if (searchStockReport.getLanguageId() == null || searchStockReport.getLanguageId().isEmpty()) {\r\n            searchStockReport.setLanguageId(null);\r\n        }\r\n\r\n        if (searchStockReport.getWarehouseId() == null || searchStockReport.getWarehouseId().isEmpty()) {\r\n            searchStockReport.setWarehouseId(null);\r\n        }\r\n\r\n        if (searchStockReport.getItemCode() == null || searchStockReport.getItemCode().isEmpty()) {\r\n            searchStockReport.setItemCode(null);\r\n        }\r\n        if (searchStockReport.getManufacturerName() == null || searchStockReport.getManufacturerName().isEmpty()) {\r\n            searchStockReport.setManufacturerName(null);\r\n        }\r\n\r\n        if (searchStockReport.getItemText() == null || searchStockReport.getItemText().isEmpty()) {\r\n            searchStockReport.setItemText(null);\r\n        }\r\n\r\n        List<StockReportImpl> reportList = inventoryV2Repository.stockReportNew(\r\n                searchStockReport.getLanguageId(),\r\n                searchStockReport.getCompanyCodeId(),\r\n                searchStockReport.getPlantId(),\r\n                searchStockReport.getWarehouseId(),\r\n                searchStockReport.getItemCode(),\r\n                searchStockReport.getItemText(),\r\n                searchStockReport.getManufacturerName());\r\n\r\n        return reportList;\r\n    }\r\n\r\n\r\n    /**\r\n     * Inventory Report -------------------------\r\n     *\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param storageBin\r\n     * @param stockTypeText\r\n     * @param stSectionIds\r\n     * @param sortBy\r\n     * @param pageSize\r\n     * @param pageNo\r\n     * @param sortBy\r\n     * @param pageSize\r\n     * @param pageNo\r\n     * @return\r\n     */\r\n    public Page<InventoryReport> getInventoryReport(List<String> warehouseId, List<String> itemCode, String storageBin,\r\n                                                    String stockTypeText, List<String> stSectionIds, Integer pageNo, Integer pageSize, String sortBy) {\r\n        try {\r\n            AuthToken authTokenForMastersService = authTokenService.getMastersServiceAuthToken();\r\n\r\n            if (warehouseId == null) {\r\n                throw new BadRequestException(\"WarehouseId can't be blank.\");\r\n            }\r\n\r\n            SearchInventory searchInventory = new SearchInventory();\r\n            searchInventory.setWarehouseId(warehouseId);\r\n            searchInventory.setItemCode(itemCode);\r\n            searchInventory.setStorageBin(new ArrayList<>());\r\n            /*\r\n             * If ST_SEC_ID field value is entered in Search field, Pass ST_SEC_ID in\r\n             * STORAGE_BIN table and fetch ST_BIN values and pass these values in INVENTORY\r\n             * table to fetch the output values\r\n             */\r\n            if (stSectionIds != null) {\r\n                StorageBin[] dbStorageBin = mastersService.getStorageBinBySectionId(warehouseId.get(0), stSectionIds,\r\n                        authTokenForMastersService.getAccess_token());\r\n                List<String> stBins = Arrays.asList(dbStorageBin).stream().map(StorageBin::getStorageBin)\r\n                        .collect(Collectors.toList());\r\n                searchInventory.setStorageBin(stBins);\r\n            }\r\n\r\n            if (storageBin != null && !storageBin.trim().equals(\"\")) {\r\n                searchInventory.getStorageBin().add(storageBin);\r\n            }\r\n            searchInventory.setStockTypeId(new ArrayList<>());\r\n            if (stockTypeText.equals(\"ALL\")) {\r\n                searchInventory.getStockTypeId().add(1L);\r\n                searchInventory.getStockTypeId().add(7L);\r\n            } else if (stockTypeText.equals(\"HOLD\")) {\r\n                searchInventory.getStockTypeId().add(7L);\r\n            } else if (stockTypeText.equals(\"ON HAND\")) {\r\n                searchInventory.getStockTypeId().add(1L);\r\n            }\r\n\r\n            Pageable pageable = PageRequest.of(pageNo, pageSize, Sort.by(sortBy).descending());\r\n            Page<Inventory> inventoryList = inventoryService.findInventory(searchInventory, pageNo, pageSize, sortBy);\r\n            List<InventoryReport> reportInventoryList = new ArrayList<>();\r\n            for (Inventory dbInventory : inventoryList) {\r\n                InventoryReport reportInventory = new InventoryReport();\r\n\r\n                // WH_ID\r\n                reportInventory.setWarehouseId(dbInventory.getWarehouseId());\r\n\r\n                // ITM_CODE\r\n                reportInventory.setItemCode(dbInventory.getItemCode());\r\n                log.info(\"dbInventory.getItemCode() : \" + dbInventory.getItemCode());\r\n\r\n                /*\r\n                 * ITEM_TEXT\r\n                 *\r\n                 * Pass the fetched ITM_CODE values in IMBASICDATA1 table and fetch MFR_SKU\r\n                 * values\r\n                 */\r\n                ImBasicData1 imBasicData1 = mastersService.getImBasicData1ByItemCode(dbInventory.getItemCode(),\r\n                        dbInventory.getWarehouseId(), authTokenForMastersService.getAccess_token());\r\n                log.info(\"imBasicData1 : \" + imBasicData1);\r\n\r\n                if (imBasicData1 != null) {\r\n                    reportInventory.setDescription(imBasicData1.getDescription());\r\n                }\r\n\r\n                // INV_UOM\r\n                reportInventory.setUom(dbInventory.getInventoryUom());\r\n\r\n                // ST_BIN\r\n                reportInventory.setStorageBin(dbInventory.getStorageBin());\r\n                log.info(\"dbInventory.getStorageBin() : \" + dbInventory.getStorageBin());\r\n\r\n                /*\r\n                 * ST_SEC_ID Pass the selected ST_BIN values into STORAGEBIN table and fetch\r\n                 * ST_SEC_ID values\r\n                 */\r\n                StorageBin stBin = mastersService.getStorageBin(dbInventory.getStorageBin(), warehouseId.get(0),\r\n                        authTokenForMastersService.getAccess_token());\r\n                reportInventory.setStorageSectionId(stBin.getStorageSectionId());\r\n\r\n                // PACK_BARCODE\r\n                reportInventory.setPackBarcodes(dbInventory.getPackBarcodes());\r\n\r\n                // INV_QTY\r\n                reportInventory.setInventoryQty(dbInventory.getInventoryQuantity());\r\n\r\n                // STCK_TYP_ID/STCK_TYP_TEXT\r\n                reportInventory.setStockType(dbInventory.getStockTypeId());\r\n                reportInventoryList.add(reportInventory);\r\n            }\r\n            final Page<InventoryReport> page = new PageImpl<>(reportInventoryList, pageable,\r\n                    inventoryList.getTotalElements());\r\n            return page;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * @return\r\n     */\r\n    public List<InventoryReport> generateInventoryReport() {\r\n        List<String> warehouseId = new ArrayList<>();\r\n        warehouseId.add(\"110\");\r\n        warehouseId.add(\"111\");\r\n        List<Inventory> inventoryList = inventoryRepository.findByWarehouseIdInAndDeletionIndicator(warehouseId, 0L);\r\n        List<InventoryReport> reportInventoryList = new ArrayList<>();\r\n\r\n        inventoryList = inventoryList.stream()\r\n                .filter(data -> data != null &&\r\n                        (\r\n                                (data.getInventoryQuantity() != null && data.getInventoryQuantity() > 0) ||\r\n                                        (data.getAllocatedQuantity() != null && data.getAllocatedQuantity() > 0)\r\n                        ))\r\n                .collect(Collectors.toList());\r\n\r\n        for (Inventory dbInventory : inventoryList) {\r\n            InventoryReport reportInventory = new InventoryReport();\r\n\r\n            // WH_ID\r\n            reportInventory.setWarehouseId(dbInventory.getWarehouseId());\r\n\r\n            // ITM_CODE\r\n            reportInventory.setItemCode(dbInventory.getItemCode());\r\n\r\n            /*\r\n             * ITEM_TEXT\r\n             * -------------------------------------------------------------------------\r\n             * Pass the fetched ITM_CODE values in IMBASICDATA1 table and fetch MFR_SKU\r\n             * values\r\n             */\r\n            //HARESSH- 23-08-2022 - commented since data is already directly stored during inventory creation\r\n\r\n            reportInventory.setDescription(dbInventory.getReferenceField8());\r\n            reportInventory.setMfrPartNumber(dbInventory.getReferenceField9());\r\n            reportInventory.setStorageSectionId(dbInventory.getReferenceField10());\r\n            reportInventory.setAisleId(dbInventory.getReferenceField5());\r\n            reportInventory.setLevelId(dbInventory.getReferenceField6());\r\n            reportInventory.setRowId(dbInventory.getReferenceField7());\r\n\r\n\r\n            // INV_UOM\r\n            reportInventory.setUom(dbInventory.getInventoryUom());\r\n\r\n            // ST_BIN\r\n            reportInventory.setStorageBin(dbInventory.getStorageBin());\r\n\r\n            /*\r\n             * ST_SEC_ID Pass the selected ST_BIN values into STORAGEBIN table and fetch\r\n             * ST_SEC_ID values\r\n             */\r\n\r\n            //HARESSH- 23-08-2022 - commented since data is already directly stored during inventory creation\r\n\r\n            // PACK_BARCODE\r\n            reportInventory.setPackBarcodes(dbInventory.getPackBarcodes());\r\n\r\n            // INV_QTY\r\n            try {\r\n                reportInventory.setInventoryQty(dbInventory.getInventoryQuantity() != null ? dbInventory.getInventoryQuantity() : 0);\r\n                reportInventory.setAllocatedQty(dbInventory.getAllocatedQuantity() != null ? dbInventory.getAllocatedQuantity() : 0);\r\n\r\n                reportInventory.setTotalQuantity(Double.sum(dbInventory.getInventoryQuantity() != null ? dbInventory.getInventoryQuantity() : 0,\r\n                        dbInventory.getAllocatedQuantity() != null ? dbInventory.getAllocatedQuantity() : 0));\r\n            } catch (Exception e) {\r\n                log.info(\"ERROR : ALL_QTY , TOTAL_QTY CALCULATE  \", e);\r\n            }\r\n\r\n            // STCK_TYP_ID/STCK_TYP_TEXT\r\n            reportInventory.setStockType(dbInventory.getStockTypeId());\r\n            reportInventoryList.add(reportInventory);\r\n        }\r\n        return reportInventoryList;\r\n    }\r\n\r\n\r\n    /**\r\n     * @param asnNumber\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public ReceiptConfimationReport getReceiptConfimationReport(String asnNumber) throws Exception {\r\n        if (asnNumber == null) {\r\n            throw new BadRequestException(\"ASNNumber can't be blank\");\r\n        }\r\n\r\n        ReceiptConfimationReport receiptConfimation;\r\n        try {\r\n            receiptConfimation = new ReceiptConfimationReport();\r\n            ReceiptHeader receiptHeader = new ReceiptHeader();\r\n\r\n            // 22-08-2022-Hareesh //commented the not used method call\r\n\r\n            List<InboundLineV2> inboundLineSearchResults = inboundLineService.getInboundLineV2(asnNumber);\r\n\r\n            double sumTotalOfExpectedQty = 0.0;\r\n            double sumTotalOfAccxpectedQty = 0.0;\r\n            double sumTotalOfDamagedQty = 0.0;\r\n            double sumTotalOfMissingORExcess = 0.0;\r\n            List<Receipt> receiptList = new ArrayList<>();\r\n            log.info(\"inboundLine---------> : \" + inboundLineSearchResults);\r\n            if (!inboundLineSearchResults.isEmpty()) {\r\n                // Supplier - PARTNER_CODE\r\n                receiptHeader.setSupplier(inboundLineSearchResults.get(0).getBusinessPartnerCode());\r\n\r\n                receiptHeader.setSupplierName(inboundLineSearchResults.get(0).getSupplierName());\r\n\r\n                // Container No\r\n                receiptHeader.setContainerNo(inboundLineSearchResults.get(0).getContainerNo());\r\n\r\n                // Order Number - REF_DOC_NO\r\n                receiptHeader.setOrderNumber(inboundLineSearchResults.get(0).getRefDocNumber());\r\n\r\n                // Order Type -> PREINBOUNDHEADER - REF_DOC_TYPE\r\n                // Pass REF_DOC_NO in PREINBOUNDHEADER and fetch REF_DOC_TYPE\r\n                String referenceDocumentType = preInboundHeaderService.getReferenceDocumentTypeFromPreInboundHeader(\r\n                        inboundLineSearchResults.get(0).getWarehouseId(), inboundLineSearchResults.get(0).getPreInboundNo(),\r\n                        inboundLineSearchResults.get(0).getRefDocNumber());\r\n                receiptHeader.setOrderType(referenceDocumentType);\r\n                log.info(\"preInboundHeader referenceDocumentType--------> : \" + referenceDocumentType);\r\n            }\r\n            for (InboundLineV2 inboundLine : inboundLineSearchResults) {\r\n\r\n\r\n                Receipt receipt = new Receipt();\r\n\r\n                // SKU - ITM_CODE\r\n                receipt.setSku(inboundLine.getItemCode());\r\n\r\n                // Description - ITEM_TEXT\r\n                receipt.setDescription(inboundLine.getDescription());\r\n\r\n                // Mfr.Sku - MFR_PART\r\n                receipt.setMfrSku(inboundLine.getManufacturerName());\r\n\r\n                // Expected - ORD_QTY\r\n                double expQty = 0;\r\n                if (inboundLine.getOrderQty() != null) {\r\n                    expQty = inboundLine.getOrderQty();\r\n                    receipt.setExpectedQty(expQty);\r\n                    sumTotalOfExpectedQty += expQty;\r\n                    log.info(\"expQty------#--> : \" + expQty);\r\n                }\r\n\r\n                // Accepted - ACCEPT_QTY\r\n                double acceptQty = 0;\r\n                if (inboundLine.getAcceptedQty() != null) {\r\n                    acceptQty = inboundLine.getAcceptedQty();\r\n                    receipt.setAcceptedQty(acceptQty);\r\n                    sumTotalOfAccxpectedQty += acceptQty;\r\n                    log.info(\"acceptQty------#--> : \" + acceptQty);\r\n                }\r\n\r\n                // Damaged - DAMAGE_QTY\r\n                double damageQty = 0;\r\n                if (inboundLine.getDamageQty() != null) {\r\n                    damageQty = inboundLine.getDamageQty();\r\n                    receipt.setDamagedQty(damageQty);\r\n                    sumTotalOfDamagedQty += damageQty;\r\n                    log.info(\"damageQty------#--> : \" + damageQty);\r\n                }\r\n\r\n                // Missing/Excess - SUM(Accepted + Damaged) - Expected\r\n                double missingORExcessSum = (acceptQty + damageQty) - expQty;\r\n                sumTotalOfMissingORExcess += missingORExcessSum;\r\n                receipt.setMissingORExcess(missingORExcessSum);\r\n                log.info(\"missingORExcessSum------#--> : \" + missingORExcessSum);\r\n\r\n                // Status\r\n                /*\r\n                 * 1. If Missing/Excess = 0, then hardcode Status as \"\"Received\"\" 2. If Damage\r\n                 * qty is greater than zero, then Hard code status \"\"Damage Received\"\" 3. If\r\n                 * Missing/Excess is less than 0, then hardcode Status as \"\"Partial Received\"\"\r\n                 * 4. If Missing/Excess is excess than 0, then hardcode Status as \"\"Excess\r\n                 * Received\"\" 5. If Sum (Accepted Qty +Damaged qty) is 0, then Hardcode status\r\n                 * as \"\"Not yet received\"\"\r\n                 */\r\n                if (missingORExcessSum == 0) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (damageQty > 0) {\r\n                    receipt.setStatus(\"Damage Received\");\r\n                } else if (missingORExcessSum < 0) {\r\n                    receipt.setStatus(\"Partial Received\");\r\n                } else if (missingORExcessSum > 0) {\r\n                    receipt.setStatus(\"Excess Received\");\r\n                } else if (sumTotalOfMissingORExcess == 0) {\r\n                    receipt.setStatus(\"Not Received\");\r\n                }\r\n                log.info(\"receipt------#--> : \" + receipt);\r\n                receiptList.add(receipt);\r\n            }\r\n\r\n            receiptHeader.setExpectedQtySum(sumTotalOfExpectedQty);\r\n            receiptHeader.setAcceptedQtySum(sumTotalOfAccxpectedQty);\r\n            receiptHeader.setDamagedQtySum(sumTotalOfDamagedQty);\r\n            receiptHeader.setMissingORExcessSum(sumTotalOfMissingORExcess);\r\n\r\n            receiptConfimation.setReceiptHeader(receiptHeader);\r\n            receiptConfimation.setReceiptList(receiptList);\r\n            log.info(\"receiptConfimation : \" + receiptConfimation);\r\n            return receiptConfimation;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public ReceiptConfimationReport getReceiptConfimationReportV2(String asnNumber, String preInboundNo, String companyCodeId, String plantId,\r\n                                                                  String languageId, String warehouseId) throws Exception {\r\n        if (asnNumber == null) {\r\n            throw new BadRequestException(\"ASNNumber can't be blank\");\r\n        }\r\n        if (preInboundNo == null || companyCodeId == null || plantId == null || languageId == null || warehouseId == null) {\r\n            throw new BadRequestException(\"paramenters can't be blank\");\r\n        }\r\n\r\n        ReceiptConfimationReport receiptConfimation;\r\n        try {\r\n            receiptConfimation = new ReceiptConfimationReport();\r\n            ReceiptHeader receiptHeader = new ReceiptHeader();\r\n\r\n            // 22-08-2022-Hareesh //commented the not used method call\r\n            log.info(\"c_id, plant_id, lang_id, wh_id, preInboundNo, ref_doc_no: \" +\r\n                    companyCodeId + \", \" + plantId + \", \" + languageId + \", \" + warehouseId + \", \" + asnNumber + \", \" + preInboundNo);\r\n            List<InboundLineV2> inboundLineSearchResults = inboundLineService.getInboundLineForReportV2(asnNumber, preInboundNo, companyCodeId, plantId, languageId, warehouseId);\r\n            log.info(\"inboundLineSearchResults ------>: \" + inboundLineSearchResults.size());\r\n\r\n            Double sumTotalOfExpectedQty = 0.0;\r\n            Double sumTotalOfAccxpectedQty = 0.0;\r\n            Double sumTotalOfDamagedQty = 0.0;\r\n            Double sumTotalOfMissingORExcess = 0.0;\r\n            Double sumOfNoOfBags = 0.0;\r\n            List<Receipt> receiptList = new ArrayList<>();\r\n            log.info(\"inboundLine---------> : \" + inboundLineSearchResults.size());\r\n            if (!inboundLineSearchResults.isEmpty()) {\r\n                // Supplier - PARTNER_CODE\r\n                receiptHeader.setSupplier(inboundLineSearchResults.get(0).getBusinessPartnerCode());\r\n\r\n                receiptHeader.setSupplierName(inboundLineSearchResults.get(0).getSupplierName());\r\n\r\n                // Container No\r\n                receiptHeader.setContainerNo(inboundLineSearchResults.get(0).getContainerNo());\r\n\r\n                // Order Number - REF_DOC_NO\r\n                receiptHeader.setOrderNumber(inboundLineSearchResults.get(0).getRefDocNumber());\r\n\r\n                // Order Type -> PREINBOUNDHEADER - REF_DOC_TYPE\r\n                // Pass REF_DOC_NO in PREINBOUNDHEADER and fetch REF_DOC_TYPE\r\n                String referenceDocumentType = preInboundHeaderService.getReferenceDocumentTypeFromPreInboundHeader(\r\n                        inboundLineSearchResults.get(0).getWarehouseId(), inboundLineSearchResults.get(0).getPreInboundNo(),\r\n                        inboundLineSearchResults.get(0).getRefDocNumber());\r\n                receiptHeader.setOrderType(referenceDocumentType);\r\n                log.info(\"preInboundHeader referenceDocumentType--------> : \" + referenceDocumentType);\r\n            }\r\n            for (InboundLineV2 inboundLine : inboundLineSearchResults) {\r\n\r\n\r\n                Receipt receipt = new Receipt();\r\n\r\n                // SKU - ITM_CODE\r\n                receipt.setSku(inboundLine.getItemCode());\r\n\r\n                // Description - ITEM_TEXT\r\n                receipt.setDescription(inboundLine.getDescription());\r\n\r\n                // Mfr.Sku - MFR_PART\r\n                receipt.setMfrSku(inboundLine.getManufacturerName());\r\n\r\n                // Expected - ORD_QTY\r\n                Double expQty = 0.0;\r\n                if (inboundLine.getOrderQty() != null) {\r\n                    expQty = inboundLine.getOrderQty();\r\n                    receipt.setExpectedQty(expQty);\r\n                    sumTotalOfExpectedQty += expQty;\r\n                    log.info(\"expQty------#--> : \" + expQty);\r\n                }\r\n\r\n                // Accepted - ACCEPT_QTY\r\n                Double acceptQty = 0.0;\r\n                if (inboundLine.getAcceptedQty() != null) {\r\n                    acceptQty = inboundLine.getAcceptedQty();\r\n                    receipt.setAcceptedQty(acceptQty);\r\n                    sumTotalOfAccxpectedQty += acceptQty;\r\n                    log.info(\"acceptQty------#--> : \" + acceptQty);\r\n                }\r\n\r\n                // Damaged - DAMAGE_QTY\r\n                Double damageQty = 0.0;\r\n                if (inboundLine.getDamageQty() != null) {\r\n                    damageQty = inboundLine.getDamageQty();\r\n                    receipt.setDamagedQty(damageQty);\r\n                    sumTotalOfDamagedQty += damageQty;\r\n                    log.info(\"damageQty------#--> : \" + damageQty);\r\n                }\r\n\r\n                Double noOfBags = 0.0;\r\n                if (inboundLine.getNoBags() != null) {\r\n                    noOfBags = inboundLine.getNoBags();\r\n                    receipt.setNoOfBags(noOfBags);\r\n                    sumOfNoOfBags += noOfBags;\r\n                    log.info(\"expQty------#--> : \" + noOfBags);\r\n                }\r\n\r\n                // Missing/Excess - SUM(Accepted + Damaged) - Expected\r\n                Double missingORExcessSum = (acceptQty + damageQty) - expQty;\r\n                sumTotalOfMissingORExcess += missingORExcessSum;\r\n                receipt.setMissingORExcess(missingORExcessSum);\r\n                log.info(\"missingORExcessSum------#--> : \" + missingORExcessSum);\r\n\r\n                // Status\r\n                /*\r\n                 * 1. If Missing/Excess = 0, then hardcode Status as \"\"Received\"\" 2. If Damage\r\n                 * qty is greater than zero, then Hard code status \"\"Damage Received\"\" 3. If\r\n                 * Missing/Excess is less than 0, then hardcode Status as \"\"Partial Received\"\"\r\n                 * 4. If Missing/Excess is excess than 0, then hardcode Status as \"\"Excess\r\n                 * Received\"\" 5. If Sum (Accepted Qty +Damaged qty) is 0, then Hardcode status\r\n                 * as \"\"Not yet received\"\"\r\n                 */\r\n                if (missingORExcessSum == 0.0) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (missingORExcessSum.equals(0.0)) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (damageQty > 0.0) {\r\n                    receipt.setStatus(\"Damage Received\");\r\n                } else if (missingORExcessSum < 0.0) {\r\n                    receipt.setStatus(\"Partial Received\");\r\n                } else if (missingORExcessSum > 0.0) {\r\n                    receipt.setStatus(\"Excess Received\");\r\n                } else if (sumTotalOfMissingORExcess == 0.0) {\r\n                    receipt.setStatus(\"Not Received\");\r\n                }\r\n                log.info(\"receipt------#--> : \" + receipt);\r\n                receiptList.add(receipt);\r\n            }\r\n\r\n            //---------------------------------------------------------------------------------------\r\n            // Group by SKU and sum the fields\r\n            Map<String, Receipt> groupedReceipts = new LinkedHashMap<>();\r\n\r\n            for (Receipt r : receiptList) {\r\n                groupedReceipts.compute(r.getSku(), (sku, existing) -> {\r\n                    if (existing == null) {\r\n                        Receipt newReceipt = new Receipt();\r\n                        newReceipt.setSku(r.getSku());\r\n                        newReceipt.setDescription(r.getDescription());\r\n                        newReceipt.setMfrSku(r.getMfrSku());\r\n                        newReceipt.setExpectedQty(round1(r.getExpectedQty()));\r\n                        newReceipt.setAcceptedQty(round1(r.getAcceptedQty()));\r\n                        newReceipt.setDamagedQty(round1(r.getDamagedQty()));\r\n                        newReceipt.setMissingORExcess(r.getMissingORExcess() != null ? r.getMissingORExcess() : 0.0);\r\n                        newReceipt.setStatus(r.getStatus());\r\n                        newReceipt.setNoOfBags(r.getNoOfBags() != null ? r.getNoOfBags() : 0.0);\r\n                        return newReceipt;\r\n                    } else {\r\n                        existing.setExpectedQty(round1(existing.getExpectedQty()) + round1(r.getExpectedQty()));\r\n                        existing.setAcceptedQty(round1(existing.getAcceptedQty()) + round1(r.getAcceptedQty()));\r\n                        existing.setDamagedQty(round1(existing.getDamagedQty()) + round1(r.getDamagedQty()));\r\n                        existing.setMissingORExcess((existing.getMissingORExcess() != null ? existing.getMissingORExcess() : 0.0) + (r.getMissingORExcess() != null ? r.getMissingORExcess() : 0.0));\r\n                        existing.setNoOfBags((existing.getNoOfBags() != null ? existing.getNoOfBags() : 0.0) + (r.getNoOfBags() != null ? r.getNoOfBags() : 0.0));\r\n                        return existing;\r\n                    }\r\n                });\r\n            }\r\n//---------------------------------------------------------------------------------------\r\n            receiptHeader.setExpectedQtySum(round1(sumTotalOfExpectedQty));\r\n            receiptHeader.setAcceptedQtySum(round1(sumTotalOfAccxpectedQty));\r\n            receiptHeader.setDamagedQtySum(round1(sumTotalOfDamagedQty));\r\n            receiptHeader.setMissingORExcessSum(sumTotalOfMissingORExcess);\r\n            receiptHeader.setNoOfBagsSum(sumOfNoOfBags);\r\n\r\n            receiptConfimation.setReceiptHeader(receiptHeader);\r\n            receiptConfimation.setReceiptList(new ArrayList<>(groupedReceipts.values()));\r\n            log.info(\"receiptConfimation : \" + receiptConfimation);\r\n            return receiptConfimation;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public ReceiptConfimationReport getReceiptConfimationReportV5(String asnNumber, String preInboundNo, String companyCodeId, String plantId,\r\n                                                                  String languageId, String warehouseId) throws Exception {\r\n        if (asnNumber == null) {\r\n            throw new BadRequestException(\"ASNNumber can't be blank\");\r\n        }\r\n        if (preInboundNo == null || companyCodeId == null || plantId == null || languageId == null || warehouseId == null) {\r\n            throw new BadRequestException(\"paramenters can't be blank\");\r\n        }\r\n\r\n        ReceiptConfimationReport receiptConfimation;\r\n        try {\r\n            receiptConfimation = new ReceiptConfimationReport();\r\n            ReceiptHeader receiptHeader = new ReceiptHeader();\r\n\r\n            log.info(\"c_id, plant_id, lang_id, wh_id, preInboundNo, ref_doc_no: \" +\r\n                    companyCodeId + \", \" + plantId + \", \" + languageId + \", \" + warehouseId + \", \" + asnNumber + \", \" + preInboundNo);\r\n//            List<InboundLineV2> inboundLineSearchResults = inboundLineService.getInboundLineForReportV2(asnNumber, preInboundNo, companyCodeId, plantId, languageId, warehouseId);\r\n            List<InboundLineV2> inboundLineSearchResults = inboundLineV2Repository.findInboundLineForReportV5(asnNumber, preInboundNo, warehouseId, plantId, companyCodeId, languageId);\r\n//            log.info(\"inboundLineSearchResults ------>: \" + inboundLineSearchResults.size());\r\n\r\n            List<InboundReceiptConfirm> inboundLineResults = inboundLineV2Repository.findInboundLineV5(asnNumber, preInboundNo, warehouseId, plantId, companyCodeId, languageId);\r\n\r\n            Double sumTotalOfExpectedQty = 0.0;\r\n            Double sumTotalOfAccxpectedQty = 0.0;\r\n            Double sumTotalOfDamagedQty = 0.0;\r\n            Double sumTotalOfMissingORExcess = 0.0;\r\n            Double sumOfNoOfBags = 0.0;\r\n            List<Receipt> receiptList = new ArrayList<>();\r\n            log.info(\"inboundLine---------> : \" + inboundLineSearchResults.size());\r\n            if (!inboundLineSearchResults.isEmpty()) {\r\n                // Supplier - PARTNER_CODE\r\n                receiptHeader.setSupplier(inboundLineSearchResults.get(0).getBusinessPartnerCode());\r\n\r\n                receiptHeader.setSupplierName(inboundLineSearchResults.get(0).getSupplierName());\r\n\r\n                // Container No\r\n                receiptHeader.setContainerNo(inboundLineSearchResults.get(0).getContainerNo());\r\n\r\n                // Order Number - REF_DOC_NO\r\n                receiptHeader.setOrderNumber(inboundLineSearchResults.get(0).getRefDocNumber());\r\n\r\n                // Order Type -> PREINBOUNDHEADER - REF_DOC_TYPE\r\n                // Pass REF_DOC_NO in PREINBOUNDHEADER and fetch REF_DOC_TYPE\r\n                String referenceDocumentType = preInboundHeaderService.getReferenceDocumentTypeFromPreInboundHeader(\r\n                        inboundLineSearchResults.get(0).getWarehouseId(), inboundLineSearchResults.get(0).getPreInboundNo(),\r\n                        inboundLineSearchResults.get(0).getRefDocNumber());\r\n                receiptHeader.setOrderType(referenceDocumentType);\r\n                log.info(\"preInboundHeader referenceDocumentType--------> : \" + referenceDocumentType);\r\n            }\r\n\r\n            for (InboundReceiptConfirm inboundLine : inboundLineResults) {\r\n\r\n\r\n                Receipt receipt = new Receipt();\r\n\r\n                // SKU - ITM_CODE\r\n                receipt.setSku(inboundLine.getItemCode());\r\n\r\n                // Description - ITEM_TEXT\r\n                receipt.setDescription(inboundLine.getDescription());\r\n\r\n                // Mfr.Sku - MFR_PART\r\n                receipt.setMfrSku(inboundLine.getManufacturerName());\r\n\r\n                // Expected - ORD_QTY\r\n                Double expQty = 0.0;\r\n                if (inboundLine.getOrderQty() != null) {\r\n                    expQty = inboundLine.getOrderQty();\r\n                    receipt.setExpectedQty(expQty);\r\n                    sumTotalOfExpectedQty += expQty;\r\n                    log.info(\"expQty------#--> : \" + expQty);\r\n                }\r\n\r\n                // Accepted - ACCEPT_QTY\r\n                Double acceptQty = 0.0;\r\n                if (inboundLine.getAcceptedQty() != null) {\r\n                    acceptQty = inboundLine.getAcceptedQty();\r\n                    receipt.setAcceptedQty(acceptQty);\r\n                    sumTotalOfAccxpectedQty += acceptQty;\r\n                    log.info(\"acceptQty------#--> : \" + acceptQty);\r\n                }\r\n\r\n                // Damaged - DAMAGE_QTY\r\n                Double damageQty = 0.0;\r\n                if (inboundLine.getDamageQty() != null) {\r\n                    damageQty = inboundLine.getDamageQty();\r\n                    receipt.setDamagedQty(damageQty);\r\n                    sumTotalOfDamagedQty += damageQty;\r\n                    log.info(\"damageQty------#--> : \" + damageQty);\r\n                }\r\n\r\n                Double noOfBags = 0.0;\r\n                if (inboundLine.getNoBags() != null) {\r\n                    noOfBags = inboundLine.getNoBags();\r\n                    receipt.setNoOfBags(noOfBags);\r\n                    sumOfNoOfBags += noOfBags;\r\n                    log.info(\"expQty------#--> : \" + noOfBags);\r\n                }\r\n\r\n                // Missing/Excess - SUM(Accepted + Damaged) - Expected\r\n                Double missingORExcessSum = inboundLine.getMissingQty();\r\n                sumTotalOfMissingORExcess += missingORExcessSum;\r\n                receipt.setMissingORExcess(missingORExcessSum);\r\n                log.info(\"missingORExcessSum------#--> : \" + missingORExcessSum);\r\n//                Double missingORExcessSum = (acceptQty + damageQty) - expQty;\r\n//                sumTotalOfMissingORExcess += missingORExcessSum;\r\n//                receipt.setMissingORExcess(missingORExcessSum);\r\n//                log.info(\"missingORExcessSum------#--> : \" + missingORExcessSum);\r\n\r\n                // Status\r\n                /*\r\n                 * 1. If Missing/Excess = 0, then hardcode Status as \"\"Received\"\" 2. If Damage\r\n                 * qty is greater than zero, then Hard code status \"\"Damage Received\"\" 3. If\r\n                 * Missing/Excess is less than 0, then hardcode Status as \"\"Partial Received\"\"\r\n                 * 4. If Missing/Excess is excess than 0, then hardcode Status as \"\"Excess\r\n                 * Received\"\" 5. If Sum (Accepted Qty +Damaged qty) is 0, then Hardcode status\r\n                 * as \"\"Not yet received\"\"\r\n                 */\r\n                if (missingORExcessSum == 0.0) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (missingORExcessSum.equals(0.0)) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (damageQty > 0.0) {\r\n                    receipt.setStatus(\"Damage Received\");\r\n                } else if (missingORExcessSum < 0.0) {\r\n                    receipt.setStatus(\"Partial Received\");\r\n                } else if (missingORExcessSum > 0.0) {\r\n                    receipt.setStatus(\"Excess Received\");\r\n                } else if (sumTotalOfMissingORExcess == 0.0) {\r\n                    receipt.setStatus(\"Not Received\");\r\n                }\r\n                log.info(\"receipt------#--> : \" + receipt);\r\n                receiptList.add(receipt);\r\n            }\r\n\r\n            //---------------------------------------------------------------------------------------\r\n            // Group by SKU and sum the fields\r\n            Map<String, Receipt> groupedReceipts = new LinkedHashMap<>();\r\n\r\n            for (Receipt r : receiptList) {\r\n                groupedReceipts.compute(r.getSku(), (sku, existing) -> {\r\n                    if (existing == null) {\r\n                        Receipt newReceipt = new Receipt();\r\n                        newReceipt.setSku(r.getSku());\r\n                        newReceipt.setDescription(r.getDescription());\r\n                        newReceipt.setMfrSku(r.getMfrSku());\r\n                        newReceipt.setExpectedQty(round1(r.getExpectedQty()));\r\n                        newReceipt.setAcceptedQty(round1(r.getAcceptedQty()));\r\n                        newReceipt.setDamagedQty(round1(r.getDamagedQty()));\r\n                        newReceipt.setMissingORExcess(r.getMissingORExcess() != null ? r.getMissingORExcess() : 0.0);\r\n                        newReceipt.setStatus(r.getStatus());\r\n                        newReceipt.setNoOfBags(r.getNoOfBags() != null ? r.getNoOfBags() : 0.0);\r\n                        return newReceipt;\r\n                    } else {\r\n                        existing.setExpectedQty(round1(existing.getExpectedQty()) + round1(r.getExpectedQty()));\r\n                        existing.setAcceptedQty(round1(existing.getAcceptedQty()) + round1(r.getAcceptedQty()));\r\n                        existing.setDamagedQty(round1(existing.getDamagedQty()) + round1(r.getDamagedQty()));\r\n                        existing.setMissingORExcess((existing.getMissingORExcess() != null ? existing.getMissingORExcess() : 0.0) + (r.getMissingORExcess() != null ? r.getMissingORExcess() : 0.0));\r\n                        existing.setNoOfBags((existing.getNoOfBags() != null ? existing.getNoOfBags() : 0.0) + (r.getNoOfBags() != null ? r.getNoOfBags() : 0.0));\r\n                        return existing;\r\n                    }\r\n                });\r\n            }\r\n//---------------------------------------------------------------------------------------\r\n            receiptHeader.setExpectedQtySum(round1(sumTotalOfExpectedQty));\r\n            receiptHeader.setAcceptedQtySum(round1(sumTotalOfAccxpectedQty));\r\n            receiptHeader.setDamagedQtySum(round1(sumTotalOfDamagedQty));\r\n            receiptHeader.setMissingORExcessSum(sumTotalOfMissingORExcess);\r\n            receiptHeader.setNoOfBagsSum(sumOfNoOfBags);\r\n\r\n            receiptConfimation.setReceiptHeader(receiptHeader);\r\n            receiptConfimation.setReceiptList(new ArrayList<>(groupedReceipts.values()));\r\n            log.info(\"receiptConfimation : \" + receiptConfimation);\r\n            return receiptConfimation;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n\r\n    /**\r\n     * AwaitingASN Count\r\n     *\r\n     * @param warehouseId\r\n     * @param fromCreatedOn\r\n     * @param toCreatedOn\r\n     * @return\r\n     * @throws java.text.ParseException\r\n     */\r\n    @Transactional\r\n    private long getAwaitingASNCount(String warehouseId, Date fromCreatedOn, Date toCreatedOn)\r\n            throws java.text.ParseException {\r\n        /*\r\n         * Receipts - Awaiting ASN -------------------------- Pass the logged in WH_ID\r\n         * and current date in CR_CTD_ON field in CONTAINERRECEIPT table and fetch the\r\n         * count of records where REF_DOC_NO is Null\r\n         */\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(fromCreatedOn, toCreatedOn);\r\n        fromCreatedOn = dates[0];\r\n        toCreatedOn = dates[1];\r\n        long awaitingASNCount = containerReceiptRepository.countByWarehouseIdAndContainerReceivedDateBetweenAndRefDocNumberIsNull(warehouseId, fromCreatedOn, toCreatedOn);\r\n        log.info(\"awaitingASNCount : \" + awaitingASNCount);\r\n        return awaitingASNCount;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param startConfirmedOn\r\n     * @param endConfirmedOn\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    @Transactional\r\n    private long getContainerReceivedCount(String warehouseId, Date startConfirmedOn, Date endConfirmedOn)\r\n            throws Exception {\r\n        /*\r\n         * Container Received ------------------------ Pass the logged in WH_ID and\r\n         * current date in IB_CNF_ON field in INBOUNDHEADER table and fetch the count of\r\n         * records\r\n         */\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(startConfirmedOn, endConfirmedOn);\r\n        startConfirmedOn = dates[0];\r\n        endConfirmedOn = dates[1];\r\n        long containerReceivedCount = inboundHeaderRepository.countByWarehouseIdAndConfirmedOnBetweenAndStatusIdAndDeletionIndicator(\r\n                warehouseId, startConfirmedOn, endConfirmedOn, 24L, 0L);\r\n        log.info(\"containerReceivedCount : \" + containerReceivedCount);\r\n        return containerReceivedCount;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param startConfirmedOn\r\n     * @param endConfirmedOn\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    @Transactional\r\n    private long getItemReceivedCount(String warehouseId, Date startConfirmedOn, Date endConfirmedOn) throws Exception {\r\n        /*\r\n         * Item Received ------------------- Pass the logged in WH_ID and current date\r\n         * in IB_CNF_ON field in INBOUNDLINE table and fetch the count of records where\r\n         * REF_FIELD_1 is Null\r\n         */\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(startConfirmedOn, endConfirmedOn);\r\n        startConfirmedOn = dates[0];\r\n        endConfirmedOn = dates[1];\r\n        long itemReceivedCount = inboundLineRepository.countByWarehouseIdAndConfirmedOnBetweenAndStatusIdAndReferenceField1IsNull(\r\n                warehouseId, startConfirmedOn, endConfirmedOn, 24L);\r\n        log.info(\"itemReceivedCount : \" + itemReceivedCount);\r\n        return itemReceivedCount;\r\n    }\r\n\r\n    /**\r\n     * @param <T>\r\n     * @param n\r\n     * @return\r\n     */\r\n    public static <T> Collector<T, ?, List<T>> lastN(int n) {\r\n        return Collector.<T, Deque<T>, List<T>>of(ArrayDeque::new, (acc, t) -> {\r\n            if (acc.size() == n)\r\n                acc.pollFirst();\r\n            acc.add(t);\r\n        }, (acc1, acc2) -> {\r\n            while (acc2.size() < n && !acc1.isEmpty()) {\r\n                acc2.addFirst(acc1.pollLast());\r\n            }\r\n            return acc2;\r\n        }, ArrayList::new);\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    @Transactional\r\n    public Dashboard getDashboardCount(String warehouseId) throws Exception {\r\n        Dashboard dashboard = new Dashboard();\r\n\r\n        /*--------------------------DAY-----------------------------------------------*/\r\n        Dashboard.Day day = dashboard.new Day();\r\n        Dashboard.Day.Receipts dayReceipts = day.new Receipts();\r\n\r\n        /*-----------------------Receipts--------------------------------------------*/\r\n        // Awaiting ASN\r\n        long awaitingASNCount = getAwaitingASNCount(warehouseId, DateUtils.dateSubtract(1), DateUtils.dateSubtract(1));\r\n        dayReceipts.setAwaitingASN(awaitingASNCount);\r\n\r\n        long containerReceivedCount = getContainerReceivedCount(warehouseId, DateUtils.dateSubtract(1), DateUtils.dateSubtract(1));\r\n        dayReceipts.setContainerReceived(containerReceivedCount);\r\n\r\n        long itemReceivedCount = getItemReceivedCount(warehouseId, DateUtils.dateSubtract(1), DateUtils.dateSubtract(1));\r\n        dayReceipts.setItemReceived(itemReceivedCount);\r\n\r\n        //Shipping Day\r\n        Dashboard.Day.Shipping dayShipping = day.new Shipping();\r\n\r\n        Date fromDate = DateUtils.dateSubtract(1, 14, 0, 0); // From Yesterday 14:00 to Today 15:00\r\n        Date endDate = DateUtils.dateSubtract(0, 13, 59, 59);\r\n        long shippedLineCount = getShippedLineCount(warehouseId, fromDate, endDate);\r\n        dayShipping.setShippedLine(shippedLineCount);\r\n\r\n        long normalCount = getNormalNSpecialCount(warehouseId, fromDate, endDate, \"N\");\r\n        dayShipping.setNormal(normalCount);\r\n\r\n        long specialCount = getNormalNSpecialCount(warehouseId, fromDate, endDate, \"S\");\r\n        dayShipping.setSpecial(specialCount);\r\n\r\n        day.setReceipts(dayReceipts);\r\n        day.setShipping(dayShipping);\r\n        dashboard.setDay(day);\r\n\r\n        /*--------------------------MONTH--------------------------------------------*/\r\n        Dashboard.Month month = dashboard.new Month();\r\n        Dashboard.Month.Receipts monthReceipts = month.new Receipts();\r\n\r\n        /*-----------------------Receipts--------------------------------------------*/\r\n        // Awaiting ASN\r\n        LocalDate today = LocalDate.now();\r\n        today = today.withDayOfMonth(1);\r\n        log.info(\"First day of current month: \" + today.withDayOfMonth(1));\r\n        Date beginningOfMonth = Date.from(today.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n\r\n        awaitingASNCount = getAwaitingASNCount(warehouseId, beginningOfMonth, new Date());\r\n        monthReceipts.setAwaitingASN(awaitingASNCount);\r\n\r\n        containerReceivedCount = getContainerReceivedCount(warehouseId, beginningOfMonth, new Date());\r\n        monthReceipts.setContainerReceived(containerReceivedCount);\r\n\r\n        itemReceivedCount = getItemReceivedCount(warehouseId, beginningOfMonth, new Date());\r\n        monthReceipts.setItemReceived(itemReceivedCount);\r\n\r\n        //Shipping Month\r\n        Dashboard.Month.Shipping monthShipping = month.new Shipping();\r\n\r\n        LocalDate currentDay = LocalDate.now();\r\n        LocalDate beginDayOfMonth = today.withDayOfMonth(1);\r\n        fromDate = DateUtils.addTimeToDate(beginDayOfMonth, 14, 0, 0);\r\n        endDate = DateUtils.addTimeToDate(currentDay, 13, 59, 59);\r\n\r\n        shippedLineCount = getShippedLineCount(warehouseId, fromDate, endDate);\r\n        monthShipping.setShippedLine(shippedLineCount);\r\n\r\n        normalCount = getNormalNSpecialCount(warehouseId, fromDate, endDate, \"N\");\r\n        monthShipping.setNormal(normalCount);\r\n\r\n        specialCount = getNormalNSpecialCount(warehouseId, fromDate, endDate, \"S\");\r\n        monthShipping.setSpecial(specialCount);\r\n\r\n        //Bin Status\r\n        Dashboard.BinStatus binStatus = dashboard.new BinStatus();\r\n\r\n        long statusCount = storagebinRepository.countByWarehouseIdAndStatusIdAndDeletionIndicator(warehouseId, 0L, 0L);\r\n        binStatus.setStatusEqualToZeroCount(statusCount);\r\n\r\n        statusCount = storagebinRepository.countByWarehouseIdAndStatusIdNotAndDeletionIndicator(warehouseId, 0L, 0L);\r\n        binStatus.setStatusNotEqualToZeroCount(statusCount);\r\n\r\n        month.setReceipts(monthReceipts);\r\n        month.setShipping(monthShipping);\r\n        dashboard.setMonth(month);\r\n        dashboard.setBinStatus(binStatus);\r\n\r\n        return dashboard;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param fromDeliveryDate\r\n     * @param toDeliveryDate\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private long getShippedLineCount(String warehouseId, Date fromDeliveryDate, Date toDeliveryDate) throws Exception {\r\n        /*\r\n         * Shipped Line --------------------- Shipped Line Pass the logged in WH_ID and\r\n         * Current date as DLV_CNF_ON in OUTBOUNDLINE table and fetch Count of\r\n         * OB_LINE_NO values where REF_FIELD_2=Null and DLV_QTY > 0\r\n         */\r\n        log.info(\"---getShippedLineCount>>>>fromDeliveryDate-----> : \" + fromDeliveryDate);\r\n        log.info(\"---getShippedLineCount>>>>toDeliveryDate-----> : \" + toDeliveryDate);\r\n        long shippedLineCount =\r\n                outboundLineRepository.countByWarehouseIdAndDeliveryConfirmedOnBetweenAndStatusIdAndDeletionIndicatorAndReferenceField2IsNullAndDeliveryQtyIsNotNullAndDeliveryQtyGreaterThan(\r\n                        warehouseId, fromDeliveryDate, toDeliveryDate, 59L, 0L, Double.valueOf(0));\r\n\r\n        log.info(\"shippedLineCount : \" + shippedLineCount);\r\n        return shippedLineCount;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param fromDeliveryDate\r\n     * @param toDeliveryDate\r\n     * @param type\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    private long getNormalNSpecialCount(String warehouseId, Date fromDeliveryDate, Date toDeliveryDate, String type)\r\n            throws Exception {\r\n        /*\r\n         * Normal ---------------- Pass the logged in WH_ID and Current date as\r\n         * DLV_CNF_ON in OUTBOUNDLINE table and fetch Count of OB_LINE_NO values where\r\n         * REF_FIELD_1=N, REF_FIELD_2=Null and DLV_QTY>0 (Shipped Lines)\r\n         */\r\n        long normalCount =\r\n                outboundLineRepository.countByWarehouseIdAndDeliveryConfirmedOnBetweenAndStatusIdAndDeletionIndicatorAndReferenceField1AndReferenceField2IsNullAndDeliveryQtyIsNotNullAndDeliveryQtyGreaterThan(\r\n                        warehouseId, fromDeliveryDate, toDeliveryDate, 59L, 0L, type, Double.valueOf(0));\r\n\r\n        log.info(\"normalCount : \" + normalCount);\r\n        return normalCount;\r\n    }\r\n\r\n    // Notifications Dashboard\r\n    public List<StorageBinDashBoardImpl> getStorageBinDashBoardCount(StorageBinDashBoardInput storageBinDashBoardInput) throws Exception {\r\n        try {\r\n            Long binClassId = storageBinDashBoardInput.getBinClassId() != null ? storageBinDashBoardInput.getBinClassId() : 1L;\r\n            return inventoryV2Repository.getStorageBinDashBoardV3(\r\n                    storageBinDashBoardInput.getCompanyCodeId(),\r\n                    storageBinDashBoardInput.getPlantId(),\r\n                    storageBinDashBoardInput.getLanguageId(),\r\n                    storageBinDashBoardInput.getWarehouseId(),\r\n                    storageBinDashBoardInput.getStorageBin(),\r\n                    binClassId);\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while storageBinDashboard Count : \" + storageBinDashBoardInput);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    // Notifications Dashboard\r\n    public List<StorageBinDashBoardImpl> getStorageBinDashBoardCountV9(StorageBinDashBoardInput storageBinDashBoardInput) throws Exception {\r\n        try {\r\n            Long binClassId = storageBinDashBoardInput.getBinClassId() != null ? storageBinDashBoardInput.getBinClassId() : 1L;\r\n            return inventoryV2Repository.getStorageBinDashBoardV9(\r\n                    storageBinDashBoardInput.getCompanyCodeId(),\r\n                    storageBinDashBoardInput.getPlantId(),\r\n                    storageBinDashBoardInput.getLanguageId(),\r\n                    storageBinDashBoardInput.getWarehouseId(),\r\n                    storageBinDashBoardInput.getStorageBin(),\r\n                    storageBinDashBoardInput.getStorageSectionId(),\r\n                    storageBinDashBoardInput.getAisleNumber(),\r\n                    storageBinDashBoardInput.getRowId(),\r\n                    storageBinDashBoardInput.getLevelId(),\r\n                    storageBinDashBoardInput.getStatusId(),\r\n                    storageBinDashBoardInput.getBusinessPartnerCode(),\r\n                    binClassId);\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while storageBinDashboard Count : \" + storageBinDashBoardInput);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    //---------------------------------------------Inbound Reversal------------------------------------------------------------\r\n\r\n\r\n    public void inboundReversal(String companyCodeId, String plantId, String warehouseId,\r\n                                String refDocNumber, String preInboundNo) {\r\n\r\n        if (refDocNumber != null && preInboundNo != null) {\r\n\r\n            log.info(\"Starting deletion process for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n\r\n            List<PutAwayLineV2> putAwayLine = putAwayLineV2Repository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n            if (!putAwayLine.isEmpty()) {\r\n                log.warn(\"Inbound already confirmed for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n                throw new RuntimeException(\"Already Inbound confirmed for the given RefDocNumber and PreInboundNo\");\r\n            }\r\n\r\n            //delete ibOrder2 and ibOrderLines2\r\n            inboundOrderReversal(refDocNumber);\r\n\r\n            log.info(\"Checking existence of PreInboundHeader...\");\r\n            PreInboundHeaderEntity preInboundHeader = preInboundHeaderRepository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n\r\n            if (preInboundHeader != null) {\r\n                log.info(\"Deleting all related records for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n                preInboundHeaderRepository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                preInboundLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                inboundHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                inboundLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                stagingHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                stagingLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                grHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                log.info(\"Delete completed for header, line, staging, and GR header records.\");\r\n            } else {\r\n                log.warn(\"PreInboundHeader not found for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n            }\r\n\r\n            List<GrLineV2> grLine = grLineV2Repository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n\r\n            if (!grLine.isEmpty()) {\r\n                log.info(\"Processing GR lines for deletion and inventory adjustment...\");\r\n                for (GrLineV2 grLineV2 : grLine) {\r\n\r\n                    putAwayHeaderV2Repository.softDeleteByRefDocNo(grLineV2.getRefDocNumber(), grLineV2.getPreInboundNo(), grLineV2.getBarcodeId());\r\n                    grLineV2Repository.softDeleteByRefDocNo(grLineV2.getRefDocNumber(), grLineV2.getPreInboundNo(), grLineV2.getBarcodeId());\r\n                    log.info(\"Deleted GR Line and PutAwayHeader for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n\r\n                    InventoryV2 inventory = inventoryV2Repository.findInventoryId(\r\n                            grLineV2.getCompanyCode(),\r\n                            grLineV2.getPlantId(),\r\n                            grLineV2.getLanguageId(),\r\n                            grLineV2.getWarehouseId(),\r\n                            grLineV2.getItemCode(),\r\n                            grLineV2.getBarcodeId()\r\n                    );\r\n\r\n                    if (inventory != null) {\r\n                        Double updatedQty = inventory.getInventoryQuantity() - grLineV2.getOrderQty();\r\n                        log.info(\"Updating inventory for ItemCode: {} | OldQty: {} | OrderQty: {} | NewQty: {}\",\r\n                                grLineV2.getItemCode(), inventory.getInventoryQuantity(), grLineV2.getOrderQty(), updatedQty);\r\n\r\n                        InventoryV2 inventoryV2 = new InventoryV2();\r\n                        BeanUtils.copyProperties(inventory, inventoryV2, CommonUtils.getNullPropertyNames(inventory));\r\n                        inventoryV2.setInventoryQuantity(updatedQty);\r\n                        inventoryV2.setReferenceField4(updatedQty);\r\n                        inventoryV2Repository.save(inventoryV2);\r\n                        log.info(\"Inventory updated and saved for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n                    } else {\r\n                        log.warn(\"Inventory not found for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n                    }\r\n                }\r\n            }\r\n\r\n            log.info(\"Completed deletion and inventory adjustment for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n\r\n        } else {\r\n            log.error(\"RefDocNumber and PreInboundNo cannot be null\");\r\n            throw new RuntimeException(\"RefDocNumber and PreInboundNo cannot be null\");\r\n        }\r\n\r\n    }\r\n\r\n    //---------------------------------------------Inbound Reversal-V9------------------------------------------------------------\r\n\r\n\r\n    public void inboundReversalV9(String companyCodeId, String plantId, String warehouseId,\r\n                                  String refDocNumber, String preInboundNo) {\r\n\r\n        if (refDocNumber != null && preInboundNo != null) {\r\n\r\n            log.info(\"Starting deletion process for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n\r\n            List<PutAwayLineV2> putAwayLine = putAwayLineV2Repository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n            if (!putAwayLine.isEmpty()) {\r\n                log.warn(\"Inbound already confirmed for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n                throw new RuntimeException(\"Already Inbound confirmed for the given RefDocNumber and PreInboundNo\");\r\n            }\r\n\r\n            //delete ibOrder2 and ibOrderLines2\r\n//            inboundOrderReversal(refDocNumber);\r\n\r\n            log.info(\"Checking existence of PreInboundHeader...\");\r\n            PreInboundHeaderEntity preInboundHeader = preInboundHeaderRepository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n\r\n            if (preInboundHeader != null) {\r\n                log.info(\"Deleting all related records for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n//                preInboundHeaderRepository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n//                preInboundLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                inboundHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                inboundLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                stagingHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                stagingLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                grHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                log.info(\"Delete completed for header, line, staging, and GR header records.\");\r\n            } else {\r\n                log.warn(\"PreInboundHeader not found for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n            }\r\n\r\n            List<GrLineV2> grLine = grLineV2Repository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n\r\n            if (!grLine.isEmpty()) {\r\n                log.info(\"Processing GR lines for deletion and inventory adjustment...\");\r\n                for (GrLineV2 grLineV2 : grLine) {\r\n\r\n                    putAwayHeaderV2Repository.softDeleteByRefDocNo(grLineV2.getRefDocNumber(), grLineV2.getPreInboundNo(), grLineV2.getBarcodeId());\r\n                    grLineV2Repository.softDeleteByRefDocNo(grLineV2.getRefDocNumber(), grLineV2.getPreInboundNo(), grLineV2.getBarcodeId());\r\n                    log.info(\"Deleted GR Line and PutAwayHeader for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n\r\n                    List<InventoryV2> inventoryV2List = inventoryV2Repository.findInventoryIdv9(\r\n                            grLineV2.getCompanyCode(),\r\n                            grLineV2.getPlantId(),\r\n                            grLineV2.getLanguageId(),\r\n                            grLineV2.getWarehouseId(),\r\n                            grLineV2.getItemCode(),\r\n                            grLineV2.getBarcodeId()\r\n                    );\r\n                    for (InventoryV2 inventory : inventoryV2List) {\r\n                        if (inventory != null) {\r\n                            Double updatedQty = inventory.getInventoryQuantity() - grLineV2.getOrderQty();\r\n                            log.info(\"Updating inventory for ItemCode: {} | OldQty: {} | OrderQty: {} | NewQty: {}\",\r\n                                    grLineV2.getItemCode(), inventory.getInventoryQuantity(), grLineV2.getOrderQty(), updatedQty);\r\n\r\n                            InventoryV2 inventoryV2 = new InventoryV2();\r\n                            BeanUtils.copyProperties(inventory, inventoryV2, CommonUtils.getNullPropertyNames(inventory));\r\n                            inventoryV2.setInventoryQuantity(updatedQty);\r\n                            inventoryV2.setReferenceField4(updatedQty);\r\n                            inventoryV2Repository.save(inventoryV2);\r\n                            log.info(\"Inventory updated and saved for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n                        } else {\r\n                            log.warn(\"Inventory not found for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            log.info(\"Completed deletion and inventory adjustment for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n\r\n        } else {\r\n            log.error(\"RefDocNumber and PreInboundNo cannot be null\");\r\n            throw new RuntimeException(\"RefDocNumber and PreInboundNo cannot be null\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n    //---------------------------------------------Inbound Cancellation-V9------------------------------------------------------------\r\n\r\n\r\n    public void inboundCancellationV9(String companyCodeId, String plantId, String warehouseId,\r\n                                      String refDocNumber, String preInboundNo) {\r\n\r\n        if (refDocNumber != null && preInboundNo != null) {\r\n\r\n            log.info(\"Starting deletion process for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n\r\n            List<PutAwayLineV2> putAwayLine = putAwayLineV2Repository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n            if (!putAwayLine.isEmpty()) {\r\n                log.warn(\"Inbound already confirmed for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n                throw new RuntimeException(\"Already Inbound confirmed for the given RefDocNumber and PreInboundNo\");\r\n            }\r\n\r\n            //delete ibOrder2 and ibOrderLines2\r\n            inboundOrderReversal(refDocNumber);\r\n\r\n            log.info(\"Checking existence of PreInboundHeader...\");\r\n            PreInboundHeaderEntity preInboundHeader = preInboundHeaderRepository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n\r\n            if (preInboundHeader != null) {\r\n                log.info(\"Deleting all related records for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n                preInboundHeaderRepository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                preInboundLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                inboundHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                inboundLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                stagingHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                stagingLineV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                grHeaderV2Repository.softDeleteByRefDocNo(refDocNumber, preInboundNo);\r\n                log.info(\"Delete completed for header, line, staging, and GR header records.\");\r\n            } else {\r\n                log.warn(\"PreInboundHeader not found for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n            }\r\n\r\n            List<GrLineV2> grLine = grLineV2Repository.findByRefDocNumberAndPreInboundNo(refDocNumber, preInboundNo);\r\n\r\n            if (!grLine.isEmpty()) {\r\n                log.info(\"Processing GR lines for deletion and inventory adjustment...\");\r\n                for (GrLineV2 grLineV2 : grLine) {\r\n\r\n                    putAwayHeaderV2Repository.softDeleteByRefDocNo(grLineV2.getRefDocNumber(), grLineV2.getPreInboundNo(), grLineV2.getBarcodeId());\r\n                    grLineV2Repository.softDeleteByRefDocNo(grLineV2.getRefDocNumber(), grLineV2.getPreInboundNo(), grLineV2.getBarcodeId());\r\n                    log.info(\"Deleted GR Line and PutAwayHeader for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n\r\n                    List<InventoryV2> inventoryV2List = inventoryV2Repository.findInventoryIdv9(\r\n                            grLineV2.getCompanyCode(),\r\n                            grLineV2.getPlantId(),\r\n                            grLineV2.getLanguageId(),\r\n                            grLineV2.getWarehouseId(),\r\n                            grLineV2.getItemCode(),\r\n                            grLineV2.getBarcodeId()\r\n                    );\r\n                    for (InventoryV2 inventory : inventoryV2List) {\r\n                        if (inventory != null) {\r\n                            Double updatedQty = inventory.getInventoryQuantity() - grLineV2.getOrderQty();\r\n                            log.info(\"Updating inventory for ItemCode: {} | OldQty: {} | OrderQty: {} | NewQty: {}\",\r\n                                    grLineV2.getItemCode(), inventory.getInventoryQuantity(), grLineV2.getOrderQty(), updatedQty);\r\n\r\n                            InventoryV2 inventoryV2 = new InventoryV2();\r\n                            BeanUtils.copyProperties(inventory, inventoryV2, CommonUtils.getNullPropertyNames(inventory));\r\n                            inventoryV2.setInventoryQuantity(updatedQty);\r\n                            inventoryV2.setReferenceField4(updatedQty);\r\n                            inventoryV2Repository.save(inventoryV2);\r\n                            log.info(\"Inventory updated and saved for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n                        } else {\r\n                            log.warn(\"Inventory not found for BarcodeId: {}\", grLineV2.getBarcodeId());\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            log.info(\"Completed deletion and inventory adjustment for RefDocNumber: {} and PreInboundNo: {}\", refDocNumber, preInboundNo);\r\n\r\n        } else {\r\n            log.error(\"RefDocNumber and PreInboundNo cannot be null\");\r\n            throw new RuntimeException(\"RefDocNumber and PreInboundNo cannot be null\");\r\n        }\r\n\r\n    }\r\n\r\n\r\n    @Transactional\r\n    public void inboundOrderReversal(String refDocNumber) {\r\n\r\n        List<InboundOrderV2> inboundOrderList = inboundOrderV2Repository.findByRefDocumentNo(refDocNumber);\r\n\r\n        if (inboundOrderList.isEmpty()) {\r\n            throw new RuntimeException(\"No inbound orders found for RefDocNumber\");\r\n        }\r\n        for (InboundOrderV2 order : inboundOrderList) {\r\n            List<InboundOrderLinesV2> inboundOrderLines = inboundOrderLinesV2Repository.findByOrderIdAndInboundOrderHeaderId(\r\n                    order.getOrderId(), order.getInboundOrderHeaderId());\r\n\r\n            if (inboundOrderLines != null) {\r\n                inboundOrderLinesV2Repository.deleteAll(inboundOrderLines);\r\n            }\r\n        }\r\n        inboundOrderV2Repository.deleteAll(inboundOrderList);\r\n        log.info(\"Deleted all InboundOrders for RefDocNumber: {}\", refDocNumber);\r\n    }\r\n\r\n    public List<BarcodeGeneration> postBarcode(List<AddBarcodeGeneration> barcode) {\r\n\r\n        List<BarcodeGeneration> generations = new ArrayList<>();\r\n\r\n        for (AddBarcodeGeneration barcodeGeneration : barcode) {\r\n            BarcodeGeneration barcode1 = new BarcodeGeneration();\r\n\r\n            AuthToken authTokenForIDMasterService = authTokenService.getIDMasterServiceAuthToken();\r\n            String nextNumberRange = idmasterService.getNextNumberRange(29L, barcodeGeneration.getWarehouseId(), barcodeGeneration.getCompanyCodeId(), barcodeGeneration.getPlantId(), barcodeGeneration.getLanguageId(), authTokenForIDMasterService.getAccess_token());\r\n            barcode1.setBarcodeId(nextNumberRange);\r\n\r\n            barcode1.setCompanyCodeId(barcodeGeneration.getCompanyCodeId());\r\n            barcode1.setPlantId(barcodeGeneration.getPlantId());\r\n            barcode1.setWarehouseId(barcodeGeneration.getWarehouseId());\r\n            barcode1.setItemCode(barcodeGeneration.getItemCode());\r\n            barcode1.setItemDescription(barcodeGeneration.getItemDescription());\r\n            barcode1.setWeight(barcodeGeneration.getWeight());\r\n            generations.add(barcode1);\r\n            log.info(\"new BarcodeGenerated\" + generations);\r\n\r\n\r\n        }\r\n        return generations;\r\n    }\r\n\r\n    // Notifications Dashboard Knowel\r\n    public List<StorageBinDashBoardImpl> getStorageBinDashBoardCountV7(StorageBinDashBoardInput storageBinDashBoardInput) throws Exception {\r\n        try {\r\n            Long binClassId = storageBinDashBoardInput.getBinClassId() != null ? storageBinDashBoardInput.getBinClassId() : 1L;\r\n            return inventoryV2Repository.getStorageBinDashBoardV3(\r\n                    storageBinDashBoardInput.getCompanyCodeId(),\r\n                    storageBinDashBoardInput.getPlantId(),\r\n                    storageBinDashBoardInput.getLanguageId(),\r\n                    storageBinDashBoardInput.getWarehouseId(),\r\n                    storageBinDashBoardInput.getStorageBin(),\r\n                    binClassId);\r\n        } catch (Exception e) {\r\n            log.error(\"Exception while storageBinDashboard Count : \" + storageBinDashBoardInput);\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    //BP\r\n    public ReceiptConfimationReport getReceiptConfirmationReportV6(String asnNumber, String preInboundNo, String companyCodeId, String plantId,\r\n                                                                   String languageId, String warehouseId) throws Exception {\r\n        if (asnNumber == null) {\r\n            throw new BadRequestException(\"ASNNumber can't be blank\");\r\n        }\r\n        if (preInboundNo == null || companyCodeId == null || plantId == null || languageId == null || warehouseId == null) {\r\n            throw new BadRequestException(\"paramenters can't be blank\");\r\n        }\r\n\r\n        ReceiptConfimationReport receiptConfimation;\r\n        try {\r\n            receiptConfimation = new ReceiptConfimationReport();\r\n            ReceiptHeader receiptHeader = new ReceiptHeader();\r\n\r\n            // 22-08-2022-Hareesh //commented the not used method call\r\n            log.info(\"c_id, plant_id, lang_id, wh_id, preInboundNo, ref_doc_no: \" +\r\n                    companyCodeId + \", \" + plantId + \", \" + languageId + \", \" + warehouseId + \", \" + asnNumber + \", \" + preInboundNo);\r\n            List<InboundLineV2> inboundLineSearchResults = inboundLineService.getInboundLineForReportV2(asnNumber, preInboundNo, companyCodeId, plantId, languageId, warehouseId);\r\n            log.info(\"inboundLineSearchResults ------>: \" + inboundLineSearchResults.size());\r\n\r\n            double sumTotalOfExpectedQty = 0.0;\r\n            double sumTotalOfAccxpectedQty = 0.0;\r\n            double sumTotalOfDamagedQty = 0.0;\r\n            double sumTotalOfMissingORExcess = 0.0;\r\n            double sumOfNoOfBags = 0;\r\n            List<Receipt> receiptList = new ArrayList<>();\r\n            log.info(\"inboundLine---------> : \" + inboundLineSearchResults.size());\r\n            if (!inboundLineSearchResults.isEmpty()) {\r\n                // Supplier - PARTNER_CODE\r\n                receiptHeader.setSupplier(inboundLineSearchResults.get(0).getManufacturerCode());\r\n\r\n                receiptHeader.setSupplierName(inboundLineSearchResults.get(0).getManufacturerName());\r\n\r\n                // Container No\r\n                receiptHeader.setContainerNo(inboundLineSearchResults.get(0).getContainerNo());\r\n\r\n                // Order Number - REF_DOC_NO\r\n                receiptHeader.setOrderNumber(inboundLineSearchResults.get(0).getRefDocNumber());\r\n\r\n                // Order Type -> PREINBOUNDHEADER - REF_DOC_TYPE\r\n                // Pass REF_DOC_NO in PREINBOUNDHEADER and fetch REF_DOC_TYPE\r\n                String referenceDocumentType = preInboundHeaderService.getReferenceDocumentTypeFromPreInboundHeader(\r\n                        inboundLineSearchResults.get(0).getWarehouseId(), inboundLineSearchResults.get(0).getPreInboundNo(),\r\n                        inboundLineSearchResults.get(0).getRefDocNumber());\r\n                receiptHeader.setOrderType(referenceDocumentType);\r\n                log.info(\"preInboundHeader referenceDocumentType--------> : \" + referenceDocumentType);\r\n            }\r\n\r\n            Map<String, Long> skuCountMap = inboundLineSearchResults.stream()\r\n                    .collect(Collectors.groupingBy(InboundLineV2::getItemCode, Collectors.counting()));\r\n            Map<String, Integer> skuIndexMap = new HashMap<>();\r\n            for (InboundLineV2 inboundLine : inboundLineSearchResults) {\r\n\r\n\r\n                Receipt receipt = new Receipt();\r\n\r\n                String sku = inboundLine.getItemCode();\r\n                long totalCount = skuCountMap.get(sku);\r\n                int currentIndex = skuIndexMap.getOrDefault(sku, 0) + 1;\r\n                skuIndexMap.put(sku, currentIndex);\r\n                // SKU - ITM_CODE\r\n                receipt.setSku(sku);\r\n\r\n                // Description - ITEM_TEXT\r\n                receipt.setDescription(inboundLine.getDescription());\r\n\r\n                // Mfr.Sku - MFR_PART\r\n                receipt.setMfrSku(inboundLine.getManufacturerName());\r\n\r\n                // Expected - ORD_QTY\r\n                double expQty = 0;\r\n                if (inboundLine.getOrderQty() != null) {\r\n                    expQty = inboundLine.getOrderQty();\r\n                    receipt.setExpectedQty(expQty);\r\n                    sumTotalOfExpectedQty += expQty;\r\n                    log.info(\"expQty------#--> : \" + expQty);\r\n                }\r\n\r\n                // Accepted - ACCEPT_QTY\r\n                double acceptQty = 0;\r\n                if (inboundLine.getAcceptedQty() != null) {\r\n                    acceptQty = inboundLine.getAcceptedQty();\r\n                    receipt.setAcceptedQty(acceptQty);\r\n                    sumTotalOfAccxpectedQty += acceptQty;\r\n                    log.info(\"acceptQty------#--> : \" + acceptQty);\r\n                }\r\n\r\n                // Damaged - DAMAGE_QTY\r\n                double damageQty = 0;\r\n                if (inboundLine.getDamageQty() != null) {\r\n                    damageQty = inboundLine.getDamageQty();\r\n                    receipt.setDamagedQty(damageQty);\r\n                    sumTotalOfDamagedQty += damageQty;\r\n                    log.info(\"damageQty------#--> : \" + damageQty);\r\n                }\r\n\r\n                double noOfBags = 0;\r\n                if (inboundLine.getNoBags() != null) {\r\n                    noOfBags = inboundLine.getNoBags();\r\n                    receipt.setNoOfBags(noOfBags);\r\n                    sumOfNoOfBags += noOfBags;\r\n                    log.info(\"expQty------#--> : \" + noOfBags);\r\n                }\r\n\r\n                // Missing/Excess - SUM(Accepted + Damaged) - Expected\r\n                double missingORExcessSum = (acceptQty + damageQty) - expQty;\r\n                sumTotalOfMissingORExcess += missingORExcessSum;\r\n                receipt.setMissingORExcess(missingORExcessSum);\r\n                log.info(\"missingORExcessSum------#--> : \" + missingORExcessSum);\r\n\r\n                // Status\r\n                /*\r\n                 * 1. If Missing/Excess = 0, then hardcode Status as \"\"Received\"\" 2. If Damage\r\n                 * qty is greater than zero, then Hard code status \"\"Damage Received\"\" 3. If\r\n                 * Missing/Excess is less than 0, then hardcode Status as \"\"Partial Received\"\"\r\n                 * 4. If Missing/Excess is excess than 0, then hardcode Status as \"\"Excess\r\n                 * Received\"\" 5. If Sum (Accepted Qty +Damaged qty) is 0, then Hardcode status\r\n                 * as \"\"Not yet received\"\"\r\n                 */\r\n                if (missingORExcessSum == 0) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (damageQty > 0) {\r\n                    receipt.setStatus(\"Damage Received\");\r\n                } else if (missingORExcessSum < 0) {\r\n                    receipt.setStatus(\"Partial Received\");\r\n                } else if (missingORExcessSum > 0) {\r\n                    receipt.setStatus(\"Excess Received\");\r\n                } else if (sumTotalOfMissingORExcess == 0) {\r\n                    receipt.setStatus(\"Not Received\");\r\n                }\r\n                receipt.setReelNo(inboundLine.getBarcodeId());\r\n                receipt.setOrderQty(currentIndex + \"/\" + totalCount);\r\n                log.info(\"receipt------#--> : \" + receipt);\r\n                receiptList.add(receipt);\r\n            }\r\n\r\n            receiptHeader.setExpectedQtySum(round1(sumTotalOfExpectedQty));\r\n            receiptHeader.setAcceptedQtySum(round1(sumTotalOfAccxpectedQty));\r\n            receiptHeader.setDamagedQtySum(round1(sumTotalOfDamagedQty));\r\n            receiptHeader.setMissingORExcessSum(sumTotalOfMissingORExcess);\r\n            receiptHeader.setNoOfBagsSum(sumOfNoOfBags);\r\n\r\n            receiptConfimation.setReceiptHeader(receiptHeader);\r\n            receiptConfimation.setReceiptList(receiptList);\r\n            log.info(\"receiptConfimation : \" + receiptConfimation);\r\n            return receiptConfimation;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    //================================================BF===========================================\r\n    public ReceiptConfimationReport getReceiptConfimationReportV9(String asnNumber, String preInboundNo, String companyCodeId, String plantId,\r\n                                                                  String languageId, String warehouseId) throws Exception {\r\n        if (asnNumber == null) {\r\n            throw new BadRequestException(\"ASNNumber can't be blank\");\r\n        }\r\n        if (preInboundNo == null || companyCodeId == null || plantId == null || languageId == null || warehouseId == null) {\r\n            throw new BadRequestException(\"paramenters can't be blank\");\r\n        }\r\n\r\n        ReceiptConfimationReport receiptConfimation;\r\n        try {\r\n            receiptConfimation = new ReceiptConfimationReport();\r\n            ReceiptHeader receiptHeader = new ReceiptHeader();\r\n\r\n            log.info(\"c_id, plant_id, lang_id, wh_id, preInboundNo, ref_doc_no: \" +\r\n                    companyCodeId + \", \" + plantId + \", \" + languageId + \", \" + warehouseId + \", \" + asnNumber + \", \" + preInboundNo);\r\n//            List<InboundLineV2> inboundLineSearchResults = inboundLineService.getInboundLineForReportV2(asnNumber, preInboundNo, companyCodeId, plantId, languageId, warehouseId);\r\n            List<InboundLineV2> inboundLineSearchResults = inboundLineV2Repository.findInboundLineForReportV5(asnNumber, preInboundNo, warehouseId, plantId, companyCodeId, languageId);\r\n//            log.info(\"inboundLineSearchResults ------>: \" + inboundLineSearchResults.size());\r\n\r\n            List<InboundReceiptConfirm> inboundLineResults = inboundLineV2Repository.findInboundLineV9(asnNumber, preInboundNo, warehouseId, plantId, companyCodeId, languageId);\r\n\r\n            Double sumTotalOfExpectedQty = 0.0;\r\n            Double sumTotalOfAccxpectedQty = 0.0;\r\n            Double sumTotalOfDamagedQty = 0.0;\r\n            Double sumTotalOfMissingORExcess = 0.0;\r\n            Double sumOfNoOfBags = 0.0;\r\n            List<Receipt> receiptList = new ArrayList<>();\r\n            log.info(\"inboundLine---------> : \" + inboundLineSearchResults.size());\r\n            if (!inboundLineSearchResults.isEmpty()) {\r\n                // Supplier - PARTNER_CODE\r\n                receiptHeader.setSupplier(inboundLineSearchResults.get(0).getBusinessPartnerCode());\r\n\r\n                receiptHeader.setSupplierName(inboundLineSearchResults.get(0).getSupplierName());\r\n\r\n                // Container No\r\n                receiptHeader.setContainerNo(inboundLineSearchResults.get(0).getContainerNo());\r\n\r\n                // Order Number - REF_DOC_NO\r\n                receiptHeader.setOrderNumber(inboundLineSearchResults.get(0).getRefDocNumber());\r\n\r\n                // Order Type -> PREINBOUNDHEADER - REF_DOC_TYPE\r\n                // Pass REF_DOC_NO in PREINBOUNDHEADER and fetch REF_DOC_TYPE\r\n                String referenceDocumentType = preInboundHeaderService.getReferenceDocumentTypeFromPreInboundHeader(\r\n                        inboundLineSearchResults.get(0).getWarehouseId(), inboundLineSearchResults.get(0).getPreInboundNo(),\r\n                        inboundLineSearchResults.get(0).getRefDocNumber());\r\n                receiptHeader.setOrderType(referenceDocumentType);\r\n                log.info(\"preInboundHeader referenceDocumentType--------> : \" + referenceDocumentType);\r\n            }\r\n\r\n            for (InboundReceiptConfirm inboundLine : inboundLineResults) {\r\n\r\n\r\n                Receipt receipt = new Receipt();\r\n\r\n                // SKU - ITM_CODE\r\n                receipt.setSku(inboundLine.getItemCode());\r\n\r\n                // Description - ITEM_TEXT\r\n                receipt.setDescription(inboundLine.getDescription());\r\n\r\n                // Mfr.Sku - MFR_PART\r\n                receipt.setMfrSku(inboundLine.getManufacturerName());\r\n\r\n                //BarcodeId - BARCODE_ID\r\n                receipt.setBarcodeId(inboundLine.getBarcodeId());\r\n\r\n                //ManufacturerDate - MFR_DATE\r\n                receipt.setManufacturerDate(inboundLine.getManufacturerDate());\r\n\r\n                //ExpiryDate - EXP_DATE\r\n                receipt.setExpiryDate(inboundLine.getExpiryDate());\r\n\r\n\r\n                // Expected - ORD_QTY\r\n                Double expQty = 0.0;\r\n                if (inboundLine.getOrderQty() != null) {\r\n                    expQty = inboundLine.getOrderQty();\r\n                    receipt.setExpectedQty(expQty);\r\n                    sumTotalOfExpectedQty += expQty;\r\n                    log.info(\"expQty------#--> : \" + expQty);\r\n                }\r\n\r\n                // Accepted - ACCEPT_QTY\r\n                Double acceptQty = 0.0;\r\n                if (inboundLine.getAcceptedQty() != null) {\r\n                    acceptQty = inboundLine.getAcceptedQty();\r\n                    receipt.setAcceptedQty(acceptQty);\r\n                    sumTotalOfAccxpectedQty += acceptQty;\r\n                    log.info(\"acceptQty------#--> : \" + acceptQty);\r\n                }\r\n\r\n                // Damaged - DAMAGE_QTY\r\n                Double damageQty = 0.0;\r\n                if (inboundLine.getDamageQty() != null) {\r\n                    damageQty = inboundLine.getDamageQty();\r\n                    receipt.setDamagedQty(damageQty);\r\n                    sumTotalOfDamagedQty += damageQty;\r\n                    log.info(\"damageQty------#--> : \" + damageQty);\r\n                }\r\n\r\n                Double noOfBags = 0.0;\r\n                if (inboundLine.getNoBags() != null) {\r\n                    noOfBags = inboundLine.getNoBags();\r\n                    receipt.setNoOfBags(noOfBags);\r\n                    sumOfNoOfBags += noOfBags;\r\n                    log.info(\"expQty------#--> : \" + noOfBags);\r\n                }\r\n\r\n                // Missing/Excess - SUM(Accepted + Damaged) - Expected\r\n                Double missingORExcessSum = inboundLine.getMissingQty();\r\n                sumTotalOfMissingORExcess += missingORExcessSum;\r\n                receipt.setMissingORExcess(missingORExcessSum);\r\n                log.info(\"missingORExcessSum------#--> : \" + missingORExcessSum);\r\n//                Double missingORExcessSum = (acceptQty + damageQty) - expQty;\r\n//                sumTotalOfMissingORExcess += missingORExcessSum;\r\n//                receipt.setMissingORExcess(missingORExcessSum);\r\n//                log.info(\"missingORExcessSum------#--> : \" + missingORExcessSum);\r\n\r\n                // Status\r\n                /*\r\n                 * 1. If Missing/Excess = 0, then hardcode Status as \"\"Received\"\" 2. If Damage\r\n                 * qty is greater than zero, then Hard code status \"\"Damage Received\"\" 3. If\r\n                 * Missing/Excess is less than 0, then hardcode Status as \"\"Partial Received\"\"\r\n                 * 4. If Missing/Excess is excess than 0, then hardcode Status as \"\"Excess\r\n                 * Received\"\" 5. If Sum (Accepted Qty +Damaged qty) is 0, then Hardcode status\r\n                 * as \"\"Not yet received\"\"\r\n                 */\r\n                if (missingORExcessSum == 0.0) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (missingORExcessSum.equals(0.0)) {\r\n                    receipt.setStatus(\"Received\");\r\n                } else if (damageQty > 0.0) {\r\n                    receipt.setStatus(\"Damage Received\");\r\n                } else if (missingORExcessSum < 0.0) {\r\n                    receipt.setStatus(\"Partial Received\");\r\n                } else if (missingORExcessSum > 0.0) {\r\n                    receipt.setStatus(\"Excess Received\");\r\n                } else if (sumTotalOfMissingORExcess == 0.0) {\r\n                    receipt.setStatus(\"Not Received\");\r\n                }\r\n                log.info(\"receipt------#--> : \" + receipt);\r\n                receiptList.add(receipt);\r\n            }\r\n\r\n            //---------------------------------------------------------------------------------------\r\n            // Group by SKU and sum the fields\r\n\r\n            Map<String, Receipt> groupedReceipts = new LinkedHashMap<>();\r\n            for (Receipt r : receiptList) {\r\n                String key = r.getBarcodeId() + \"##\" + r.getSku();\r\n//                groupedReceipts.compute(r.getSku(), (sku, existing) -> {\r\n                groupedReceipts.compute(key, (k, existing) -> {\r\n                    if (existing == null) {\r\n                        Receipt newReceipt = new Receipt();\r\n                        newReceipt.setSku(r.getSku());\r\n                        newReceipt.setDescription(r.getDescription());\r\n                        newReceipt.setMfrSku(r.getMfrSku());\r\n                        newReceipt.setExpiryDate(r.getExpiryDate());\r\n                        newReceipt.setManufacturerDate(r.getManufacturerDate());\r\n                        newReceipt.setBarcodeId(r.getBarcodeId());\r\n                        newReceipt.setExpectedQty(round1(r.getExpectedQty()));\r\n                        newReceipt.setAcceptedQty(round1(r.getAcceptedQty()));\r\n                        newReceipt.setDamagedQty(round1(r.getDamagedQty()));\r\n                        newReceipt.setMissingORExcess(r.getMissingORExcess() != null ? r.getMissingORExcess() : 0.0);\r\n                        newReceipt.setStatus(r.getStatus());\r\n                        newReceipt.setNoOfBags(r.getNoOfBags() != null ? r.getNoOfBags() : 0.0);\r\n                        return newReceipt;\r\n                    } else {\r\n                        existing.setExpectedQty(round1(existing.getExpectedQty()) + round1(r.getExpectedQty()));\r\n                        existing.setAcceptedQty(round1(existing.getAcceptedQty()) + round1(r.getAcceptedQty()));\r\n                        existing.setDamagedQty(round1(existing.getDamagedQty()) + round1(r.getDamagedQty()));\r\n                        existing.setMissingORExcess((existing.getMissingORExcess() != null ? existing.getMissingORExcess() : 0.0) + (r.getMissingORExcess() != null ? r.getMissingORExcess() : 0.0));\r\n                        existing.setNoOfBags((existing.getNoOfBags() != null ? existing.getNoOfBags() : 0.0) + (r.getNoOfBags() != null ? r.getNoOfBags() : 0.0));\r\n                        return existing;\r\n                    }\r\n                });\r\n            }\r\n//---------------------------------------------------------------------------------------\r\n            receiptHeader.setExpectedQtySum(round1(sumTotalOfExpectedQty));\r\n            receiptHeader.setAcceptedQtySum(round1(sumTotalOfAccxpectedQty));\r\n            receiptHeader.setDamagedQtySum(round1(sumTotalOfDamagedQty));\r\n            receiptHeader.setMissingORExcessSum(sumTotalOfMissingORExcess);\r\n            receiptHeader.setNoOfBagsSum(sumOfNoOfBags);\r\n\r\n            receiptConfimation.setReceiptHeader(receiptHeader);\r\n            receiptConfimation.setReceiptList(new ArrayList<>(groupedReceipts.values()));\r\n            log.info(\"receiptConfimation : \" + receiptConfimation);\r\n            return receiptConfimation;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n    }\r\n    /**\r\n     *\r\n     * @param findContainerReceiptInboundLine\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    public List<ContainerReceiptInboundLine> getContainerReceiptInboundLine(FindContainerReceiptInboundLine findContainerReceiptInboundLine) throws Exception {\r\n        List<ContainerReceiptInboundLine> containerReceiptInboundLineList = new ArrayList<>();\r\n        try {\r\n            DataBaseContextHolder.clear();\r\n            DataBaseContextHolder.setCurrentDb(\"BF\");\r\n            List<ContainerReceiptInboundImpl> inboundLineV2 = inboundLineV2Repository.getInboundLineContainerReceipt(findContainerReceiptInboundLine.getWarehouseId(), findContainerReceiptInboundLine.getCompanyCodeId(),\r\n                    findContainerReceiptInboundLine.getPlantId(), findContainerReceiptInboundLine.getLanguageId(), findContainerReceiptInboundLine.getRefDocNumber());\r\n            for (ContainerReceiptInboundImpl inboundLine : inboundLineV2) {\r\n                ContainerReceiptInboundLine containerReceiptInboundLine = new ContainerReceiptInboundLine();\r\n                BeanUtils.copyProperties(inboundLine, containerReceiptInboundLine, CommonUtils.getNullPropertyNames(inboundLine));\r\n                containerReceiptInboundLine.setInvoiceNo(inboundLine.getInvoiceNo());\r\n                containerReceiptInboundLine.setCompanyCodeId(inboundLine.getCompanyCodeId());\r\n                containerReceiptInboundLine.setRefDocNumber(inboundLine.getInvoiceNo());\r\n                containerReceiptInboundLine.setPreInboundNo(inboundLine.getPreInboundNo());\r\n                containerReceiptInboundLine.setReferenceField11(inboundLine.getReferenceField11());\r\n                containerReceiptInboundLine.setReferenceField12(inboundLine.getReferenceField12());\r\n                containerReceiptInboundLine.setReferenceField13(inboundLine.getReferenceField13());\r\n                containerReceiptInboundLine.setReferenceField14(inboundLine.getReferenceField14());\r\n                containerReceiptInboundLine.setReferenceField15(inboundLine.getReferenceField15());\r\n                containerReceiptInboundLine.setReferenceField16(inboundLine.getReferenceField16());\r\n                containerReceiptInboundLine.setReferenceField17(inboundLine.getReferenceField17());\r\n                containerReceiptInboundLine.setReferenceField18(inboundLine.getReferenceField18());\r\n                containerReceiptInboundLine.setReferenceField19(inboundLine.getReferenceField19());\r\n                containerReceiptInboundLine.setReferenceField20(inboundLine.getReferenceField20());\r\n                containerReceiptInboundLine.setIbReferenceField1(inboundLine.getIbReferenceField1());\r\n                containerReceiptInboundLine.setIbReferenceField2(inboundLine.getIbReferenceField2());\r\n                containerReceiptInboundLine.setIbReferenceField3(inboundLine.getIbReferenceField3());\r\n                containerReceiptInboundLine.setIbReferenceField4(inboundLine.getIbReferenceField4());\r\n                containerReceiptInboundLine.setIbReferenceField5(inboundLine.getIbReferenceField5());\r\n                containerReceiptInboundLine.setIbReferenceField6(inboundLine.getIbReferenceField6());\r\n                containerReceiptInboundLine.setIbReferenceField7(inboundLine.getIbReferenceField7());\r\n                containerReceiptInboundLine.setIbReferenceField8(inboundLine.getIbReferenceField8());\r\n                containerReceiptInboundLine.setIbReferenceField9(inboundLine.getIbReferenceField9());\r\n                containerReceiptInboundLine.setIbReferenceField10(inboundLine.getIbReferenceField10());\r\n                containerReceiptInboundLine.setLanguageId(inboundLine.getLanguageId());\r\n                containerReceiptInboundLine.setWarehouseId(inboundLine.getWarehouseId());\r\n                containerReceiptInboundLine.setPlantId(inboundLine.getPlantId());\r\n                containerReceiptInboundLineList.add(containerReceiptInboundLine);\r\n            }\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        return containerReceiptInboundLineList;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param itemTransferList\r\n     * @return\r\n     */\r\n   public List<ItemTransfer> postItemTransfer(List<ItemTransfer> itemTransferList) {\r\n\r\n        log.info(\"Item-Transfer Input List ---> {} \", itemTransferList);\r\n       itemTransferList.forEach(transfer -> {\r\n\r\n           log.info(\"Inbound Item transfer Processing -------------> \");\r\n           int preInboundLine = preInboundLineV2Repository.updatePreInboundLine(transfer.getRefDocNo(), transfer.getSourceItemCode(), transfer.getTargetItemCode(),\r\n                   transfer.getCompanyCodeId(), transfer.getPlantId(), transfer.getWarehouseId());\r\n           log.info(\"PreInboundLine Update ---> {} Affected Row \", preInboundLine);\r\n\r\n           int inboundLine = inboundLineRepository.updateInboundLine(transfer.getTargetItemCode(), transfer.getSourceItemCode(), transfer.getRefDocNo(),\r\n                   transfer.getCompanyCodeId(), transfer.getPlantId(), transfer.getWarehouseId());\r\n           log.info(\"InboundLine Update ---> {} Affected Row\", inboundLine);\r\n\r\n           InventoryV2 inventoryV2 = inventoryV2Repository.findInventoryIdForTransfer(transfer.getCompanyCodeId(), transfer.getPlantId(), transfer.getLanguageId(),\r\n                   transfer.getWarehouseId(), transfer.getSourceItemCode(), transfer.getBarcode(), transfer.getPalletId());\r\n           Double orderQty = transfer.getOrderQty();\r\n           log.info(\"SourceItem Values ------> \" + inventoryV2);\r\n           if (inventoryV2 != null) {\r\n               InventoryV2 newInventory = new InventoryV2();\r\n               BeanUtils.copyProperties(inventoryV2, newInventory, CommonUtils.getNullPropertyNames(inventoryV2));\r\n               Double INV_QTY = Math.min(orderQty, inventoryV2.getInventoryQuantity());\r\n               newInventory.setInventoryQuantity(INV_QTY);\r\n               newInventory.setReferenceField4(INV_QTY);\r\n               inventoryV2Repository.save(newInventory);\r\n               log.info(\"SourceItem Inventory Saved Values ---> \" + newInventory);\r\n           }\r\n           InventoryV2 newInventory = new InventoryV2();\r\n           newInventory.setCompanyCodeId(transfer.getCompanyCodeId());\r\n           newInventory.setPlantId(transfer.getPlantId());\r\n           newInventory.setWarehouseId(transfer.getWarehouseId());\r\n           newInventory.setDeletionIndicator(0L);\r\n           newInventory.setInventoryQuantity(transfer.getOrderQty());\r\n           newInventory.setReferenceField4(transfer.getOrderQty());\r\n           newInventory.setPalletCode(transfer.getPalletId());\r\n           newInventory.setBarcodeId(transfer.getBarcode());\r\n           if(inventoryV2 != null) {\r\n               newInventory.setBinClassId(inventoryV2.getBinClassId());\r\n               newInventory.setStorageBin(inventoryV2.getStorageBin());\r\n           } else {\r\n               newInventory.setBinClassId(3L);\r\n               newInventory.setStorageBin(\"RECEVING STAGING\");\r\n           }\r\n            inventoryV2Repository.save(newInventory);\r\n           log.info(\"TargetItem Inventory Saved Values ---> \" + newInventory);\r\n       });\r\n\r\n\r\n        return itemTransferList;\r\n    }\r\n\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../MultiTenent/Dev/InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java b/../../../../MultiTenent/Dev/InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java
--- a/../../../../MultiTenent/Dev/InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../MultiTenent/Dev/InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java	(date 1767265025511)
@@ -1888,15 +1888,22 @@
            Double orderQty = transfer.getOrderQty();
            log.info("SourceItem Values ------> " + inventoryV2);
            if (inventoryV2 != null) {
-               InventoryV2 newInventory = new InventoryV2();
-               BeanUtils.copyProperties(inventoryV2, newInventory, CommonUtils.getNullPropertyNames(inventoryV2));
+               InventoryV2 newInv = new InventoryV2();
+               BeanUtils.copyProperties(inventoryV2, newInv, CommonUtils.getNullPropertyNames(inventoryV2));
                Double INV_QTY = Math.min(orderQty, inventoryV2.getInventoryQuantity());
-               newInventory.setInventoryQuantity(INV_QTY);
-               newInventory.setReferenceField4(INV_QTY);
-               inventoryV2Repository.save(newInventory);
-               log.info("SourceItem Inventory Saved Values ---> " + newInventory);
+               newInv.setInventoryQuantity(INV_QTY);
+               newInv.setReferenceField4(INV_QTY);
+               inventoryV2Repository.save(newInv);
+               log.info("SourceItem Inventory Saved Values ---> " + newInv);
            }
            InventoryV2 newInventory = new InventoryV2();
+
+           if(inventoryV2 != null) {
+               BeanUtils.copyProperties(inventoryV2, newInventory, CommonUtils.getNullPropertyNames(inventoryV2));
+           } else {
+               newInventory.setBinClassId(3L);
+               newInventory.setStorageBin("RECEVING STAGING");
+           }
            newInventory.setCompanyCodeId(transfer.getCompanyCodeId());
            newInventory.setPlantId(transfer.getPlantId());
            newInventory.setWarehouseId(transfer.getWarehouseId());
@@ -1905,13 +1912,9 @@
            newInventory.setReferenceField4(transfer.getOrderQty());
            newInventory.setPalletCode(transfer.getPalletId());
            newInventory.setBarcodeId(transfer.getBarcode());
-           if(inventoryV2 != null) {
-               newInventory.setBinClassId(inventoryV2.getBinClassId());
-               newInventory.setStorageBin(inventoryV2.getStorageBin());
-           } else {
-               newInventory.setBinClassId(3L);
-               newInventory.setStorageBin("RECEVING STAGING");
-           }
+           newInventory.setItemCode(transfer.getTargetItemCode());
+           newInventory.setPalletCode(transfer.getPalletId());
+
             inventoryV2Repository.save(newInventory);
            log.info("TargetItem Inventory Saved Values ---> " + newInventory);
        });
Index: ../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.api.enterprise.transaction.scheduler;\r\n\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.text.ParseException;\r\nimport java.util.concurrent.CompletableFuture;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.scheduling.annotation.Scheduled;\r\nimport org.springframework.stereotype.Component;\r\n\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.inbound.WarehouseApiResponse;\r\nimport com.tekclover.wms.api.enterprise.transaction.service.ScheduleAsyncService;\r\n\r\nimport lombok.extern.slf4j.Slf4j;\r\n\r\n@Slf4j\r\n@Component\r\npublic class BatchJobScheduler {\r\n\r\n    @Autowired\r\n    ScheduleAsyncService scheduleAsyncService;\r\n\r\n    //-------------------------------------------------------------------------------------------\r\n\r\n    @Scheduled(fixedDelay = 15000)\r\n    public void nonPickListSchedule() throws InterruptedException, InvocationTargetException, IllegalAccessException, ParseException {\r\n\r\n        CompletableFuture<WarehouseApiResponse> outboundOrder = scheduleAsyncService.processNonPickListOutboundOrder();\r\n        CompletableFuture<WarehouseApiResponse> outboundFailedOrder = scheduleAsyncService.processOutboundFailedOrder();\r\n    }\r\n\r\n    @Scheduled(fixedDelay = 10000)\r\n    public void pickListSchedule() throws InterruptedException, InvocationTargetException, IllegalAccessException, ParseException {\r\n\r\n        CompletableFuture<WarehouseApiResponse> outboundOrder = scheduleAsyncService.processPickListOutboundOrder();\r\n//        CompletableFuture<WarehouseApiResponse> outboundFailedOrder = scheduleAsyncService.processOutboundFailedOrder();\r\n    }\r\n\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java b/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java
--- a/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java	(date 1767265025543)
@@ -26,14 +26,14 @@
     public void nonPickListSchedule() throws InterruptedException, InvocationTargetException, IllegalAccessException, ParseException {
 
         CompletableFuture<WarehouseApiResponse> outboundOrder = scheduleAsyncService.processNonPickListOutboundOrder();
-        CompletableFuture<WarehouseApiResponse> outboundFailedOrder = scheduleAsyncService.processOutboundFailedOrder();
+//        CompletableFuture<WarehouseApiResponse> outboundFailedOrder = scheduleAsyncService.processOutboundFailedOrder();
     }
 
     @Scheduled(fixedDelay = 10000)
     public void pickListSchedule() throws InterruptedException, InvocationTargetException, IllegalAccessException, ParseException {
 
         CompletableFuture<WarehouseApiResponse> outboundOrder = scheduleAsyncService.processPickListOutboundOrder();
-//        CompletableFuture<WarehouseApiResponse> outboundFailedOrder = scheduleAsyncService.processOutboundFailedOrder();
+        CompletableFuture<WarehouseApiResponse> outboundFailedOrder = scheduleAsyncService.processOutboundFailedOrder();
     }
 
 }
\ No newline at end of file
Index: ../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.api.enterprise.transaction.service;\r\n\r\nimport com.tekclover.wms.api.enterprise.controller.exception.BadRequestException;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.cyclecount.periodic.v2.PeriodicHeaderEntityV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.cyclecount.perpetual.v2.PerpetualHeaderEntityV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.inbound.preinbound.InboundIntegrationHeader;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.inbound.preinbound.InboundIntegrationLine;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.inbound.v2.InboundHeaderV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.inbound.v2.InboundOrderCancelInput;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.preoutbound.v2.OutboundIntegrationHeaderV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.preoutbound.v2.OutboundIntegrationLineV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.v2.OutboundHeaderV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.cyclecount.CycleCountHeader;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.inbound.WarehouseApiResponse;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.inbound.v2.InboundOrderLinesV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.inbound.v2.InboundOrderV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.outbound.v2.OutboundOrderLineV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.outbound.v2.OutboundOrderV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.warehouse.stockAdjustment.StockAdjustment;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.*;\r\nimport com.tekclover.wms.api.enterprise.transaction.util.CommonUtils;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.text.ParseException;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.concurrent.CopyOnWriteArrayList;\r\n\r\n@Slf4j\r\n@Service\r\npublic class TransactionService extends BaseService {\r\n\r\n    @Autowired\r\n    PreInboundHeaderService preinboundheaderService;\r\n    @Autowired\r\n    PreOutboundHeaderService preOutboundHeaderService;\r\n    @Autowired\r\n    OrderService orderService;\r\n    @Autowired\r\n    PerpetualHeaderService perpetualHeaderService;\r\n    @Autowired\r\n    PeriodicHeaderService periodicHeaderService;\r\n    @Autowired\r\n    StockAdjustmentMiddlewareService stockAdjustmentMiddlewareService;\r\n    @Autowired\r\n    StockAdjustmentService stockAdjustmentService;\r\n    @Autowired\r\n    CycleCountService cycleCountService;\r\n    @Autowired\r\n    MastersService mastersService;\r\n    @Autowired\r\n    OrderManagementLineService orderManagementLineService;\r\n    //-------------------------------------------------------------------------------------------\r\n\r\n    @Autowired\r\n    private OutboundOrderV2Repository outboundOrderV2Repository;\r\n    @Autowired\r\n    StockAdjustmentMiddlewareRepository stockAdjustmentRepository;\r\n    @Autowired\r\n    InboundOrderV2Repository inboundOrderV2Repository;\r\n    @Autowired\r\n    InboundOrderLinesV2Repository inboundOrderLinesV2Repository;\r\n    @Autowired\r\n    CycleCountHeaderRepository cycleCountHeaderRepository;\r\n\r\n    //-------------------------------------------------------------------------------------------\r\n\r\n    List<CycleCountHeader> stockCountPerpetualList = null;\r\n    List<CycleCountHeader> stockCountPeriodicList = null;\r\n    List<StockAdjustment> stockAdjustmentList = null;\r\n    static CopyOnWriteArrayList<CycleCountHeader> scPerpetualList = null;    // StockCount List\r\n    static CopyOnWriteArrayList<CycleCountHeader> scPeriodicList = null;    // StockCount List\r\n    static CopyOnWriteArrayList<StockAdjustment> stockAdjustments = null;    // StockAdjustment List\r\n\r\n\r\n\r\n    //-------------------------------------------------------------------Outbound---------------------------------------------------------------\r\n    public WarehouseApiResponse processOutboundOrder(List<OutboundOrderV2> sqlOutboundList) throws IllegalAccessException, InvocationTargetException, ParseException {\r\n        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();\r\n//        List<OutboundOrderV2> sqlOutboundList = outboundOrderV2Repository.findOutboundOrder(0L, WAREHOUSE_ID_200);\r\n            log.info(\"ob header list: \" + sqlOutboundList);\r\n            if(sqlOutboundList.isEmpty()) {\r\n                warehouseApiResponse.setStatusCode(\"200\");\r\n                warehouseApiResponse.setMessage(\"No Record Found\");\r\n                return warehouseApiResponse;\r\n            }\r\n\r\n        // Set Process_status_id = 1\r\n        for(OutboundOrderV2 outbound : sqlOutboundList) {\r\n            orderService.updateProcessedOrderV2(outbound.getRefDocumentNo(), outbound.getOutboundOrderTypeID(), 1L);\r\n            log.info(\"Update Process StatusId 1 Successfully\");\r\n        }\r\n\r\n        List<OutboundIntegrationHeaderV2> outboundAutoLabList = new ArrayList<>();\r\n            for (OutboundOrderV2 dbOBOrder : sqlOutboundList) {\r\n                log.info(\"OB Process Initiated : \" + dbOBOrder.getOrderId());\r\n                OutboundIntegrationHeaderV2 outboundIntegrationHeader = new OutboundIntegrationHeaderV2();\r\n                BeanUtils.copyProperties(dbOBOrder, outboundIntegrationHeader, CommonUtils.getNullPropertyNames(dbOBOrder));\r\n                outboundIntegrationHeader.setId(dbOBOrder.getOrderId());\r\n                outboundIntegrationHeader.setCompanyCode(dbOBOrder.getCompanyCode());\r\n                outboundIntegrationHeader.setBranchCode(dbOBOrder.getBranchCode());\r\n                outboundIntegrationHeader.setReferenceDocumentType(dbOBOrder.getRefDocumentType());\r\n                outboundIntegrationHeader.setMiddlewareId(dbOBOrder.getMiddlewareId());\r\n                outboundIntegrationHeader.setMiddlewareTable(dbOBOrder.getMiddlewareTable());\r\n                outboundIntegrationHeader.setReferenceDocumentType(dbOBOrder.getRefDocumentType());\r\n                outboundIntegrationHeader.setSalesOrderNumber(dbOBOrder.getSalesOrderNumber());\r\n                outboundIntegrationHeader.setPickListNumber(dbOBOrder.getPickListNumber());\r\n                outboundIntegrationHeader.setTokenNumber(dbOBOrder.getTokenNumber());\r\n                outboundIntegrationHeader.setTargetCompanyCode(dbOBOrder.getTargetCompanyCode());\r\n                outboundIntegrationHeader.setTargetBranchCode(dbOBOrder.getTargetBranchCode());\r\n                if (dbOBOrder.getOutboundOrderTypeID() == 3L) {\r\n                    outboundIntegrationHeader.setStatus(dbOBOrder.getPickListStatus());\r\n                    outboundIntegrationHeader.setRequiredDeliveryDate(dbOBOrder.getRequiredDeliveryDate());\r\n                }\r\n                if (dbOBOrder.getOutboundOrderTypeID() != 3L) {\r\n                    outboundIntegrationHeader.setStatus(dbOBOrder.getStatus());\r\n                }\r\n\r\n\r\n                if (outboundIntegrationHeader.getOutboundOrderTypeID() == 4) {\r\n                    outboundIntegrationHeader.setSalesInvoiceNumber(dbOBOrder.getSalesInvoiceNumber());\r\n                    outboundIntegrationHeader.setSalesOrderNumber(dbOBOrder.getSalesOrderNumber());\r\n                    outboundIntegrationHeader.setRequiredDeliveryDate(dbOBOrder.getSalesInvoiceDate());\r\n                    outboundIntegrationHeader.setDeliveryType(dbOBOrder.getDeliveryType());\r\n                    outboundIntegrationHeader.setCustomerId(dbOBOrder.getCustomerId());\r\n                    outboundIntegrationHeader.setCustomerName(dbOBOrder.getCustomerName());\r\n                    outboundIntegrationHeader.setAddress(dbOBOrder.getAddress());\r\n                    outboundIntegrationHeader.setPhoneNumber(dbOBOrder.getPhoneNumber());\r\n                    outboundIntegrationHeader.setAlternateNo(dbOBOrder.getAlternateNo());\r\n                    outboundIntegrationHeader.setStatus(dbOBOrder.getStatus());\r\n                }\r\n\r\n                List<OutboundIntegrationLineV2> outboundIntegrationLineList = new ArrayList<>();\r\n                log.info(\"ob line list: \" + dbOBOrder.getLine().size());\r\n                for (OutboundOrderLineV2 line : dbOBOrder.getLine()) {\r\n                    OutboundIntegrationLineV2 outboundIntegrationLine = new OutboundIntegrationLineV2();\r\n                    BeanUtils.copyProperties(line, outboundIntegrationLine, CommonUtils.getNullPropertyNames(line));\r\n                    outboundIntegrationLine.setCompanyCode(line.getFromCompanyCode());\r\n                    outboundIntegrationLine.setBranchCode(line.getSourceBranchCode());\r\n                    outboundIntegrationLine.setManufacturerName(line.getManufacturerName());\r\n                    outboundIntegrationLine.setManufacturerCode(line.getManufacturerName());\r\n                    outboundIntegrationLine.setMiddlewareId(line.getMiddlewareId());\r\n                    outboundIntegrationLine.setMiddlewareHeaderId(line.getMiddlewareHeaderId());\r\n                    outboundIntegrationLine.setMiddlewareTable(line.getMiddlewareTable());\r\n                    outboundIntegrationLine.setSalesInvoiceNo(line.getSalesInvoiceNo());\r\n                    outboundIntegrationLine.setReferenceDocumentType(dbOBOrder.getRefDocumentType());\r\n                    outboundIntegrationLine.setRefField1ForOrderType(line.getRefField1ForOrderType());\r\n                    outboundIntegrationLine.setSalesOrderNumber(line.getSalesOrderNo());\r\n                    outboundIntegrationLine.setSupplierInvoiceNo(line.getSupplierInvoiceNo());\r\n                    outboundIntegrationLine.setPickListNo(line.getPickListNo());\r\n                    outboundIntegrationLine.setManufacturerFullName(line.getManufacturerFullName());\r\n                    outboundIntegrationLineList.add(outboundIntegrationLine);\r\n                }\r\n                outboundIntegrationHeader.setOutboundIntegrationLines(outboundIntegrationLineList);\r\n                outboundAutoLabList.add(outboundIntegrationHeader);\r\n            }\r\n            log.info(\"Latest OutboundOrder found: \" + outboundAutoLabList);\r\n        for (OutboundIntegrationHeaderV2 outbound : outboundAutoLabList) {\r\n                try {\r\n                    log.info(\"OutboundOrder ID : \" + outbound.getRefDocumentNo());\r\n                    OutboundHeaderV2 outboundHeader = preOutboundHeaderService.processOutboundReceivedV2(outbound);\r\n                    if (outboundHeader != null) {\r\n                        // Updating the Processed Status\r\n                        orderService.updateProcessedOrderV2(outbound.getRefDocumentNo(), outbound.getOutboundOrderTypeID(),  10L);\r\n//                        outboundAutoLabList.remove(outbound);\r\n                        warehouseApiResponse.setStatusCode(\"200\");\r\n                        warehouseApiResponse.setMessage(\"Success\");\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    log.error(\"Error on outbound processing : \" + e.toString());\r\n                    if ((e.toString().contains(\"SQLState: 40001\") && e.toString().contains(\"SQL Error: 1205\")) ||\r\n                            e.toString().contains(\"was deadlocked on lock\") ||\r\n                            e.toString().contains(\"CannotAcquireLockException\") || e.toString().contains(\"LockAcquisitionException\") ||\r\n                            e.toString().contains(\"UnexpectedRollbackException\") || e.toString().contains(\"SqlException\")) {\r\n                        // Updating the Processed Status\r\n                        orderService.updateProcessedOrderV2(outbound.getRefDocumentNo(), outbound.getOutboundOrderTypeID(), 900L);\r\n                        //============================================================================================\r\n                        //Sending Failed Details through Mail\r\n                        InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();\r\n                        inboundOrderCancelInput.setCompanyCodeId(outbound.getCompanyCode());\r\n                        inboundOrderCancelInput.setPlantId(outbound.getBranchCode());\r\n                        inboundOrderCancelInput.setRefDocNumber(outbound.getRefDocumentNo());\r\n                        inboundOrderCancelInput.setReferenceField1(getOutboundOrderTypeTable(outbound.getOutboundOrderTypeID()));\r\n                        String errorDesc = null;\r\n                        try {\r\n                            if (e.toString().contains(\"message\")) {\r\n                                errorDesc = e.toString().substring(e.toString().indexOf(\"message\") + 9);\r\n                                errorDesc = errorDesc.replaceAll(\"}]\", \"\");\r\n                            }\r\n                            if (e.toString().contains(\"DataIntegrityViolationException\") || e.toString().contains(\"ConstraintViolationException\")) {\r\n                                errorDesc = \"Null Pointer Exception\";\r\n                            }\r\n                            if (e.toString().contains(\"CannotAcquireLockException\") || e.toString().contains(\"LockAcquisitionException\") || e.toString().contains(\"SQLServerException\")) {\r\n                                errorDesc = \"SQLServerException\";\r\n                            }\r\n                            if (e.toString().contains(\"BadRequestException\")) {\r\n                                errorDesc = e.toString().substring(e.toString().indexOf(\"BadRequestException:\") + 20);\r\n                            }\r\n                        } catch (Exception ex) {\r\n                            throw new BadRequestException(\"ErrorDesc Extract Error\" + ex);\r\n                        }\r\n                        inboundOrderCancelInput.setRemarks(errorDesc);\r\n\r\n                        mastersService.sendMail(inboundOrderCancelInput);\r\n                        //============================================================================================\r\n\r\n                        try {\r\n                            preOutboundHeaderService.createOutboundIntegrationLogV2(outbound, e.toString());\r\n//                            outboundAutoLabList.remove(outbound);\r\n                        } catch (Exception ex) {\r\n//                            outboundAutoLabList.remove(outbound);\r\n                            throw new RuntimeException(ex);\r\n                        }\r\n                        warehouseApiResponse.setStatusCode(\"1400\");\r\n                        warehouseApiResponse.setMessage(\"Failure\");\r\n                    } else {\r\n                        orderService.updateProcessedOrderV2(outbound.getRefDocumentNo(), outbound.getOutboundOrderTypeID());\r\n                    // Updating the Processed Status\r\n//                    orderService.updateProcessedOrderV2(outbound.getRefDocumentNo(), outbound.getOutboundOrderTypeID(), 100L);\r\n\r\n                    //============================================================================================\r\n                    //Sending Failed Details through Mail\r\n                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();\r\n                    inboundOrderCancelInput.setCompanyCodeId(outbound.getCompanyCode());\r\n                    inboundOrderCancelInput.setPlantId(outbound.getBranchCode());\r\n                    inboundOrderCancelInput.setRefDocNumber(outbound.getRefDocumentNo());\r\n                    inboundOrderCancelInput.setReferenceField1(getOutboundOrderTypeTable(outbound.getOutboundOrderTypeID()));\r\n                    String errorDesc = null;\r\n                    try {\r\n                        if (e.toString().contains(\"message\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"message\") + 9);\r\n                            errorDesc = errorDesc.replaceAll(\"}]\", \"\");\r\n                        }\r\n                        if (e.toString().contains(\"DataIntegrityViolationException\") || e.toString().contains(\"ConstraintViolationException\")) {\r\n                            errorDesc = \"Null Pointer Exception\";\r\n                        }\r\n                            if (e.toString().contains(\"CannotAcquireLockException\") || e.toString().contains(\"LockAcquisitionException\") ||\r\n                                    e.toString().contains(\"SQLServerException\") || e.toString().contains(\"UnexpectedRollbackException\")) {\r\n                                errorDesc = \"SQLServerException\";\r\n                        }\r\n                        if (e.toString().contains(\"BadRequestException\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"BadRequestException:\") + 20);\r\n                        }\r\n                    } catch (Exception ex) {\r\n                        throw new BadRequestException(\"ErrorDesc Extract Error\" + ex);\r\n                    }\r\n                    inboundOrderCancelInput.setRemarks(errorDesc);\r\n\r\n                    mastersService.sendMail(inboundOrderCancelInput);\r\n                    //============================================================================================\r\n\r\n                    try {\r\n                        preOutboundHeaderService.createOutboundIntegrationLogV2(outbound, e.toString());\r\n//                        outboundAutoLabList.remove(outbound);\r\n                    } catch (Exception ex) {\r\n//                        outboundAutoLabList.remove(outbound);\r\n                        throw new RuntimeException(ex);\r\n                    }\r\n                    warehouseApiResponse.setStatusCode(\"1400\");\r\n                    warehouseApiResponse.setMessage(\"Failure\");\r\n                }\r\n            }\r\n        }\r\n        return warehouseApiResponse;\r\n}\r\n\r\n    //=====================================================================StockCount=============================================================================\r\n    // PerpetualCount\r\n    public synchronized WarehouseApiResponse processPerpetualStockCountOrder() throws ParseException {\r\n        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();\r\n        if (stockCountPerpetualList == null || stockCountPerpetualList.isEmpty()) {\r\n            List<CycleCountHeader> scpList = cycleCountHeaderRepository.findTopByProcessedStatusIdAndStockCountTypeOrderByOrderReceivedOn(0L, \"PERPETUAL\");\r\n            stockCountPerpetualList = new CopyOnWriteArrayList<CycleCountHeader>(scpList);\r\n            scPerpetualList = new CopyOnWriteArrayList<CycleCountHeader>(stockCountPerpetualList);\r\n            log.info(\"stockCountPerpetualList : \" + stockCountPerpetualList);\r\n            log.info(\"There is no stock count record found to process (sql) ...Waiting..\");\r\n        }\r\n\r\n        if (stockCountPerpetualList != null) {\r\n            log.info(\"Latest Perpetual StockCount found: \" + stockCountPerpetualList);\r\n            for (CycleCountHeader stockCount : scPerpetualList) {\r\n                try {\r\n                    log.info(\"Perpetual StockCount CycleCountNo : \" + stockCount.getCycleCountNo());\r\n                    PerpetualHeaderEntityV2 perpetualStockCount = perpetualHeaderService.processStockCountReceived(stockCount);\r\n                    if (perpetualStockCount != null) {\r\n                        // Updating the Processed Status\r\n                        cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 10L);\r\n                        stockCountPerpetualList.remove(stockCount);\r\n                        warehouseApiResponse.setStatusCode(\"200\");\r\n                        warehouseApiResponse.setMessage(\"Success\");\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    log.error(\"Error on PerpetualStockCount processing : \" + e.toString());\r\n                    // Updating the Processed Status\r\n                    cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 100L);\r\n\r\n                    //============================================================================================\r\n                    //Sending Failed Details through Mail\r\n                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();\r\n                    inboundOrderCancelInput.setCompanyCodeId(stockCount.getCompanyCode());\r\n                    inboundOrderCancelInput.setPlantId(stockCount.getBranchCode());\r\n                    inboundOrderCancelInput.setRefDocNumber(stockCount.getCycleCountNo());\r\n                    inboundOrderCancelInput.setReferenceField1(\"PERPETUALHEADER\");\r\n                    String errorDesc = null;\r\n                    try {\r\n                        if (e.toString().contains(\"message\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"message\") + 9);\r\n                            errorDesc = errorDesc.replaceAll(\"}]\", \"\");\r\n                        }\r\n                        if (e.toString().contains(\"DataIntegrityViolationException\") || e.toString().contains(\"ConstraintViolationException\")) {\r\n                            errorDesc = \"Null Pointer Exception\";\r\n                        }\r\n                        if (e.toString().contains(\"CannotAcquireLockException\") || e.toString().contains(\"LockAcquisitionException\") || e.toString().contains(\"SQLServerException\")) {\r\n                            errorDesc = \"SQLServerException\";\r\n                        }\r\n                        if (e.toString().contains(\"BadRequestException\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"BadRequestException:\") + 20);\r\n                        }\r\n                    } catch (Exception ex) {\r\n                        throw new BadRequestException(\"ErrorDesc Extract Error\" + ex);\r\n                    }\r\n                    inboundOrderCancelInput.setRemarks(errorDesc);\r\n\r\n                    mastersService.sendMail(inboundOrderCancelInput);\r\n                    //============================================================================================\r\n\r\n//                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);\r\n                    stockCountPerpetualList.remove(stockCount);\r\n                    warehouseApiResponse.setStatusCode(\"1400\");\r\n                    warehouseApiResponse.setMessage(\"Failure\");\r\n                }\r\n            }\r\n        }\r\n        return warehouseApiResponse;\r\n    }\r\n\r\n    // PeriodicCount\r\n    public synchronized WarehouseApiResponse processPeriodicStockCountOrder() throws ParseException {\r\n        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();\r\n        if (stockCountPeriodicList == null || stockCountPeriodicList.isEmpty()) {\r\n            List<CycleCountHeader> scpList = cycleCountHeaderRepository.findTopByProcessedStatusIdAndStockCountTypeOrderByOrderReceivedOn(0L, \"PERIODIC\");\r\n            stockCountPeriodicList = new CopyOnWriteArrayList<CycleCountHeader>(scpList);\r\n            scPeriodicList = new CopyOnWriteArrayList<CycleCountHeader>(stockCountPeriodicList);\r\n            log.info(\"stockCountPeriodicList : \" + stockCountPeriodicList);\r\n            log.info(\"There is no Periodic stock count record found to process (sql) ...Waiting..\");\r\n        }\r\n\r\n        if (stockCountPeriodicList != null) {\r\n            log.info(\"Latest Periodic StockCount found: \" + stockCountPeriodicList);\r\n            for (CycleCountHeader stockCount : scPeriodicList) {\r\n                try {\r\n                    log.info(\"Periodic StockCount CycleCountNo : \" + stockCount.getCycleCountNo());\r\n                    PeriodicHeaderEntityV2 periodicHeaderV2 = periodicHeaderService.processStockCountReceived(stockCount);\r\n                    if (periodicHeaderV2 != null) {\r\n                        // Updating the Processed Status\r\n                        cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 10L);\r\n                        stockCountPeriodicList.remove(stockCount);\r\n                        warehouseApiResponse.setStatusCode(\"200\");\r\n                        warehouseApiResponse.setMessage(\"Success\");\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    log.error(\"Error on PeriodicStockCount processing : \" + e.toString());\r\n                    // Updating the Processed Status\r\n                    cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 100L);\r\n\r\n                    //============================================================================================\r\n                    //Sending Failed Details through Mail\r\n                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();\r\n                    inboundOrderCancelInput.setCompanyCodeId(stockCount.getCompanyCode());\r\n                    inboundOrderCancelInput.setPlantId(stockCount.getBranchCode());\r\n                    inboundOrderCancelInput.setRefDocNumber(stockCount.getCycleCountNo());\r\n                    inboundOrderCancelInput.setReferenceField1(\"PERIODICHEADER\");\r\n                    String errorDesc = null;\r\n                    try {\r\n                        if (e.toString().contains(\"message\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"message\") + 9);\r\n                            errorDesc = errorDesc.replaceAll(\"}]\", \"\");\r\n                        }\r\n                        if (e.toString().contains(\"DataIntegrityViolationException\") || e.toString().contains(\"ConstraintViolationException\")) {\r\n                            errorDesc = \"Null Pointer Exception\";\r\n                        }\r\n                        if (e.toString().contains(\"CannotAcquireLockException\") || e.toString().contains(\"LockAcquisitionException\") || e.toString().contains(\"SQLServerException\")) {\r\n                            errorDesc = \"SQLServerException\";\r\n                        }\r\n                        if (e.toString().contains(\"BadRequestException\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"BadRequestException:\") + 20);\r\n                        }\r\n                    } catch (Exception ex) {\r\n                        throw new BadRequestException(\"ErrorDesc Extract Error\" + ex);\r\n                    }\r\n                    inboundOrderCancelInput.setRemarks(errorDesc);\r\n\r\n                    mastersService.sendMail(inboundOrderCancelInput);\r\n                    //============================================================================================\r\n\r\n//                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);\r\n                    stockCountPeriodicList.remove(stockCount);\r\n                    warehouseApiResponse.setStatusCode(\"1400\");\r\n                    warehouseApiResponse.setMessage(\"Failure\");\r\n                }\r\n            }\r\n        }\r\n        return warehouseApiResponse;\r\n    }\r\n\r\n    //=====================================================================StockAdjustment=============================================================================\r\n    // StockAdjustment\r\n    public synchronized WarehouseApiResponse processStockAdjustmentOrder() {\r\n        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();\r\n        if (stockAdjustmentList == null || stockAdjustmentList.isEmpty()) {\r\n            List<StockAdjustment> saList = stockAdjustmentRepository.findTopByProcessedStatusIdOrderByOrderReceivedOn(0L);\r\n            stockAdjustmentList = new CopyOnWriteArrayList<StockAdjustment>(saList);\r\n            stockAdjustments = new CopyOnWriteArrayList<StockAdjustment>(stockAdjustmentList);\r\n            log.info(\"stockAdjustmentList : \" + stockAdjustmentList);\r\n            log.info(\"There is no stock adjustment record found to process (sql) ...Waiting..\");\r\n        }\r\n\r\n        if (stockAdjustmentList != null) {\r\n            log.info(\"Latest StockAdjustment found: \" + stockAdjustmentList);\r\n            for (StockAdjustment stockAdjustment : stockAdjustments) {\r\n                try {\r\n                    log.info(\"StockAdjustment Id : \" + stockAdjustment.getStockAdjustmentId());\r\n                    WarehouseApiResponse dbStockAdjustment = stockAdjustmentService.processStockAdjustment(stockAdjustment);\r\n                    if (dbStockAdjustment != null) {\r\n                        // Updating the Processed Status\r\n                        stockAdjustmentMiddlewareService.updateProcessedOrderV2(stockAdjustment.getStockAdjustmentId(), 10L);\r\n                        stockAdjustmentList.remove(stockAdjustment);\r\n                        warehouseApiResponse.setStatusCode(\"200\");\r\n                        warehouseApiResponse.setMessage(\"Success\");\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    log.error(\"Error on StockAdjustment processing : \" + e.toString());\r\n                    // Updating the Processed Status\r\n                    stockAdjustmentMiddlewareService.updateProcessedOrderV2(stockAdjustment.getStockAdjustmentId(), 100L);\r\n\r\n                    //============================================================================================\r\n                    //Sending Failed Details through Mail\r\n                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();\r\n                    inboundOrderCancelInput.setCompanyCodeId(stockAdjustment.getCompanyCode());\r\n                    inboundOrderCancelInput.setPlantId(stockAdjustment.getBranchCode());\r\n                    inboundOrderCancelInput.setRefDocNumber(stockAdjustment.getItemCode());\r\n                    inboundOrderCancelInput.setReferenceField2(stockAdjustment.getManufacturerName());\r\n                    inboundOrderCancelInput.setReferenceField1(\"STOCKADJUSTMENT\");\r\n                    String errorDesc = null;\r\n                    try {\r\n                        if (e.toString().contains(\"message\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"message\") + 9);\r\n                            errorDesc = errorDesc.replaceAll(\"}]\", \"\");\r\n                        }\r\n                        if (e.toString().contains(\"DataIntegrityViolationException\") || e.toString().contains(\"ConstraintViolationException\")) {\r\n                            errorDesc = \"Null Pointer Exception\";\r\n                        }\r\n                        if (e.toString().contains(\"CannotAcquireLockException\") || e.toString().contains(\"LockAcquisitionException\") || e.toString().contains(\"SQLServerException\")) {\r\n                            errorDesc = \"SQLServerException\";\r\n                        }\r\n                        if (e.toString().contains(\"BadRequestException\")) {\r\n                            errorDesc = e.toString().substring(e.toString().indexOf(\"BadRequestException:\") + 20);\r\n                        }\r\n                    } catch (Exception ex) {\r\n                        throw new BadRequestException(\"ErrorDesc Extract Error\" + ex);\r\n                    }\r\n                    inboundOrderCancelInput.setRemarks(errorDesc);\r\n\r\n                    mastersService.sendMail(inboundOrderCancelInput);\r\n                    //============================================================================================\r\n\r\n//                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);\r\n                    stockAdjustmentList.remove(stockAdjustment);\r\n                    warehouseApiResponse.setStatusCode(\"1400\");\r\n                    warehouseApiResponse.setMessage(\"Failure\");\r\n                }\r\n            }\r\n        }\r\n        return warehouseApiResponse;\r\n    }\r\n\r\n    //-------------------------------------------------------------------Inbound-Failed-Order-------------------------------------------------------------\r\n    public synchronized WarehouseApiResponse processInboundFailedOrder() throws InterruptedException {\r\n        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();\r\n        List<InboundOrderV2> sqlInboundList = inboundOrderV2Repository.findTopByProcessedStatusIdOrderByOrderReceivedOn(900L);\r\n        log.info(\"ib failedOrders list: \" + sqlInboundList);\r\n        if (sqlInboundList != null && !sqlInboundList.isEmpty()) {\r\n            for (InboundOrderV2 dbIBOrder : sqlInboundList) {\r\n                log.info(\"DeadLock OrderId: \" + dbIBOrder.getOrderId() + \", \" + dbIBOrder.getInboundOrderTypeId());\r\n                Thread.sleep(10000);\r\n                inboundOrderV2Repository.updateProcessStatusId(dbIBOrder.getInboundOrderHeaderId());\r\n            }\r\n            warehouseApiResponse.setStatusCode(\"200\");\r\n            warehouseApiResponse.setMessage(\"Success\");\r\n        }\r\n        return warehouseApiResponse;\r\n    }\r\n\r\n    //-------------------------------------------------------------------Outbound-Failed-Order-------------------------------------------------------------\r\n    public synchronized WarehouseApiResponse processOutboundFailedOrder() throws InterruptedException {\r\n        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();\r\n        List<OutboundOrderV2> sqlOutboundList = outboundOrderV2Repository.findTopByProcessedStatusIdOrderByOrderReceivedOn(900L);\r\n        log.info(\"ob failedOrders list: \" + sqlOutboundList);\r\n        if (sqlOutboundList != null && !sqlOutboundList.isEmpty()) {\r\n            for (OutboundOrderV2 dbOBOrder : sqlOutboundList) {\r\n                log.info(\"DeadLock OrderId: \" + dbOBOrder.getOrderId() + \", \" + dbOBOrder.getOutboundOrderTypeID());\r\n                Thread.sleep(10000);\r\n                outboundOrderV2Repository.updateProcessStatusId(dbOBOrder.getOutboundOrderHeaderId());\r\n            }\r\n            warehouseApiResponse.setStatusCode(\"200\");\r\n            warehouseApiResponse.setMessage(\"Success\");\r\n        }\r\n        return warehouseApiResponse;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java b/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java
--- a/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java	(date 1767265025596)
@@ -271,233 +271,233 @@
 
     //=====================================================================StockCount=============================================================================
     // PerpetualCount
-    public synchronized WarehouseApiResponse processPerpetualStockCountOrder() throws ParseException {
-        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
-        if (stockCountPerpetualList == null || stockCountPerpetualList.isEmpty()) {
-            List<CycleCountHeader> scpList = cycleCountHeaderRepository.findTopByProcessedStatusIdAndStockCountTypeOrderByOrderReceivedOn(0L, "PERPETUAL");
-            stockCountPerpetualList = new CopyOnWriteArrayList<CycleCountHeader>(scpList);
-            scPerpetualList = new CopyOnWriteArrayList<CycleCountHeader>(stockCountPerpetualList);
-            log.info("stockCountPerpetualList : " + stockCountPerpetualList);
-            log.info("There is no stock count record found to process (sql) ...Waiting..");
-        }
-
-        if (stockCountPerpetualList != null) {
-            log.info("Latest Perpetual StockCount found: " + stockCountPerpetualList);
-            for (CycleCountHeader stockCount : scPerpetualList) {
-                try {
-                    log.info("Perpetual StockCount CycleCountNo : " + stockCount.getCycleCountNo());
-                    PerpetualHeaderEntityV2 perpetualStockCount = perpetualHeaderService.processStockCountReceived(stockCount);
-                    if (perpetualStockCount != null) {
-                        // Updating the Processed Status
-                        cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 10L);
-                        stockCountPerpetualList.remove(stockCount);
-                        warehouseApiResponse.setStatusCode("200");
-                        warehouseApiResponse.setMessage("Success");
-                    }
-                } catch (Exception e) {
-                    e.printStackTrace();
-                    log.error("Error on PerpetualStockCount processing : " + e.toString());
-                    // Updating the Processed Status
-                    cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 100L);
-
-                    //============================================================================================
-                    //Sending Failed Details through Mail
-                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();
-                    inboundOrderCancelInput.setCompanyCodeId(stockCount.getCompanyCode());
-                    inboundOrderCancelInput.setPlantId(stockCount.getBranchCode());
-                    inboundOrderCancelInput.setRefDocNumber(stockCount.getCycleCountNo());
-                    inboundOrderCancelInput.setReferenceField1("PERPETUALHEADER");
-                    String errorDesc = null;
-                    try {
-                        if (e.toString().contains("message")) {
-                            errorDesc = e.toString().substring(e.toString().indexOf("message") + 9);
-                            errorDesc = errorDesc.replaceAll("}]", "");
-                        }
-                        if (e.toString().contains("DataIntegrityViolationException") || e.toString().contains("ConstraintViolationException")) {
-                            errorDesc = "Null Pointer Exception";
-                        }
-                        if (e.toString().contains("CannotAcquireLockException") || e.toString().contains("LockAcquisitionException") || e.toString().contains("SQLServerException")) {
-                            errorDesc = "SQLServerException";
-                        }
-                        if (e.toString().contains("BadRequestException")) {
-                            errorDesc = e.toString().substring(e.toString().indexOf("BadRequestException:") + 20);
-                        }
-                    } catch (Exception ex) {
-                        throw new BadRequestException("ErrorDesc Extract Error" + ex);
-                    }
-                    inboundOrderCancelInput.setRemarks(errorDesc);
-
-                    mastersService.sendMail(inboundOrderCancelInput);
-                    //============================================================================================
-
-//                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);
-                    stockCountPerpetualList.remove(stockCount);
-                    warehouseApiResponse.setStatusCode("1400");
-                    warehouseApiResponse.setMessage("Failure");
-                }
-            }
-        }
-        return warehouseApiResponse;
-    }
+//    public synchronized WarehouseApiResponse processPerpetualStockCountOrder() throws ParseException {
+//        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
+//        if (stockCountPerpetualList == null || stockCountPerpetualList.isEmpty()) {
+//            List<CycleCountHeader> scpList = cycleCountHeaderRepository.findTopByProcessedStatusIdAndStockCountTypeOrderByOrderReceivedOn(0L, "PERPETUAL");
+//            stockCountPerpetualList = new CopyOnWriteArrayList<CycleCountHeader>(scpList);
+//            scPerpetualList = new CopyOnWriteArrayList<CycleCountHeader>(stockCountPerpetualList);
+//            log.info("stockCountPerpetualList : " + stockCountPerpetualList);
+//            log.info("There is no stock count record found to process (sql) ...Waiting..");
+//        }
+//
+//        if (stockCountPerpetualList != null) {
+//            log.info("Latest Perpetual StockCount found: " + stockCountPerpetualList);
+//            for (CycleCountHeader stockCount : scPerpetualList) {
+//                try {
+//                    log.info("Perpetual StockCount CycleCountNo : " + stockCount.getCycleCountNo());
+//                    PerpetualHeaderEntityV2 perpetualStockCount = perpetualHeaderService.processStockCountReceived(stockCount);
+//                    if (perpetualStockCount != null) {
+//                        // Updating the Processed Status
+//                        cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 10L);
+//                        stockCountPerpetualList.remove(stockCount);
+//                        warehouseApiResponse.setStatusCode("200");
+//                        warehouseApiResponse.setMessage("Success");
+//                    }
+//                } catch (Exception e) {
+//                    e.printStackTrace();
+//                    log.error("Error on PerpetualStockCount processing : " + e.toString());
+//                    // Updating the Processed Status
+//                    cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 100L);
+//
+//                    //============================================================================================
+//                    //Sending Failed Details through Mail
+//                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();
+//                    inboundOrderCancelInput.setCompanyCodeId(stockCount.getCompanyCode());
+//                    inboundOrderCancelInput.setPlantId(stockCount.getBranchCode());
+//                    inboundOrderCancelInput.setRefDocNumber(stockCount.getCycleCountNo());
+//                    inboundOrderCancelInput.setReferenceField1("PERPETUALHEADER");
+//                    String errorDesc = null;
+//                    try {
+//                        if (e.toString().contains("message")) {
+//                            errorDesc = e.toString().substring(e.toString().indexOf("message") + 9);
+//                            errorDesc = errorDesc.replaceAll("}]", "");
+//                        }
+//                        if (e.toString().contains("DataIntegrityViolationException") || e.toString().contains("ConstraintViolationException")) {
+//                            errorDesc = "Null Pointer Exception";
+//                        }
+//                        if (e.toString().contains("CannotAcquireLockException") || e.toString().contains("LockAcquisitionException") || e.toString().contains("SQLServerException")) {
+//                            errorDesc = "SQLServerException";
+//                        }
+//                        if (e.toString().contains("BadRequestException")) {
+//                            errorDesc = e.toString().substring(e.toString().indexOf("BadRequestException:") + 20);
+//                        }
+//                    } catch (Exception ex) {
+//                        throw new BadRequestException("ErrorDesc Extract Error" + ex);
+//                    }
+//                    inboundOrderCancelInput.setRemarks(errorDesc);
+//
+//                    mastersService.sendMail(inboundOrderCancelInput);
+//                    //============================================================================================
+//
+////                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);
+//                    stockCountPerpetualList.remove(stockCount);
+//                    warehouseApiResponse.setStatusCode("1400");
+//                    warehouseApiResponse.setMessage("Failure");
+//                }
+//            }
+//        }
+//        return warehouseApiResponse;
+//    }
 
     // PeriodicCount
-    public synchronized WarehouseApiResponse processPeriodicStockCountOrder() throws ParseException {
-        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
-        if (stockCountPeriodicList == null || stockCountPeriodicList.isEmpty()) {
-            List<CycleCountHeader> scpList = cycleCountHeaderRepository.findTopByProcessedStatusIdAndStockCountTypeOrderByOrderReceivedOn(0L, "PERIODIC");
-            stockCountPeriodicList = new CopyOnWriteArrayList<CycleCountHeader>(scpList);
-            scPeriodicList = new CopyOnWriteArrayList<CycleCountHeader>(stockCountPeriodicList);
-            log.info("stockCountPeriodicList : " + stockCountPeriodicList);
-            log.info("There is no Periodic stock count record found to process (sql) ...Waiting..");
-        }
-
-        if (stockCountPeriodicList != null) {
-            log.info("Latest Periodic StockCount found: " + stockCountPeriodicList);
-            for (CycleCountHeader stockCount : scPeriodicList) {
-                try {
-                    log.info("Periodic StockCount CycleCountNo : " + stockCount.getCycleCountNo());
-                    PeriodicHeaderEntityV2 periodicHeaderV2 = periodicHeaderService.processStockCountReceived(stockCount);
-                    if (periodicHeaderV2 != null) {
-                        // Updating the Processed Status
-                        cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 10L);
-                        stockCountPeriodicList.remove(stockCount);
-                        warehouseApiResponse.setStatusCode("200");
-                        warehouseApiResponse.setMessage("Success");
-                    }
-                } catch (Exception e) {
-                    e.printStackTrace();
-                    log.error("Error on PeriodicStockCount processing : " + e.toString());
-                    // Updating the Processed Status
-                    cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 100L);
-
-                    //============================================================================================
-                    //Sending Failed Details through Mail
-                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();
-                    inboundOrderCancelInput.setCompanyCodeId(stockCount.getCompanyCode());
-                    inboundOrderCancelInput.setPlantId(stockCount.getBranchCode());
-                    inboundOrderCancelInput.setRefDocNumber(stockCount.getCycleCountNo());
-                    inboundOrderCancelInput.setReferenceField1("PERIODICHEADER");
-                    String errorDesc = null;
-                    try {
-                        if (e.toString().contains("message")) {
-                            errorDesc = e.toString().substring(e.toString().indexOf("message") + 9);
-                            errorDesc = errorDesc.replaceAll("}]", "");
-                        }
-                        if (e.toString().contains("DataIntegrityViolationException") || e.toString().contains("ConstraintViolationException")) {
-                            errorDesc = "Null Pointer Exception";
-                        }
-                        if (e.toString().contains("CannotAcquireLockException") || e.toString().contains("LockAcquisitionException") || e.toString().contains("SQLServerException")) {
-                            errorDesc = "SQLServerException";
-                        }
-                        if (e.toString().contains("BadRequestException")) {
-                            errorDesc = e.toString().substring(e.toString().indexOf("BadRequestException:") + 20);
-                        }
-                    } catch (Exception ex) {
-                        throw new BadRequestException("ErrorDesc Extract Error" + ex);
-                    }
-                    inboundOrderCancelInput.setRemarks(errorDesc);
-
-                    mastersService.sendMail(inboundOrderCancelInput);
-                    //============================================================================================
-
-//                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);
-                    stockCountPeriodicList.remove(stockCount);
-                    warehouseApiResponse.setStatusCode("1400");
-                    warehouseApiResponse.setMessage("Failure");
-                }
-            }
-        }
-        return warehouseApiResponse;
-    }
+//    public synchronized WarehouseApiResponse processPeriodicStockCountOrder() throws ParseException {
+//        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
+//        if (stockCountPeriodicList == null || stockCountPeriodicList.isEmpty()) {
+//            List<CycleCountHeader> scpList = cycleCountHeaderRepository.findTopByProcessedStatusIdAndStockCountTypeOrderByOrderReceivedOn(0L, "PERIODIC");
+//            stockCountPeriodicList = new CopyOnWriteArrayList<CycleCountHeader>(scpList);
+//            scPeriodicList = new CopyOnWriteArrayList<CycleCountHeader>(stockCountPeriodicList);
+//            log.info("stockCountPeriodicList : " + stockCountPeriodicList);
+//            log.info("There is no Periodic stock count record found to process (sql) ...Waiting..");
+//        }
+//
+//        if (stockCountPeriodicList != null) {
+//            log.info("Latest Periodic StockCount found: " + stockCountPeriodicList);
+//            for (CycleCountHeader stockCount : scPeriodicList) {
+//                try {
+//                    log.info("Periodic StockCount CycleCountNo : " + stockCount.getCycleCountNo());
+//                    PeriodicHeaderEntityV2 periodicHeaderV2 = periodicHeaderService.processStockCountReceived(stockCount);
+//                    if (periodicHeaderV2 != null) {
+//                        // Updating the Processed Status
+//                        cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 10L);
+//                        stockCountPeriodicList.remove(stockCount);
+//                        warehouseApiResponse.setStatusCode("200");
+//                        warehouseApiResponse.setMessage("Success");
+//                    }
+//                } catch (Exception e) {
+//                    e.printStackTrace();
+//                    log.error("Error on PeriodicStockCount processing : " + e.toString());
+//                    // Updating the Processed Status
+//                    cycleCountService.updateProcessedOrderV2(stockCount.getCycleCountNo(), 100L);
+//
+//                    //============================================================================================
+//                    //Sending Failed Details through Mail
+//                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();
+//                    inboundOrderCancelInput.setCompanyCodeId(stockCount.getCompanyCode());
+//                    inboundOrderCancelInput.setPlantId(stockCount.getBranchCode());
+//                    inboundOrderCancelInput.setRefDocNumber(stockCount.getCycleCountNo());
+//                    inboundOrderCancelInput.setReferenceField1("PERIODICHEADER");
+//                    String errorDesc = null;
+//                    try {
+//                        if (e.toString().contains("message")) {
+//                            errorDesc = e.toString().substring(e.toString().indexOf("message") + 9);
+//                            errorDesc = errorDesc.replaceAll("}]", "");
+//                        }
+//                        if (e.toString().contains("DataIntegrityViolationException") || e.toString().contains("ConstraintViolationException")) {
+//                            errorDesc = "Null Pointer Exception";
+//                        }
+//                        if (e.toString().contains("CannotAcquireLockException") || e.toString().contains("LockAcquisitionException") || e.toString().contains("SQLServerException")) {
+//                            errorDesc = "SQLServerException";
+//                        }
+//                        if (e.toString().contains("BadRequestException")) {
+//                            errorDesc = e.toString().substring(e.toString().indexOf("BadRequestException:") + 20);
+//                        }
+//                    } catch (Exception ex) {
+//                        throw new BadRequestException("ErrorDesc Extract Error" + ex);
+//                    }
+//                    inboundOrderCancelInput.setRemarks(errorDesc);
+//
+//                    mastersService.sendMail(inboundOrderCancelInput);
+//                    //============================================================================================
+//
+////                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);
+//                    stockCountPeriodicList.remove(stockCount);
+//                    warehouseApiResponse.setStatusCode("1400");
+//                    warehouseApiResponse.setMessage("Failure");
+//                }
+//            }
+//        }
+//        return warehouseApiResponse;
+//    }
 
     //=====================================================================StockAdjustment=============================================================================
     // StockAdjustment
-    public synchronized WarehouseApiResponse processStockAdjustmentOrder() {
-        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
-        if (stockAdjustmentList == null || stockAdjustmentList.isEmpty()) {
-            List<StockAdjustment> saList = stockAdjustmentRepository.findTopByProcessedStatusIdOrderByOrderReceivedOn(0L);
-            stockAdjustmentList = new CopyOnWriteArrayList<StockAdjustment>(saList);
-            stockAdjustments = new CopyOnWriteArrayList<StockAdjustment>(stockAdjustmentList);
-            log.info("stockAdjustmentList : " + stockAdjustmentList);
-            log.info("There is no stock adjustment record found to process (sql) ...Waiting..");
-        }
-
-        if (stockAdjustmentList != null) {
-            log.info("Latest StockAdjustment found: " + stockAdjustmentList);
-            for (StockAdjustment stockAdjustment : stockAdjustments) {
-                try {
-                    log.info("StockAdjustment Id : " + stockAdjustment.getStockAdjustmentId());
-                    WarehouseApiResponse dbStockAdjustment = stockAdjustmentService.processStockAdjustment(stockAdjustment);
-                    if (dbStockAdjustment != null) {
-                        // Updating the Processed Status
-                        stockAdjustmentMiddlewareService.updateProcessedOrderV2(stockAdjustment.getStockAdjustmentId(), 10L);
-                        stockAdjustmentList.remove(stockAdjustment);
-                        warehouseApiResponse.setStatusCode("200");
-                        warehouseApiResponse.setMessage("Success");
-                    }
-                } catch (Exception e) {
-                    e.printStackTrace();
-                    log.error("Error on StockAdjustment processing : " + e.toString());
-                    // Updating the Processed Status
-                    stockAdjustmentMiddlewareService.updateProcessedOrderV2(stockAdjustment.getStockAdjustmentId(), 100L);
-
-                    //============================================================================================
-                    //Sending Failed Details through Mail
-                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();
-                    inboundOrderCancelInput.setCompanyCodeId(stockAdjustment.getCompanyCode());
-                    inboundOrderCancelInput.setPlantId(stockAdjustment.getBranchCode());
-                    inboundOrderCancelInput.setRefDocNumber(stockAdjustment.getItemCode());
-                    inboundOrderCancelInput.setReferenceField2(stockAdjustment.getManufacturerName());
-                    inboundOrderCancelInput.setReferenceField1("STOCKADJUSTMENT");
-                    String errorDesc = null;
-                    try {
-                        if (e.toString().contains("message")) {
-                            errorDesc = e.toString().substring(e.toString().indexOf("message") + 9);
-                            errorDesc = errorDesc.replaceAll("}]", "");
-                        }
-                        if (e.toString().contains("DataIntegrityViolationException") || e.toString().contains("ConstraintViolationException")) {
-                            errorDesc = "Null Pointer Exception";
-                        }
-                        if (e.toString().contains("CannotAcquireLockException") || e.toString().contains("LockAcquisitionException") || e.toString().contains("SQLServerException")) {
-                            errorDesc = "SQLServerException";
-                        }
-                        if (e.toString().contains("BadRequestException")) {
-                            errorDesc = e.toString().substring(e.toString().indexOf("BadRequestException:") + 20);
-                        }
-                    } catch (Exception ex) {
-                        throw new BadRequestException("ErrorDesc Extract Error" + ex);
-                    }
-                    inboundOrderCancelInput.setRemarks(errorDesc);
-
-                    mastersService.sendMail(inboundOrderCancelInput);
-                    //============================================================================================
-
-//                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);
-                    stockAdjustmentList.remove(stockAdjustment);
-                    warehouseApiResponse.setStatusCode("1400");
-                    warehouseApiResponse.setMessage("Failure");
-                }
-            }
-        }
-        return warehouseApiResponse;
-    }
+//    public synchronized WarehouseApiResponse processStockAdjustmentOrder() {
+//        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
+//        if (stockAdjustmentList == null || stockAdjustmentList.isEmpty()) {
+//            List<StockAdjustment> saList = stockAdjustmentRepository.findTopByProcessedStatusIdOrderByOrderReceivedOn(0L);
+//            stockAdjustmentList = new CopyOnWriteArrayList<StockAdjustment>(saList);
+//            stockAdjustments = new CopyOnWriteArrayList<StockAdjustment>(stockAdjustmentList);
+//            log.info("stockAdjustmentList : " + stockAdjustmentList);
+//            log.info("There is no stock adjustment record found to process (sql) ...Waiting..");
+//        }
+//
+//        if (stockAdjustmentList != null) {
+//            log.info("Latest StockAdjustment found: " + stockAdjustmentList);
+//            for (StockAdjustment stockAdjustment : stockAdjustments) {
+//                try {
+//                    log.info("StockAdjustment Id : " + stockAdjustment.getStockAdjustmentId());
+//                    WarehouseApiResponse dbStockAdjustment = stockAdjustmentService.processStockAdjustment(stockAdjustment);
+//                    if (dbStockAdjustment != null) {
+//                        // Updating the Processed Status
+//                        stockAdjustmentMiddlewareService.updateProcessedOrderV2(stockAdjustment.getStockAdjustmentId(), 10L);
+//                        stockAdjustmentList.remove(stockAdjustment);
+//                        warehouseApiResponse.setStatusCode("200");
+//                        warehouseApiResponse.setMessage("Success");
+//                    }
+//                } catch (Exception e) {
+//                    e.printStackTrace();
+//                    log.error("Error on StockAdjustment processing : " + e.toString());
+//                    // Updating the Processed Status
+//                    stockAdjustmentMiddlewareService.updateProcessedOrderV2(stockAdjustment.getStockAdjustmentId(), 100L);
+//
+//                    //============================================================================================
+//                    //Sending Failed Details through Mail
+//                    InboundOrderCancelInput inboundOrderCancelInput = new InboundOrderCancelInput();
+//                    inboundOrderCancelInput.setCompanyCodeId(stockAdjustment.getCompanyCode());
+//                    inboundOrderCancelInput.setPlantId(stockAdjustment.getBranchCode());
+//                    inboundOrderCancelInput.setRefDocNumber(stockAdjustment.getItemCode());
+//                    inboundOrderCancelInput.setReferenceField2(stockAdjustment.getManufacturerName());
+//                    inboundOrderCancelInput.setReferenceField1("STOCKADJUSTMENT");
+//                    String errorDesc = null;
+//                    try {
+//                        if (e.toString().contains("message")) {
+//                            errorDesc = e.toString().substring(e.toString().indexOf("message") + 9);
+//                            errorDesc = errorDesc.replaceAll("}]", "");
+//                        }
+//                        if (e.toString().contains("DataIntegrityViolationException") || e.toString().contains("ConstraintViolationException")) {
+//                            errorDesc = "Null Pointer Exception";
+//                        }
+//                        if (e.toString().contains("CannotAcquireLockException") || e.toString().contains("LockAcquisitionException") || e.toString().contains("SQLServerException")) {
+//                            errorDesc = "SQLServerException";
+//                        }
+//                        if (e.toString().contains("BadRequestException")) {
+//                            errorDesc = e.toString().substring(e.toString().indexOf("BadRequestException:") + 20);
+//                        }
+//                    } catch (Exception ex) {
+//                        throw new BadRequestException("ErrorDesc Extract Error" + ex);
+//                    }
+//                    inboundOrderCancelInput.setRemarks(errorDesc);
+//
+//                    mastersService.sendMail(inboundOrderCancelInput);
+//                    //============================================================================================
+//
+////                    preOutboundHeaderService.createOutboundIntegrationLogV2(outbound);
+//                    stockAdjustmentList.remove(stockAdjustment);
+//                    warehouseApiResponse.setStatusCode("1400");
+//                    warehouseApiResponse.setMessage("Failure");
+//                }
+//            }
+//        }
+//        return warehouseApiResponse;
+//    }
 
     //-------------------------------------------------------------------Inbound-Failed-Order-------------------------------------------------------------
-    public synchronized WarehouseApiResponse processInboundFailedOrder() throws InterruptedException {
-        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
-        List<InboundOrderV2> sqlInboundList = inboundOrderV2Repository.findTopByProcessedStatusIdOrderByOrderReceivedOn(900L);
-        log.info("ib failedOrders list: " + sqlInboundList);
-        if (sqlInboundList != null && !sqlInboundList.isEmpty()) {
-            for (InboundOrderV2 dbIBOrder : sqlInboundList) {
-                log.info("DeadLock OrderId: " + dbIBOrder.getOrderId() + ", " + dbIBOrder.getInboundOrderTypeId());
-                Thread.sleep(10000);
-                inboundOrderV2Repository.updateProcessStatusId(dbIBOrder.getInboundOrderHeaderId());
-            }
-            warehouseApiResponse.setStatusCode("200");
-            warehouseApiResponse.setMessage("Success");
-        }
-        return warehouseApiResponse;
-    }
+//    public synchronized WarehouseApiResponse processInboundFailedOrder() throws InterruptedException {
+//        WarehouseApiResponse warehouseApiResponse = new WarehouseApiResponse();
+//        List<InboundOrderV2> sqlInboundList = inboundOrderV2Repository.findTopByProcessedStatusIdOrderByOrderReceivedOn(900L);
+//        log.info("ib failedOrders list: " + sqlInboundList);
+//        if (sqlInboundList != null && !sqlInboundList.isEmpty()) {
+//            for (InboundOrderV2 dbIBOrder : sqlInboundList) {
+//                log.info("DeadLock OrderId: " + dbIBOrder.getOrderId() + ", " + dbIBOrder.getInboundOrderTypeId());
+//                Thread.sleep(10000);
+//                inboundOrderV2Repository.updateProcessStatusId(dbIBOrder.getInboundOrderHeaderId());
+//            }
+//            warehouseApiResponse.setStatusCode("200");
+//            warehouseApiResponse.setMessage("Success");
+//        }
+//        return warehouseApiResponse;
+//    }
 
     //-------------------------------------------------------------------Outbound-Failed-Order-------------------------------------------------------------
     public synchronized WarehouseApiResponse processOutboundFailedOrder() throws InterruptedException {
Index: ../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.api.enterprise.transaction.service;\r\n\r\nimport com.google.firebase.messaging.FirebaseMessagingException;\r\nimport com.tekclover.wms.api.enterprise.controller.exception.BadRequestException;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.IKeyValuePair;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.pickup.AddPickupHeader;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.pickup.PickupHeader;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.pickup.SearchPickupHeader;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.pickup.UpdatePickupHeader;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.pickup.v2.*;\r\nimport com.tekclover.wms.api.enterprise.transaction.model.outbound.v2.OutboundLineV2;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.OutboundLineV2Repository;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.PickupHeaderRepository;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.PickupHeaderV2Repository;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.StagingLineV2Repository;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.specification.PickHeaderV2Specification;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.specification.PickupHeaderSpecification;\r\nimport com.tekclover.wms.api.enterprise.transaction.repository.specification.PickupHeaderV2Specification;\r\nimport com.tekclover.wms.api.enterprise.transaction.util.CommonUtils;\r\nimport com.tekclover.wms.api.enterprise.transaction.util.DateUtils;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.BeanUtils;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.expression.ParseException;\r\nimport org.springframework.stereotype.Service;\r\n\r\nimport javax.persistence.EntityNotFoundException;\r\nimport java.lang.reflect.InvocationTargetException;\r\nimport java.util.*;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.Stream;\r\n\r\n@Slf4j\r\n@Service\r\npublic class PickupHeaderService {\r\n    @Autowired\r\n    private OutboundLineV2Repository outboundLineV2Repository;\r\n\r\n    @Autowired\r\n    private PickupHeaderRepository pickupHeaderRepository;\r\n\r\n    //------------------------------------------------------------------------------------------------------\r\n\r\n    @Autowired\r\n    private StagingLineV2Repository stagingLineV2Repository;\r\n\r\n    @Autowired\r\n    private PickupHeaderV2Repository pickupHeaderV2Repository;\r\n\r\n    @Autowired\r\n    private OutboundLineService outboundLineService;\r\n\r\n    String statusDescription = null;\r\n\r\n    @Autowired\r\n    PushNotificationService pushNotificationService;\r\n    //------------------------------------------------------------------------------------------------------\r\n\r\n    /**\r\n     * getPickupHeaders\r\n     *\r\n     * @return\r\n     */\r\n    public List<PickupHeader> getPickupHeaders() {\r\n        List<PickupHeader> pickupHeaderList = pickupHeaderRepository.findAll();\r\n        pickupHeaderList = pickupHeaderList.stream().filter(n -> n.getDeletionIndicator() == 0).collect(Collectors.toList());\r\n        return pickupHeaderList;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public PickupHeader getPickupHeader(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                        String partnerCode, String pickupNumber, Long lineNumber, String itemCode) {\r\n        PickupHeader pickupHeader =\r\n                pickupHeaderRepository.findByWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null && pickupHeader.getDeletionIndicator() == 0) {\r\n            return pickupHeader;\r\n        }\r\n\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \",lineNumber : \" + lineNumber +\r\n                \",itemCode : \" + itemCode +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param statusId\r\n     * @return\r\n     */\r\n    public long getPickupHeaderCountForDeliveryConfirmation(String warehouseId, String refDocNumber, String preOutboundNo, Long statusId) {\r\n        long pickupHeaderCount = pickupHeaderRepository.getPickupHeaderByWarehouseIdAndRefDocNumberAndPreOutboundNoAndStatusIdInAndDeletionIndicator(\r\n                warehouseId, refDocNumber, preOutboundNo, statusId, 0L);\r\n        return pickupHeaderCount;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public List<PickupHeader> getPickupHeaderForReversal(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                         String partnerCode, String pickupNumber, Long lineNumber, String itemCode) {\r\n        List<PickupHeader> pickupHeader =\r\n                pickupHeaderRepository.findAllByWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null && pickupHeader.size() > 0) {\r\n            return pickupHeader;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * getPickupHeader\r\n     *\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @return\r\n     */\r\n    public PickupHeader getPickupHeader(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                        String partnerCode, String pickupNumber) {\r\n        PickupHeader pickupHeader =\r\n                pickupHeaderRepository.findByWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndDeletionIndicator(\r\n                        warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber, 0L);\r\n        if (pickupHeader != null && pickupHeader.getDeletionIndicator() == 0) {\r\n            return pickupHeader;\r\n        }\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public PickupHeader getPickupHeaderForUpdate(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                 String partnerCode, String pickupNumber, Long lineNumber, String itemCode) {\r\n        PickupHeader pickupHeader =\r\n                pickupHeaderRepository.findByWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null) {\r\n            return pickupHeader;\r\n        }\r\n\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \",lineNumber : \" + lineNumber +\r\n                \",itemCode : \" + itemCode +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public List<PickupHeader> getPickupHeaderForUpdateConfirmation(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                                   String partnerCode, String pickupNumber, Long lineNumber, String itemCode) {\r\n        List<PickupHeader> pickupHeader =\r\n                pickupHeaderRepository.findAllByWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null && !pickupHeader.isEmpty()) {\r\n            return pickupHeader;\r\n        }\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \",lineNumber : \" + lineNumber +\r\n                \",itemCode : \" + itemCode +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     * @param searchPickupHeader\r\n     * @return\r\n     * @throws ParseException\r\n     */\r\n    public List<PickupHeader> findPickupHeader(SearchPickupHeader searchPickupHeader)\r\n            throws ParseException {\r\n        PickupHeaderSpecification spec = new PickupHeaderSpecification(searchPickupHeader);\r\n        List<PickupHeader> results = pickupHeaderRepository.findAll(spec);\r\n        return results;\r\n    }\r\n\r\n    //Stream\r\n    public Stream<PickupHeader> findPickupHeaderNew(SearchPickupHeader searchPickupHeader)\r\n            throws ParseException {\r\n        PickupHeaderSpecification spec = new PickupHeaderSpecification(searchPickupHeader);\r\n        Stream<PickupHeader> results = pickupHeaderRepository.stream(spec, PickupHeader.class).parallel();\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param orderTypeId\r\n     * @return\r\n     */\r\n    public List<PickupHeader> getPickupHeaderCount(String companyCodeId, String plantId, String languageId,\r\n                                                   String warehouseId, List<Long> orderTypeId) {\r\n        List<PickupHeader> header =\r\n                pickupHeaderRepository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndStatusIdAndOutboundOrderTypeIdInAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, 48L, orderTypeId, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param orderTypeId\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderCount(String companyCodeId, String plantId, String languageId,\r\n                                                     String warehouseId,String levelId, List<Long> orderTypeId) {\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndStatusIdAndLevelIdAndOutboundOrderTypeIdInAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, 48L, levelId, orderTypeId, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     * createPickupHeader\r\n     *\r\n     * @param newPickupHeader\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeader createPickupHeader(AddPickupHeader newPickupHeader, String loginUserID)\r\n            throws IllegalAccessException, InvocationTargetException {\r\n        PickupHeader dbPickupHeader = new PickupHeader();\r\n        log.info(\"newPickupHeader : \" + newPickupHeader);\r\n        BeanUtils.copyProperties(newPickupHeader, dbPickupHeader);\r\n        dbPickupHeader.setDeletionIndicator(0L);\r\n        return pickupHeaderRepository.save(dbPickupHeader);\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @param loginUserID\r\n     * @param updatePickupHeader\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeader updatePickupHeader(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                           String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID,\r\n                                           UpdatePickupHeader updatePickupHeader) throws IllegalAccessException, InvocationTargetException {\r\n        PickupHeader dbPickupHeader = getPickupHeaderForUpdate(warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null) {\r\n            BeanUtils.copyProperties(updatePickupHeader, dbPickupHeader, CommonUtils.getNullPropertyNames(updatePickupHeader));\r\n            dbPickupHeader.setPickUpdatedBy(loginUserID);\r\n            dbPickupHeader.setPickUpdatedOn(new Date());\r\n            return pickupHeaderRepository.save(dbPickupHeader);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public List<PickupHeader> updatePickupHeaderForConfirmation(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                                String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID,\r\n                                                                UpdatePickupHeader updatePickupHeader) throws IllegalAccessException, InvocationTargetException {\r\n        List<PickupHeader> dbPickupHeader = getPickupHeaderForUpdateConfirmation(warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null && !dbPickupHeader.isEmpty()) {\r\n            List<PickupHeader> toSave = new ArrayList<>();\r\n            for (PickupHeader data : dbPickupHeader) {\r\n                BeanUtils.copyProperties(updatePickupHeader, data, CommonUtils.getNullPropertyNames(updatePickupHeader));\r\n                data.setPickUpdatedBy(loginUserID);\r\n                data.setPickUpdatedOn(new Date());\r\n                toSave.add(data);\r\n            }\r\n            return pickupHeaderRepository.saveAll(toSave);\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * updateAssignedPickerInPickupHeader\r\n     *\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public List<PickupHeader> patchAssignedPickerIdInPickupHeader(String loginUserID,\r\n                                                                  List<UpdatePickupHeader> updatePickupHeaderList) throws IllegalAccessException, InvocationTargetException {\r\n        List<PickupHeader> pickupHeaderList = new ArrayList<>();\r\n        try {\r\n            log.info(\"Process start to update Assigned Picker Id in PickupHeader: \" + updatePickupHeaderList);\r\n            for (UpdatePickupHeader data : updatePickupHeaderList) {\r\n                log.info(\"PickupHeader object to update : \" + data);\r\n                PickupHeader dbPickupHeader = getPickupHeaderForUpdate(data.getWarehouseId(), data.getPreOutboundNo(), data.getRefDocNumber(), data.getPartnerCode(),\r\n                        data.getPickupNumber(), data.getLineNumber(), data.getItemCode());\r\n                log.info(\"Old PickupHeader object from db : \" + data);\r\n                if (dbPickupHeader != null) {\r\n                    dbPickupHeader.setAssignedPickerId(data.getAssignedPickerId());\r\n                    dbPickupHeader.setPickUpdatedBy(loginUserID);\r\n                    dbPickupHeader.setPickUpdatedOn(new Date());\r\n                    PickupHeader pickupHeader = pickupHeaderRepository.save(dbPickupHeader);\r\n                    pickupHeaderList.add(pickupHeader);\r\n                } else {\r\n                    log.info(\"No record for PickupHeader object from db for data : \" + data);\r\n                    throw new BadRequestException(\"Error in data\");\r\n                }\r\n            }\r\n            return pickupHeaderList;\r\n        } catch (Exception e) {\r\n            log.error(\"Update Assigned Picker Id in PickupHeader failed for : \" + updatePickupHeaderList);\r\n            throw new BadRequestException(\"Error in data\");\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeader deletePickupHeader(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                           String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID)\r\n            throws IllegalAccessException, InvocationTargetException {\r\n        PickupHeader dbPickupHeader = getPickupHeader(warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null) {\r\n            dbPickupHeader.setDeletionIndicator(1L);\r\n            dbPickupHeader.setPickupReversedBy(loginUserID);\r\n            dbPickupHeader.setPickupReversedOn(new Date());\r\n            return pickupHeaderRepository.save(dbPickupHeader);\r\n        } else {\r\n            throw new EntityNotFoundException(\"Error in deleting PickupHeader : -> Id: \" + lineNumber);\r\n        }\r\n    }\r\n\r\n    public List<PickupHeader> deletePickupHeaderForReversal(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                            String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID)\r\n            throws IllegalAccessException, InvocationTargetException {\r\n        List<PickupHeader> dbPickupHeader = getPickupHeaderForReversal(warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null && dbPickupHeader.size() > 0) {\r\n            List<PickupHeader> toSaveData = new ArrayList<>();\r\n            dbPickupHeader.forEach(pickupHeader -> {\r\n                pickupHeader.setDeletionIndicator(1L);\r\n                pickupHeader.setPickupReversedBy(loginUserID);\r\n                pickupHeader.setPickupReversedOn(new Date());\r\n                toSaveData.add(pickupHeader);\r\n            });\r\n            return pickupHeaderRepository.saveAll(toSaveData);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @param proposedStorageBin\r\n     * @param proposedPackCode\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeader deletePickupHeader(String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                           String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String proposedStorageBin,\r\n                                           String proposedPackCode, String loginUserID) throws IllegalAccessException, InvocationTargetException {\r\n        PickupHeader dbPickupHeader = getPickupHeader(warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null) {\r\n            dbPickupHeader.setDeletionIndicator(1L);\r\n            dbPickupHeader.setPickupReversedBy(loginUserID);\r\n            dbPickupHeader.setPickupReversedOn(new Date());\r\n            return pickupHeaderRepository.save(dbPickupHeader);\r\n        } else {\r\n            throw new EntityNotFoundException(\"Error in deleting PickupHeader : -> Id: \" + lineNumber);\r\n        }\r\n    }\r\n\r\n    //===================================================================V2===============================================================\r\n\r\n    /**\r\n     * getPickupHeaders\r\n     *\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeadersV2() {\r\n        List<PickupHeaderV2> pickupHeaderList = pickupHeaderV2Repository.findAll();\r\n        pickupHeaderList = pickupHeaderList.stream().filter(n -> n.getDeletionIndicator() == 0).collect(Collectors.toList());\r\n        return pickupHeaderList;\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                            String preOutboundNo, String refDocNumber, String partnerCode,\r\n                                            String pickupNumber, Long lineNumber, String itemCode) {\r\n        PickupHeaderV2 pickupHeader =\r\n                pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null && pickupHeader.getDeletionIndicator() == 0) {\r\n            return pickupHeader;\r\n        }\r\n\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \",lineNumber : \" + lineNumber +\r\n                \",itemCode : \" + itemCode +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderForPickListCancellationV2(String companyCodeId, String plantId, String languageId, String warehouseId, String refDocNumber, String preOutboundNo) {\r\n        List<PickupHeaderV2> pickupHeader =\r\n                pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, 0L);\r\n        log.info(\"New Picklist ---> pickup header : \" + pickupHeader);\r\n        if (pickupHeader != null && !pickupHeader.isEmpty()) {\r\n            return pickupHeader;\r\n        }\r\n        log.info(\"No Pickup Header for New Picklist\");\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param statusId\r\n     * @return\r\n     */\r\n    public long getPickupHeaderCountForDeliveryConfirmationV2(String companyCodeId, String plantId, String languageId,\r\n                                                              String warehouseId, String refDocNumber, String preOutboundNo, Long statusId) {\r\n        long pickupHeaderCount = pickupHeaderV2Repository.getPickupHeaderByWarehouseIdAndRefDocNumberAndPreOutboundNoAndStatusIdInAndDeletionIndicatorV2(\r\n                companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, statusId, 0L);\r\n        return pickupHeaderCount;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderForReversalV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                                             String preOutboundNo, String refDocNumber, String partnerCode,\r\n                                                             String pickupNumber, Long lineNumber, String itemCode) {\r\n        List<PickupHeaderV2> pickupHeader =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null && pickupHeader.size() > 0) {\r\n            return pickupHeader;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * getPickupHeader\r\n     *\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                            String preOutboundNo, String refDocNumber, String partnerCode, String pickupNumber) {\r\n        PickupHeaderV2 pickupHeader =\r\n                pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber, 0L);\r\n        if (pickupHeader != null && pickupHeader.getDeletionIndicator() == 0) {\r\n            return pickupHeader;\r\n        }\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderForUpdateV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                     String partnerCode, String pickupNumber, Long lineNumber, String itemCode) {\r\n        PickupHeaderV2 pickupHeader =\r\n                pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null) {\r\n            return pickupHeader;\r\n        }\r\n\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \",lineNumber : \" + lineNumber +\r\n                \",itemCode : \" + itemCode +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @param manufacturerName\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderForUpdatePickerV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                                           String preOutboundNo, String refDocNumber, String partnerCode, String pickupNumber,\r\n                                                           Long lineNumber, String itemCode, String manufacturerName) {\r\n        PickupHeaderV2 pickupHeader =\r\n                pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndManufacturerNameAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, manufacturerName,0L);\r\n        if (pickupHeader != null) {\r\n            return pickupHeader;\r\n        }\r\n\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \",lineNumber : \" + lineNumber +\r\n                \",itemCode : \" + itemCode +\r\n                \",manufacturerName : \" + manufacturerName +\r\n                \",companyCodeId : \" + companyCodeId +\r\n                \",plantId : \" + plantId +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderForUpdateConfirmationV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                                       String partnerCode, String pickupNumber, Long lineNumber, String itemCode) {\r\n        List<PickupHeaderV2> pickupHeader =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndPreOutboundNoAndRefDocNumberAndPartnerCodeAndPickupNumberAndLineNumberAndItemCodeAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode, pickupNumber,\r\n                        lineNumber, itemCode, 0L);\r\n        if (pickupHeader != null && !pickupHeader.isEmpty()) {\r\n            return pickupHeader;\r\n        }\r\n        throw new BadRequestException(\"The given PickupHeader ID : \" +\r\n                \"warehouseId : \" + warehouseId +\r\n                \",preOutboundNo : \" + preOutboundNo +\r\n                \",refDocNumber : \" + refDocNumber +\r\n                \",partnerCode : \" + partnerCode +\r\n                \",pickupNumber : \" + pickupNumber +\r\n                \",lineNumber : \" + lineNumber +\r\n                \",itemCode : \" + itemCode +\r\n                \" doesn't exist.\");\r\n    }\r\n\r\n    //Stream - Find\r\n    public Stream<PickupHeaderV2> findPickupHeaderV2(SearchPickupHeaderV2 searchPickupHeader)\r\n            throws ParseException {\r\n        PickupHeaderV2Specification spec = new PickupHeaderV2Specification(searchPickupHeader);\r\n        Stream<PickupHeaderV2> results = pickupHeaderV2Repository.stream(spec, PickupHeaderV2.class);\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param searchPickupHeader\r\n     * @return\r\n     * @throws ParseException\r\n     */\r\n    public List<PickupHeaderV2> findPickupHeaderNewV2(SearchPickupHeaderV2 searchPickupHeader)\r\n            throws ParseException {\r\n        log.info(\"searchPickupHeader: \" + searchPickupHeader);\r\n        PickupHeaderV2Specification spec = new PickupHeaderV2Specification(searchPickupHeader);\r\n        List<PickupHeaderV2> results = pickupHeaderV2Repository.stream(spec, PickupHeaderV2.class).collect(Collectors.toList());\r\n        log.info(\"Pickupheader Results: \" + results.size());\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * @param warehouseId\r\n     * @param orderTypeId\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderCountV2(String companyCodeId, String plantId, String languageId, String warehouseId, List<Long> orderTypeId) {\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndStatusIdAndOutboundOrderTypeIdInAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, 48L, orderTypeId, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderAutomationV2(String companyCodeId, String plantId, String languageId, String warehouseId, String assignedPickerId) {\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdAndStatusIdAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, 48L, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderAutomationWithOutStatusIdV2(String companyCodeId, String plantId, String languageId,\r\n                                                                           String warehouseId, String assignedPickerId) {\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderAutomation(String companyCodeId, String plantId, String languageId, String warehouseId, String assignedPickerId, Long statusId) throws java.text.ParseException {\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdAndStatusIdAndPickupCreatedOnBetweenAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, statusId, dates[0], dates[1], 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderAutomateCurrentDate(String companyCodeId, String plantId, String languageId, String warehouseId, String assignedPickerId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdAndStatusIdAndPickupCreatedOnBetweenAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, 48L, dates[0], dates[1], 0L);\r\n        return header;\r\n    }\r\n\r\n    public PickupHeaderV2 getPickupHeaderAutomateCurrentDateNew(String companyCodeId, String plantId, String languageId, String warehouseId, String assignedPickerId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        PickupHeaderV2 header =\r\n                pickupHeaderV2Repository.findTopByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdAndStatusIdAndPickupCreatedOnBetweenAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, 48L, dates[0], dates[1], 0L);\r\n        return header;\r\n    }\r\n\r\n    public List<PickupHeaderV2> getPickupHeaderAutomateCurrentDateHhtList(String companyCodeId, String plantId, String languageId, String warehouseId, List<String> assignedPickerId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdInAndStatusIdAndPickupCreatedOnBetweenAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, 48L, dates[0], dates[1], 0L);\r\n        return header;\r\n    }\r\n\r\n    public PickupHeaderV2 getPickupHeaderAutomateCurrentDateHhtListNew(String companyCodeId, String plantId, String languageId, String warehouseId, List<String> assignedPickerId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        PickupHeaderV2 header =\r\n                pickupHeaderV2Repository.findTopByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdInAndStatusIdAndPickupCreatedOnBetweenAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, 48L, dates[0], dates[1], 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @param levelId\r\n     * @return\r\n     * @throws java.text.ParseException\r\n     */\r\n    public String getPickupHeaderAutomateCurrentDateHhtListCount(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                                                 List<String> assignedPickerId, Long levelId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        IKeyValuePair header =\r\n                pickupHeaderV2Repository.getAssignPickerNew(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, levelId, 48L, dates[0], dates[1]);\r\n        if(header != null) {\r\n            return header.getAssignPicker();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String getPickupHeaderAutomateCurrentDateHhtListCount(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                                                 List<String> assignedPickerId, Long levelId, Long statusId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        IKeyValuePair header =\r\n                pickupHeaderV2Repository.getAssignPickerNew(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, levelId, statusId, dates[0], dates[1]);\r\n        if(header != null) {\r\n            return header.getAssignPicker();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String getPickupHeaderAutomateCurrentDateHhtListCountNew(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                                                         List<String> assignedPickerId, Long outboundOrderTypeId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        IKeyValuePair header =\r\n                pickupHeaderV2Repository.getAssignPickerWh100New(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, 48L,outboundOrderTypeId, dates[0], dates[1]);\r\n        if(header != null) {\r\n            return header.getAssignPicker();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public String getPickupHeaderAutomateCurrentDateHhtListCountNew(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                                                    List<String> assignedPickerId, Long outboundOrderTypeId, Long statusId) throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        IKeyValuePair header =\r\n                pickupHeaderV2Repository.getAssignPickerWh100New(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, statusId,outboundOrderTypeId, dates[0], dates[1]);\r\n        if(header != null) {\r\n            return header.getAssignPicker();\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @param refDocNumber\r\n     * @return\r\n     * @throws java.text.ParseException\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderAutomateCurrentDateSameOrder(String companyCodeId, String plantId, String languageId,\r\n                                                                            String warehouseId, String assignedPickerId, String refDocNumber)\r\n            throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdAndRefDocNumberAndStatusIdAndPickupCreatedOnBetweenAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, refDocNumber, 48L, dates[0], dates[1], 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @param refDocNumber\r\n     * @return\r\n     * @throws java.text.ParseException\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderAutomateCurrentDateSameOrderNew(String companyCodeId, String plantId, String languageId,\r\n                                                                         String warehouseId, String assignedPickerId, String refDocNumber)\r\n            throws java.text.ParseException {\r\n\r\n        Date[] dates = DateUtils.addTimeToDatesForSearch(new Date(), new Date());\r\n\r\n        PickupHeaderV2 header =\r\n                pickupHeaderV2Repository.findTopByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdAndRefDocNumberAndStatusIdAndPickupCreatedOnBetweenAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId, refDocNumber, 48L, dates[0], dates[1], 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param manufacturerName\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderAutomation(String companyCodeId, String plantId, String languageId, String warehouseId, String itemCode, String manufacturerName) {\r\n        PickupHeaderV2 header =\r\n                pickupHeaderV2Repository.findTopByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndItemCodeAndManufacturerNameAndStatusIdAndDeletionIndicatorOrderByPickupCreatedOnDesc(\r\n                        companyCodeId, plantId, languageId, warehouseId, itemCode, manufacturerName, 48L, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param manufacturerName\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderAutomationByLevelId(String companyCodeId, String plantId, String languageId, String warehouseId, String itemCode, String manufacturerName, String levelId) {\r\n        PickupHeaderV2 header =\r\n                pickupHeaderV2Repository.findTopByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndItemCodeAndManufacturerNameAndStatusIdAndLevelIdAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, itemCode, manufacturerName, 48L, levelId, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param manufacturerName\r\n     * @param outboundOrderTypeId\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 getPickupHeaderAutomationByOutboundOrderTypeId(String companyCodeId, String plantId, String languageId, String warehouseId, String itemCode, String manufacturerName, Long outboundOrderTypeId) {\r\n        PickupHeaderV2 header =\r\n                pickupHeaderV2Repository.findTopByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndItemCodeAndManufacturerNameAndStatusIdAndOutboundOrderTypeIdAndDeletionIndicatorOrderByPickupCreatedOn(\r\n                        companyCodeId, plantId, languageId, warehouseId, itemCode, manufacturerName, 48L, outboundOrderTypeId, 0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param assignedPickerId\r\n     * @return\r\n     */\r\n    public List<PickupHeaderV2> getPickupHeaderAutomationWithoutStatusId(String companyCodeId, String plantId, String languageId, String warehouseId, List<String> assignedPickerId) {\r\n        List<PickupHeaderV2> header =\r\n                pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndAssignedPickerIdInAndDeletionIndicator(\r\n                        companyCodeId, plantId, languageId, warehouseId, assignedPickerId,  0L);\r\n        return header;\r\n    }\r\n\r\n    /**\r\n     * createPickupHeader\r\n     *\r\n     * @param newPickupHeader\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeaderV2 createPickupHeaderV2(PickupHeaderV2 newPickupHeader, String loginUserID)\r\n            throws IllegalAccessException, InvocationTargetException, java.text.ParseException, FirebaseMessagingException {\r\n        PickupHeaderV2 dbPickupHeader = new PickupHeaderV2();\r\n        log.info(\"newPickupHeader : \" + newPickupHeader);\r\n        BeanUtils.copyProperties(newPickupHeader, dbPickupHeader, CommonUtils.getNullPropertyNames(newPickupHeader));\r\n\r\n        IKeyValuePair description = stagingLineV2Repository.getDescription(dbPickupHeader.getCompanyCodeId(),\r\n                dbPickupHeader.getLanguageId(),\r\n                dbPickupHeader.getPlantId(),\r\n                dbPickupHeader.getWarehouseId());\r\n\r\n        if (dbPickupHeader.getStatusId() != null) {\r\n            statusDescription = stagingLineV2Repository.getStatusDescription(dbPickupHeader.getStatusId(), dbPickupHeader.getLanguageId());\r\n            dbPickupHeader.setStatusDescription(statusDescription);\r\n        }\r\n\r\n        dbPickupHeader.setCompanyDescription(description.getCompanyDesc());\r\n        dbPickupHeader.setPlantDescription(description.getPlantDesc());\r\n        dbPickupHeader.setWarehouseDescription(description.getWarehouseDesc());\r\n\r\n        OutboundLineV2 updateOutboundLine = new OutboundLineV2();\r\n        updateOutboundLine.setAssignedPickerId(dbPickupHeader.getAssignedPickerId());\r\n        updateOutboundLine.setManufacturerName(dbPickupHeader.getManufacturerName());\r\n        outboundLineService.updateOutboundLineV2(\r\n                            dbPickupHeader.getCompanyCodeId(),\r\n                            dbPickupHeader.getPlantId(),\r\n                            dbPickupHeader.getLanguageId(),\r\n                            dbPickupHeader.getWarehouseId(),\r\n                            dbPickupHeader.getPreOutboundNo(),\r\n                            dbPickupHeader.getRefDocNumber(),\r\n                            dbPickupHeader.getPartnerCode(),\r\n                            dbPickupHeader.getLineNumber(),\r\n                            dbPickupHeader.getItemCode(),\r\n                            loginUserID,\r\n                            updateOutboundLine);\r\n\r\n        dbPickupHeader.setDeletionIndicator(0L);\r\n        dbPickupHeader.setPickupCreatedBy(loginUserID);\r\n        dbPickupHeader.setPickupCreatedOn(new Date());\r\n//        dbPickupHeader.setPickUpdatedBy(loginUserID);\r\n//        dbPickupHeader.setPickUpdatedOn(new Date());\r\n        PickupHeaderV2 pickupHeaderV2 =  pickupHeaderV2Repository.save(dbPickupHeader);\r\n\r\n        // send Notification\r\n        if (pickupHeaderV2 != null) {\r\n            List<IKeyValuePair> notification =\r\n                    pickupHeaderV2Repository.findByStatusIdAndNotificationStatusAndDeletionIndicatorDistinctRefDocNo();\r\n\r\n            if (notification != null) {\r\n                for (IKeyValuePair pickup : notification) {\r\n\r\n                    List<String> deviceToken = pickupHeaderV2Repository.getDeviceToken(\r\n                            pickup.getAssignPicker(), pickup.getWarehouseId());\r\n\r\n                    if (deviceToken != null && !deviceToken.isEmpty()) {\r\n                        String title = \"PICKING\";\r\n                        String message = pickup.getRefDocType() + \" ORDER - \" + pickup.getRefDocNumber() + \" - IS RECEIVED \";\r\n                        String response = pushNotificationService.sendPushNotification(deviceToken, title, message);\r\n                        if (response.equals(\"OK\")) {\r\n                            pickupHeaderV2Repository.updateNotificationStatus(\r\n                                    pickup.getAssignPicker(), pickup.getRefDocNumber(), pickup.getWarehouseId());\r\n                            log.info(\"status update successfully\");\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n//        // Send Notification\r\n//        List<PickupHeaderV2> notification = pickupHeaderV2Repository.findByStatusIdAndNotificationStatusAndDeletionIndicator(48L, 0L, 0L);\r\n//        if(notification != null){\r\n//            for(PickupHeaderV2 picker : notification) {\r\n//\r\n//                List<String> deviceToken = pickupHeaderV2Repository.getDeviceToken(\r\n//                        picker.getAssignedPickerId(), picker.getWarehouseId());\r\n//\r\n//                if (deviceToken != null && !deviceToken.isEmpty()) {\r\n//                    String title = \"PICKUP\";\r\n//                    String message = \"PickUpOrder - \" + picker.getPickupNumber() + \" Assigned TO \" + picker.getAssignedPickerId();\r\n//                    String response = pushNotificationService.sendPushNotification(deviceToken, title, message);\r\n//                    if (response.equals(\"OK\")) {\r\n//                        pickupHeaderV2Repository.updateNotificationStatus(picker.getAssignedPickerId(), picker.getPickupNumber());\r\n//                        log.info(\"status update successfully\");\r\n//                    }\r\n//                }\r\n//            }\r\n//        }\r\n        return pickupHeaderV2;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param newPickupHeader\r\n     * @param loginUserID\r\n     * @return\r\n     */\r\n    public PickupHeaderV2 createOutboundOrderProcessingPickupHeaderV2(PickupHeaderV2 newPickupHeader, String loginUserID) throws Exception {\r\n        try {\r\n            PickupHeaderV2 dbPickupHeader = new PickupHeaderV2();\r\n            BeanUtils.copyProperties(newPickupHeader, dbPickupHeader, CommonUtils.getNullPropertyNames(newPickupHeader));\r\n\r\n            IKeyValuePair description = stagingLineV2Repository.getDescription(dbPickupHeader.getCompanyCodeId(),\r\n                    dbPickupHeader.getLanguageId(),\r\n                    dbPickupHeader.getPlantId(),\r\n                    dbPickupHeader.getWarehouseId());\r\n\r\n            if (dbPickupHeader.getStatusId() != null) {\r\n                statusDescription = stagingLineV2Repository.getStatusDescription(dbPickupHeader.getStatusId(), dbPickupHeader.getLanguageId());\r\n                dbPickupHeader.setStatusDescription(statusDescription);\r\n            }\r\n\r\n            dbPickupHeader.setCompanyDescription(description.getCompanyDesc());\r\n            dbPickupHeader.setPlantDescription(description.getPlantDesc());\r\n            dbPickupHeader.setWarehouseDescription(description.getWarehouseDesc());\r\n\r\n//            log.info(\"Update OutboundLine Status Process Stated-----------> \");\r\n//            updateOutboundLineStatus(dbPickupHeader, loginUserID);\r\n//            log.info(\"Update OutboundLine Status Process Completed-----------> \");\r\n//            statusDescription = stagingLineV2Repository.getStatusDescription(48L, dbPickupHeader.getLanguageId());\r\n//            outboundLineV2Repository.updateOutboundLineV2(dbPickupHeader.getCompanyCodeId(),\r\n//                    dbPickupHeader.getPlantId(),\r\n//                    dbPickupHeader.getLanguageId(),\r\n//                    dbPickupHeader.getWarehouseId(),\r\n//                    dbPickupHeader.getPreOutboundNo(),\r\n//                    dbPickupHeader.getRefDocNumber(),\r\n//                    dbPickupHeader.getPartnerCode(),\r\n//                    dbPickupHeader.getLineNumber(),\r\n//                    dbPickupHeader.getItemCode(),\r\n//                    48L,\r\n//                    statusDescription,\r\n//                    dbPickupHeader.getAssignedPickerId(),\r\n//                    dbPickupHeader.getManufacturerName(),\r\n//                    loginUserID,\r\n//                    new Date());\r\n\r\n            dbPickupHeader.setDeletionIndicator(0L);\r\n            dbPickupHeader.setPickupCreatedBy(loginUserID);\r\n            dbPickupHeader.setPickupCreatedOn(new Date());\r\n//            PickupHeaderV2 pickupHeaderV2 =  pickupHeaderV2Repository.save(dbPickupHeader);\r\n\r\n            return dbPickupHeader;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            throw e;\r\n        }\r\n    }\r\n\r\n    // UpdateOutboundProcess\r\n    void updateOutboundLineStatus(PickupHeaderV2 dbPickupHeader, String loginUserID) {\r\n        try {\r\n            statusDescription = stagingLineV2Repository.getStatusDescription(48L, dbPickupHeader.getLanguageId());\r\n            outboundLineV2Repository.updateOutboundLineV2(dbPickupHeader.getCompanyCodeId(),\r\n                    dbPickupHeader.getPlantId(),\r\n                    dbPickupHeader.getLanguageId(),\r\n                    dbPickupHeader.getWarehouseId(),\r\n                    dbPickupHeader.getPreOutboundNo(),\r\n                    dbPickupHeader.getRefDocNumber(),\r\n                    dbPickupHeader.getPartnerCode(),\r\n                    dbPickupHeader.getLineNumber(),\r\n                    dbPickupHeader.getItemCode(),\r\n                    48L,\r\n                    statusDescription,\r\n                    dbPickupHeader.getAssignedPickerId(),\r\n                    dbPickupHeader.getManufacturerName(),\r\n                    loginUserID,\r\n                    new Date());\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            log.info(\"OutboundLine Status Update Failed Exception Throw ---------> \" + e.getMessage());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @param loginUserID\r\n     * @param updatePickupHeader\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeaderV2 updatePickupHeaderV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                               String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID,\r\n                                               PickupHeaderV2 updatePickupHeader) throws IllegalAccessException, InvocationTargetException, java.text.ParseException, FirebaseMessagingException {\r\n        PickupHeaderV2 dbPickupHeader = getPickupHeaderForUpdateV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null) {\r\n            BeanUtils.copyProperties(updatePickupHeader, dbPickupHeader, CommonUtils.getNullPropertyNames(updatePickupHeader));\r\n\r\n            OutboundLineV2 updateOutboundLine = new OutboundLineV2();\r\n            updateOutboundLine.setAssignedPickerId(dbPickupHeader.getAssignedPickerId());\r\n            updateOutboundLine.setManufacturerName(dbPickupHeader.getManufacturerName());\r\n            outboundLineService.updateOutboundLineV2(\r\n                                dbPickupHeader.getCompanyCodeId(),\r\n                                dbPickupHeader.getPlantId(),\r\n                                dbPickupHeader.getLanguageId(),\r\n                                dbPickupHeader.getWarehouseId(),\r\n                                dbPickupHeader.getPreOutboundNo(),\r\n                                dbPickupHeader.getRefDocNumber(),\r\n                                dbPickupHeader.getPartnerCode(),\r\n                                dbPickupHeader.getLineNumber(),\r\n                                dbPickupHeader.getItemCode(),\r\n                                loginUserID,\r\n                                updateOutboundLine);\r\n\r\n            dbPickupHeader.setPickUpdatedBy(loginUserID);\r\n            dbPickupHeader.setPickUpdatedOn(new Date());\r\n            PickupHeaderV2 pickup = pickupHeaderV2Repository.save(dbPickupHeader);\r\n\r\n            // send Notification\r\n           if(pickup != null) {\r\n               sendNotificationForUpdate(pickup.getRefDocNumber(),\r\n                       pickup.getAssignedPickerId(), pickup.getWarehouseId(), pickup.getReferenceDocumentType());\r\n           }\r\n            return pickup;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param itemCode\r\n     * @param manufacturerName\r\n     * @param barcodeId\r\n     * @param loginUserID\r\n     */\r\n    public void updatePickupHeaderForBarcodeV2(String companyCodeId, String plantId, String languageId, String warehouseId,\r\n                                               String itemCode, String manufacturerName, String barcodeId, String loginUserID) {\r\n        List<PickupHeaderV2> dbPickupHeaderList = pickupHeaderV2Repository.findAllByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndItemCodeAndManufacturerNameAndStatusIdAndDeletionIndicator(\r\n                companyCodeId, plantId, languageId, warehouseId, itemCode, manufacturerName, 48L, 0L);\r\n        log.info(\"PickupHeader status_48: \" + dbPickupHeaderList);\r\n        if (dbPickupHeaderList != null && !dbPickupHeaderList.isEmpty()) {\r\n            for (PickupHeaderV2 dbPickupHeader : dbPickupHeaderList) {\r\n                dbPickupHeader.setBarcodeId(barcodeId);\r\n                dbPickupHeader.setPickUpdatedBy(loginUserID);\r\n                dbPickupHeader.setPickUpdatedOn(new Date());\r\n                pickupHeaderV2Repository.save(dbPickupHeader);\r\n            }\r\n        }\r\n    }\r\n\r\n    public List<PickupHeaderV2> updatePickupHeaderForConfirmationV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                                    String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID,\r\n                                                                    PickupHeaderV2 updatePickupHeader) throws IllegalAccessException, InvocationTargetException {\r\n        List<PickupHeaderV2> dbPickupHeader = getPickupHeaderForUpdateConfirmationV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null && !dbPickupHeader.isEmpty()) {\r\n            List<PickupHeaderV2> toSave = new ArrayList<>();\r\n            for (PickupHeaderV2 data : dbPickupHeader) {\r\n                BeanUtils.copyProperties(updatePickupHeader, data, CommonUtils.getNullPropertyNames(updatePickupHeader));\r\n                data.setPickUpdatedBy(loginUserID);\r\n                data.setPickUpdatedOn(new Date());\r\n                toSave.add(data);\r\n            }\r\n            return pickupHeaderV2Repository.saveAll(toSave);\r\n        }\r\n        return null;\r\n    }\r\n\t\r\n\t//API changed without parameters - only request body is required to update picker\r\n    //11-03-2024 Ticket No. ALM/2024/002\r\n    \r\n    /**\r\n     *\r\n     * @param updatePickupHeaderList\r\n     * @return\r\n     */\r\n//    public List<PickupHeaderV2> patchAssignedPickerIdInPickupHeaderV2(String companyCodeId, String plantId, String languageId, String warehouseId, String loginUserID,\r\n//                                                                      List<PickupHeaderV2> updatePickupHeaderList) throws IllegalAccessException, InvocationTargetException {\r\n//        List<PickupHeaderV2> pickupHeaderList = new ArrayList<>();\r\n//        try {\r\n//            log.info(\"Process start to update Assigned Picker Id in PickupHeader: \" + updatePickupHeaderList);\r\n//            for (PickupHeaderV2 data : updatePickupHeaderList) {\r\n//                log.info(\"PickupHeader object to update : \" + data);\r\n//                PickupHeaderV2 dbPickupHeader = getPickupHeaderForUpdateV2(\r\n//                        companyCodeId, plantId, languageId,\r\n//                        warehouseId, data.getPreOutboundNo(), data.getRefDocNumber(), data.getPartnerCode(),\r\n//                        data.getPickupNumber(), data.getLineNumber(), data.getItemCode());\r\n//                log.info(\"Old PickupHeader object from db : \" + data);\r\n//                if (dbPickupHeader != null) {\r\n//                    dbPickupHeader.setAssignedPickerId(data.getAssignedPickerId());\r\n//                    dbPickupHeader.setPickUpdatedBy(loginUserID);\r\n//                    dbPickupHeader.setPickUpdatedOn(new Date());\r\n//                    PickupHeaderV2 pickupHeader = pickupHeaderV2Repository.save(dbPickupHeader);\r\n//                    pickupHeaderList.add(pickupHeader);\r\n//                } else {\r\n//                    log.info(\"No record for PickupHeader object from db for data : \" + data);\r\n//                    throw new BadRequestException(\"Error in data\");\r\n//                }\r\n//            }\r\n//            return pickupHeaderList;\r\n//        } catch (Exception e) {\r\n//            log.error(\"Update Assigned Picker Id in PickupHeader failed for : \" + updatePickupHeaderList);\r\n//            throw new BadRequestException(\"Error in data\");\r\n//        }\r\n//    }\r\n\r\n    public List<PickupHeaderV2> patchAssignedPickerIdInPickupHeaderV2(List<PickupHeaderV2> updatePickupHeaderList) {\r\n        List<PickupHeaderV2> pickupHeaderList = new ArrayList<>();\r\n        try {\r\n            log.info(\"Process start to update Assigned Picker Id in PickupHeader: \" + updatePickupHeaderList);\r\n            for (PickupHeaderV2 data : updatePickupHeaderList) {\r\n                log.info(\"PickupHeader object to update : \" + data);\r\n                PickupHeaderV2 dbPickupHeader = getPickupHeaderForUpdatePickerV2(\r\n                        data.getCompanyCodeId(), data.getPlantId(), data.getLanguageId(),\r\n                        data.getWarehouseId(), data.getPreOutboundNo(), data.getRefDocNumber(), data.getPartnerCode(),\r\n                        data.getPickupNumber(), data.getLineNumber(), data.getItemCode(), data.getManufacturerName());\r\n                log.info(\"Old PickupHeader object from db : \" + data);\r\n                if (dbPickupHeader != null) {\r\n                    dbPickupHeader.setAssignedPickerId(data.getAssignedPickerId());\r\n                    dbPickupHeader.setPickUpdatedBy(data.getPickupCreatedBy());\r\n                    dbPickupHeader.setPickUpdatedOn(new Date());\r\n                    PickupHeaderV2 pickupHeader = pickupHeaderV2Repository.save(dbPickupHeader);\r\n\r\n                    //Send Notification\r\n                    sendNotificationForUpdate(data.getRefDocNumber(),data.getAssignedPickerId(), data.getWarehouseId(), data.getReferenceDocumentType());\r\n                    pickupHeaderList.add(pickupHeader);\r\n                } else {\r\n                    log.info(\"No record for PickupHeader object from db for data : \" + data);\r\n                    throw new BadRequestException(\"Error in pickupheader data\");\r\n                }\r\n            }\r\n            return pickupHeaderList;\r\n        } catch (Exception e) {\r\n            log.error(\"Update Assigned Picker Id in PickupHeader failed for : \" + updatePickupHeaderList);\r\n            throw new BadRequestException(\"Error in data\");\r\n        }\r\n    }\r\n\r\n    // SendNotification\r\n    public void sendNotificationForUpdate(String refDocNo, String assignPickerId, String warehouseId, String refDocType)\r\n            throws FirebaseMessagingException {\r\n\r\n        //withoutInput\r\n        List<IKeyValuePair> notification =\r\n                pickupHeaderV2Repository.findByStatusIdAndNotificationStatusAndDeletionIndicatorDistinctRefDocNo();\r\n\r\n        // withInput get token\r\n        List<String> deviceToken = pickupHeaderV2Repository.getDeviceToken(refDocNo, warehouseId);\r\n\r\n        if (deviceToken != null && !deviceToken.isEmpty()) {\r\n            String title = \"PICKING\";\r\n            String message = refDocType + \" ORDER - \" + refDocNo + \" - IS RECEIVED \";\r\n            String response = pushNotificationService.sendPushNotification(deviceToken, title, message);\r\n            if (response.equals(\"OK\")) {\r\n                pickupHeaderV2Repository.updateNotificationStatus(assignPickerId, refDocNo, warehouseId );\r\n                log.info(\"status update successfully\");\r\n            }\r\n        }\r\n        if (notification != null) {\r\n            for (IKeyValuePair pickupHeaderV2 : notification) {\r\n\r\n                List<String> token = pickupHeaderV2Repository.getDeviceToken(\r\n                        pickupHeaderV2.getAssignPicker(), pickupHeaderV2.getWarehouseId());\r\n\r\n                if (token != null && !token.isEmpty()) {\r\n                    String title = \"PICKING\";\r\n                    String message = pickupHeaderV2.getRefDocType() + \" ORDER - \" + pickupHeaderV2.getRefDocNumber() + \" - IS RECEIVED \";\r\n                    String response = pushNotificationService.sendPushNotification(token, title, message);\r\n                    if (response.equals(\"OK\")) {\r\n                        pickupHeaderV2Repository.updateNotificationStatus(\r\n                                pickupHeaderV2.getAssignPicker(), pickupHeaderV2.getRefDocNumber(), pickupHeaderV2.getWarehouseId());\r\n                        log.info(\"status update successfully\");\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    /**\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeaderV2 deletePickupHeaderV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                               String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID)\r\n            throws IllegalAccessException, InvocationTargetException {\r\n        PickupHeaderV2 dbPickupHeader = getPickupHeaderV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null) {\r\n            dbPickupHeader.setDeletionIndicator(1L);\r\n            dbPickupHeader.setPickupReversedBy(loginUserID);\r\n            dbPickupHeader.setPickupReversedOn(new Date());\r\n            return pickupHeaderV2Repository.save(dbPickupHeader);\r\n        } else {\r\n            throw new EntityNotFoundException(\"Error in deleting PickupHeader : -> Id: \" + lineNumber);\r\n        }\r\n    }\r\n\r\n    public List<PickupHeaderV2> deletePickupHeaderForReversalV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                                                String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String loginUserID)\r\n            throws IllegalAccessException, InvocationTargetException {\r\n        List<PickupHeaderV2> dbPickupHeader = getPickupHeaderForReversalV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null && dbPickupHeader.size() > 0) {\r\n            List<PickupHeaderV2> toSaveData = new ArrayList<>();\r\n            dbPickupHeader.forEach(pickupHeader -> {\r\n                pickupHeader.setDeletionIndicator(1L);\r\n                pickupHeader.setPickupReversedBy(loginUserID);\r\n                pickupHeader.setPickupReversedOn(new Date());\r\n                toSaveData.add(pickupHeader);\r\n            });\r\n            return pickupHeaderV2Repository.saveAll(toSaveData);\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param preOutboundNo\r\n     * @param refDocNumber\r\n     * @param partnerCode\r\n     * @param pickupNumber\r\n     * @param lineNumber\r\n     * @param itemCode\r\n     * @param proposedStorageBin\r\n     * @param proposedPackCode\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws IllegalAccessException\r\n     * @throws InvocationTargetException\r\n     */\r\n    public PickupHeaderV2 deletePickupHeaderV2(String companyCodeId, String plantId, String languageId, String warehouseId, String preOutboundNo, String refDocNumber,\r\n                                               String partnerCode, String pickupNumber, Long lineNumber, String itemCode, String proposedStorageBin,\r\n                                               String proposedPackCode, String loginUserID) throws IllegalAccessException, InvocationTargetException {\r\n        PickupHeaderV2 dbPickupHeader = getPickupHeaderV2(companyCodeId, plantId, languageId, warehouseId, preOutboundNo, refDocNumber, partnerCode,\r\n                pickupNumber, lineNumber, itemCode);\r\n        if (dbPickupHeader != null) {\r\n            dbPickupHeader.setDeletionIndicator(1L);\r\n            dbPickupHeader.setPickupReversedBy(loginUserID);\r\n            dbPickupHeader.setPickupReversedOn(new Date());\r\n            return pickupHeaderV2Repository.save(dbPickupHeader);\r\n        } else {\r\n            throw new EntityNotFoundException(\"Error in deleting PickupHeader : -> Id: \" + lineNumber);\r\n        }\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param findPickUpHeader\r\n     * @return\r\n     * @throws ParseException\r\n     * @throws java.text.ParseException\r\n     */\r\n    public PickUpHeaderReport findPickUpHeaderWithStatusId(FindPickUpHeader findPickUpHeader) throws ParseException, java.text.ParseException {\r\n\r\n        if (findPickUpHeader.getFromDate() != null && findPickUpHeader.getToDate() != null) {\r\n            Date[] dates = DateUtils.addTimeToDatesForSearch(findPickUpHeader.getFromDate(), findPickUpHeader.getToDate());\r\n            findPickUpHeader.setFromDate(dates[0]);\r\n            findPickUpHeader.setToDate(dates[1]);\r\n        }\r\n\r\n        PickHeaderV2Specification spec = new PickHeaderV2Specification(findPickUpHeader);\r\n        List<PickupHeaderV2> results = pickupHeaderV2Repository.findAll(spec);\r\n\r\n        Map<String, PickerReport> pickerReportMap = new HashMap<>();\r\n\r\n        for (PickupHeaderV2 pickUpHeader : results) {\r\n            if (pickUpHeader.getStatusId() == 48) {\r\n                String assignedPickerId = pickUpHeader.getAssignedPickerId();\r\n\r\n                PickerReport pickerReport = pickerReportMap.computeIfAbsent(assignedPickerId, k -> {\r\n                    PickerReport newPickerReport = new PickerReport();\r\n                    newPickerReport.setAssignedPickerId(assignedPickerId);\r\n                    newPickerReport.setPickUpHeaderCount(0L);\r\n                    newPickerReport.setLevelId(pickUpHeader.getLevelId());\r\n                    newPickerReport.setPickupHeaderV2(new ArrayList<>());\r\n                    return newPickerReport;\r\n                });\r\n                pickerReport.setPickUpHeaderCount(pickerReport.getPickUpHeaderCount() + 1);\r\n\r\n\r\n                PickUpHeaderCount pickUpHeaderCount = new PickUpHeaderCount();\r\n                BeanUtils.copyProperties(pickUpHeader, pickUpHeaderCount);\r\n                pickerReport.getPickupHeaderV2().add(pickUpHeaderCount);\r\n            }\r\n        }\r\n\r\n        List<PickerReport> pickerReportList = new ArrayList<>(pickerReportMap.values());\r\n        PickUpHeaderReport pickUpHeaderReport = new PickUpHeaderReport();\r\n        pickUpHeaderReport.setPickerReportList(pickerReportList);\r\n\r\n        return pickUpHeaderReport;\r\n    }\r\n\r\n    /**\r\n     *\r\n     * @param companyCodeId\r\n     * @param plantId\r\n     * @param languageId\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param loginUserID\r\n     * @return\r\n     * @throws Exception\r\n     */\r\n    //Delete PickUpHeaderV2\r\n    public List<PickupHeaderV2> deletePickUpHeaderV2(String companyCodeId, String plantId, String languageId,\r\n                                                     String warehouseId, String refDocNumber, String preOutboundNo, String loginUserID)throws Exception {\r\n\r\n        List<PickupHeaderV2> pickupHeaderList = pickupHeaderV2Repository.findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n                companyCodeId, plantId, languageId, warehouseId, refDocNumber, preOutboundNo, 0L);\r\n        log.info(\"PickList Cancellation - PickupHeader : \" + pickupHeaderList);\r\n        List<PickupHeaderV2> pickupHeaders = new ArrayList<>();\r\n        if (pickupHeaderList != null && !pickupHeaderList.isEmpty()) {\r\n            for(PickupHeaderV2 pickupHeaderV2 : pickupHeaderList){\r\n            pickupHeaderV2.setDeletionIndicator(1L);\r\n            pickupHeaderV2.setPickupReversedBy(loginUserID);\r\n            pickupHeaderV2.setPickupReversedOn(new Date());\r\n            pickupHeaderV2Repository.save(pickupHeaderV2);\r\n            pickupHeaders.add(pickupHeaderV2);\r\n            }\r\n        }\r\n        return pickupHeaders;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java b/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java
--- a/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java	(date 1767265025637)
@@ -1098,6 +1098,7 @@
     public PickupHeaderV2 createOutboundOrderProcessingPickupHeaderV2(PickupHeaderV2 newPickupHeader, String loginUserID) throws Exception {
         try {
             PickupHeaderV2 dbPickupHeader = new PickupHeaderV2();
+            log.info("newPickupHeader : " + newPickupHeader);
             BeanUtils.copyProperties(newPickupHeader, dbPickupHeader, CommonUtils.getNullPropertyNames(newPickupHeader));
 
             IKeyValuePair description = stagingLineV2Repository.getDescription(dbPickupHeader.getCompanyCodeId(),
Index: ../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"11\" project-jdk-type=\"JavaSDK\" />\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml b/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml
--- a/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml	(date 1767265025665)
@@ -1,4 +1,3 @@
-<?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ExternalStorageConfigurationManager" enabled="true" />
   <component name="ProjectRootManager" version="2" languageLevel="JDK_11" project-jdk-name="11" project-jdk-type="JavaSDK" />
Index: ../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"VcsDirectoryMappings\">\r\n    <mapping directory=\"$PROJECT_DIR$/../../..\" vcs=\"Git\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml b/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml
--- a/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml	(date 1767265025692)
@@ -1,6 +1,7 @@
 <?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="VcsDirectoryMappings">
+    <mapping directory="$PROJECT_DIR$/../../../.." vcs="Git" />
     <mapping directory="$PROJECT_DIR$/../../.." vcs="Git" />
   </component>
 </project>
\ No newline at end of file
Index: ../../../../Tamween/Java/InboundOrderService/.idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"ms-11\" project-jdk-type=\"JavaSDK\" />\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml b/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml
--- a/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml	(date 1767265025716)
@@ -1,4 +1,3 @@
-<?xml version="1.0" encoding="UTF-8"?>
 <project version="4">
   <component name="ExternalStorageConfigurationManager" enabled="true" />
   <component name="ProjectRootManager" version="2" languageLevel="JDK_11" default="true" project-jdk-name="ms-11" project-jdk-type="JavaSDK" />
Index: ../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"f775bbd4-20de-4090-80bf-8d0839f9f7b3\" name=\"Changes\" comment=\"gr release issue\">\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../Dev/WrapperService/src/main/java/com/tekclover/wms/core/service/OutboundTransactionService.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../Dev/WrapperService/src/main/java/com/tekclover/wms/core/service/OutboundTransactionService.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../IDMasterService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../IDMasterService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ExternalProjectsData\">\r\n    <projectState path=\"$PROJECT_DIR$\">\r\n      <ProjectState />\r\n    </projectState>\r\n  </component>\r\n  <component name=\"ExternalProjectsManager\">\r\n    <system id=\"GRADLE\">\r\n      <state>\r\n        <task path=\"$PROJECT_DIR$\">\r\n          <activation />\r\n        </task>\r\n        <projects_view>\r\n          <tree_state>\r\n            <expand />\r\n            <select />\r\n          </tree_state>\r\n        </projects_view>\r\n      </state>\r\n    </system>\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$/../../..\" />\r\n  </component>\r\n  <component name=\"GitHubPullRequestSearchHistory\">{\r\n  &quot;lastFilter&quot;: {\r\n    &quot;state&quot;: &quot;OPEN&quot;,\r\n    &quot;assignee&quot;: &quot;AakashVinayak&quot;\r\n  }\r\n}</component>\r\n  <component name=\"GithubPullRequestsUISettings\">{\r\n  &quot;selectedUrlAndAccountId&quot;: {\r\n    &quot;url&quot;: &quot;https://github.com/tekclover/active-projects.git&quot;,\r\n    &quot;accountId&quot;: &quot;fadf06fd-47b2-43a6-a595-f6ccdffeffc0&quot;\r\n  }\r\n}</component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 2\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2ttAoD3z1Dm3B8oJH77whcHxATZ\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"Gradle.InboundOrderService [:com.tekclover.wms.api.inbound.orders.TransactionServiceApplication.main()].executor\": \"Debug\",\r\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"RunOnceActivity.git.unshallow\": \"true\",\r\n    \"SHARE_PROJECT_CONFIGURATION_FILES\": \"true\",\r\n    \"git-widget-placeholder\": \"main\",\r\n    \"kotlin-language-version-configured\": \"true\",\r\n    \"last_opened_file_path\": \"D:/GIT/active-projects/MultiTenent/Java/OutboundOrderService\",\r\n    \"project.structure.last.edited\": \"Project\",\r\n    \"project.structure.proportion\": \"0.15\",\r\n    \"project.structure.side.proportion\": \"0.0\",\r\n    \"settings.editor.selected.configurable\": \"reference.settingsdialog.project.gradle\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\Ramya K\\TEK CLOVER\\Code\\MT-Inbound Order service\\InboundOrderService\\src\\main\\java\\com\\tekclover\\wms\\api\\inbound\\orders\\model\" />\r\n      <recent name=\"C:\\Users\\Ramya K\\TEK CLOVER\\Code\\MT-Inbound Order service\\InboundOrderService\\src\\main\\java\\com\\tekclover\\wms\\api\\inbound\\orders\\config\" />\r\n      <recent name=\"D:\\GIT\\root\\MultiTenant\\Dev\\InboundOrderService\\src\\main\\java\\com\\tekclover\\wms\\api\\transaction\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"com.tekclover.wms.api.inbound.orders.repository\" />\r\n      <recent name=\"com.tekclover.wms.api.transaction.service\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"MTibOrderService\" type=\"Application\" factoryName=\"Application\">\r\n      <option name=\"ALTERNATIVE_JRE_PATH\" value=\"corretto-17\" />\r\n      <option name=\"ALTERNATIVE_JRE_PATH_ENABLED\" value=\"true\" />\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"com.tekclover.wms.api.inbound.orders.TransactionServiceApplication\" />\r\n      <module name=\"InboundOrderService.main\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"f775bbd4-20de-4090-80bf-8d0839f9f7b3\" name=\"Changes\" comment=\"\" />\r\n      <created>1741161170070</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1741161170070</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Connector to WMS change\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1742369939361</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1742369939361</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Connector issue\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1742891919383</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1742891919383</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"gr release issue\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1742901481452</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1742901481452</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"stock_receipt\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1747478862346</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1747478862346</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"stock_recepit\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1747480777240</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1747480777240</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"supplie_invoice\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1752048083103</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1752048083103</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"fg_order_inbound\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1753768502019</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1753768502019</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"8\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"Connector to WMS change\" />\r\n    <MESSAGE value=\"Connector issue\" />\r\n    <MESSAGE value=\"stock_receipt\" />\r\n    <MESSAGE value=\"stock_recepit\" />\r\n    <MESSAGE value=\"supplie_invoice\" />\r\n    <MESSAGE value=\"fg_order_inbound\" />\r\n    <MESSAGE value=\"gr release issue\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"gr release issue\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/SupplierInvoiceService.java</url>\r\n          <line>151</line>\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/SupplierInvoiceService.java</url>\r\n          <line>201</line>\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/SupplierInvoiceService.java</url>\r\n          <line>614</line>\r\n          <option name=\"timeStamp\" value=\"3\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/StockReceiptService.java</url>\r\n          <line>98</line>\r\n          <option name=\"timeStamp\" value=\"4\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/controller/InboundOrderController.java</url>\r\n          <line>103</line>\r\n          <option name=\"timeStamp\" value=\"6\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/controller/InboundOrderController.java</url>\r\n          <line>97</line>\r\n          <option name=\"timeStamp\" value=\"7\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/controller/InboundOrderController.java</url>\r\n          <line>98</line>\r\n          <option name=\"timeStamp\" value=\"8\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml b/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml
--- a/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml	(date 1767265025743)
@@ -5,12 +5,12 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="f775bbd4-20de-4090-80bf-8d0839f9f7b3" name="Changes" comment="gr release issue">
+      <change beforePath="$PROJECT_DIR$/../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../Dev/WrapperService/src/main/java/com/tekclover/wms/core/service/OutboundTransactionService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../Dev/WrapperService/src/main/java/com/tekclover/wms/core/service/OutboundTransactionService.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../IDMasterService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../IDMasterService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
@@ -84,7 +84,7 @@
     "SHARE_PROJECT_CONFIGURATION_FILES": "true",
     "git-widget-placeholder": "main",
     "kotlin-language-version-configured": "true",
-    "last_opened_file_path": "D:/GIT/active-projects/MultiTenent/Java/OutboundOrderService",
+    "last_opened_file_path": "D:/GIT/active-projects/MultiTenent/Java/InboundOrderService",
     "project.structure.last.edited": "Project",
     "project.structure.proportion": "0.15",
     "project.structure.side.proportion": "0.0",
@@ -178,7 +178,23 @@
       <option name="project" value="LOCAL" />
       <updated>1753768502019</updated>
     </task>
-    <option name="localTasksCounter" value="8" />
+    <task id="LOCAL-00008" summary="inbound_order">
+      <option name="closed" value="true" />
+      <created>1766464197637</created>
+      <option name="number" value="00008" />
+      <option name="presentableId" value="LOCAL-00008" />
+      <option name="project" value="LOCAL" />
+      <updated>1766464197637</updated>
+    </task>
+    <task id="LOCAL-00009" summary="gr release issue">
+      <option name="closed" value="true" />
+      <created>1766466202845</created>
+      <option name="number" value="00009" />
+      <option name="presentableId" value="LOCAL-00009" />
+      <option name="project" value="LOCAL" />
+      <updated>1766466202845</updated>
+    </task>
+    <option name="localTasksCounter" value="10" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
@@ -188,6 +204,7 @@
     <MESSAGE value="stock_recepit" />
     <MESSAGE value="supplie_invoice" />
     <MESSAGE value="fg_order_inbound" />
+    <MESSAGE value="inbound_order" />
     <MESSAGE value="gr release issue" />
     <option name="LAST_COMMIT_MESSAGE" value="gr release issue" />
   </component>
Index: ../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.tekclover.wms.api.transaction.repository;\r\n\r\nimport java.util.Date;\r\nimport java.util.List;\r\nimport java.util.Optional;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.data.jpa.repository.JpaSpecificationExecutor;\r\nimport org.springframework.data.jpa.repository.Modifying;\r\nimport org.springframework.data.jpa.repository.Query;\r\nimport org.springframework.data.repository.query.Param;\r\nimport org.springframework.stereotype.Repository;\r\nimport org.springframework.transaction.annotation.Transactional;\r\n\r\nimport com.tekclover.wms.api.transaction.model.dto.HHTUser;\r\nimport com.tekclover.wms.api.transaction.model.outbound.preoutbound.v2.PreOutboundHeaderV2;\r\nimport com.tekclover.wms.api.transaction.repository.fragments.StreamableJpaSpecificationRepository;\r\n\r\n@Repository\r\n@Transactional\r\npublic interface PreOutboundHeaderV2Repository extends JpaRepository<PreOutboundHeaderV2, Long>,\r\n        JpaSpecificationExecutor<PreOutboundHeaderV2>, StreamableJpaSpecificationRepository<PreOutboundHeaderV2> {\r\n\r\n    Optional<PreOutboundHeaderV2> findByLanguageIdAndCompanyCodeIdAndPlantIdAndWarehouseIdAndRefDocNumberAndDeletionIndicator(\r\n            String languageId, String companyCodeId, String plantId, String warehouseId, String refDocNumber, Long deletionIndicator);\r\n\r\n    Optional<PreOutboundHeaderV2> findByLanguageIdAndCompanyCodeIdAndPlantIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndPartnerCodeAndDeletionIndicator(\r\n            String languageId, String companyCodeId, String plantId, String warehouseId,\r\n            String refDocNumber, String preOutboundNo, String partnerCode, Long deletionIndicator);\r\n\r\n    PreOutboundHeaderV2 findByPreOutboundNoAndDeletionIndicator(String preOutboundNo, Long deletionIndicator);\r\n\r\n    Optional<PreOutboundHeaderV2> findByRefDocNumberAndDeletionIndicator(String refDocumentNo, Long deletionIndicator);\r\n\r\n    \r\n    Optional<PreOutboundHeaderV2> \r\n\t\tfindByRefDocNumberAndOutboundOrderTypeIdAndDeletionIndicator(String refDocumentNo, \r\n\t\t\tLong outboundOrderTypeId, Long deletionIndicator);\r\n    \r\n    // For V3\r\n    Optional<PreOutboundHeaderV2> \r\n\t\tfindBySalesOrderNumberAndOutboundOrderTypeIdAndCustomerIdAndDeletionIndicator(String salesOrderNumber, \r\n\t\t\tLong outboundOrderTypeId, String customerId, Long deletionIndicator);\r\n\r\n    // For V3\r\n    Optional<PreOutboundHeaderV2>\r\n\t\tfindTopBySalesOrderNumberAndOutboundOrderTypeIdAndCustomerIdAndDeletionIndicator(String salesOrderNumber,\r\n\t\t\tLong outboundOrderTypeId, String customerId, Long deletionIndicator);\r\n\r\n    boolean existsByRefDocNumberAndOutboundOrderTypeIdAndDeletionIndicator(String refDocumentNo, Long outboundOrderTypeId, Long deletionIndicator);\r\n    \r\n    /**\r\n     * @param warehouseId\r\n     * @param refDocNumber\r\n     * @param statusId\r\n     */\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(\"UPDATE PreOutboundHeaderV2 ib SET ib.statusId = :statusId, REF_FIELD_10 = :refField10, STATUS_TEXT = :refField10 \\n\" +\r\n            \"WHERE ib.languageId = :languageId AND ib.companyCodeId = :companyCodeId AND ib.plantId = :plantId AND ib.warehouseId = :warehouseId AND ib.refDocNumber = :refDocNumber\")\r\n    void updatePreOutboundHeaderStatus(@Param(\"companyCodeId\") String companyCodeId, @Param(\"plantId\") String plantId, @Param(\"languageId\") String languageId,\r\n                                       @Param(\"warehouseId\") String warehouseId, @Param(\"refDocNumber\") String refDocNumber, @Param(\"statusId\") Long statusId, @Param(\"refField10\") String refField10);\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(value = \"UPDATE tblpreoutboundheader SET STATUS_ID = :statusId, REF_FIELD_10 = :statusDescription, STATUS_TEXT = :statusDescription \\n\" +\r\n            \"WHERE LANG_ID = :languageId AND C_ID = :companyCodeId AND \\n\" +\r\n            \"PLANT_ID = :plantId AND WH_ID = :warehouseId AND REF_DOC_NO = :refDocNumber AND PRE_OB_NO = :preOutboundNo\", nativeQuery = true)\r\n    void updatePreOutboundHeaderStatusV2(@Param(\"companyCodeId\") String companyCodeId,\r\n                                         @Param(\"plantId\") String plantId,\r\n                                         @Param(\"languageId\") String languageId,\r\n                                         @Param(\"warehouseId\") String warehouseId,\r\n                                         @Param(\"refDocNumber\") String refDocNumber,\r\n                                         @Param(\"preOutboundNo\") String preOutboundNo,\r\n                                         @Param(\"statusId\") Long statusId,\r\n                                         @Param(\"statusDescription\") String statusDescription);\r\n//    @Transactional\r\n//    @Procedure(procedureName = \"preoutbound_header_update_proc\")\r\n//    void updatePreOutboundHeaderUpdateProc(\r\n//                                @Param(\"companyCodeId\") String companyCodeId,\r\n//                                @Param(\"plantId\") String plantId,\r\n//                                @Param(\"languageId\") String languageId,\r\n//                                @Param(\"warehouseId\") String warehouseId,\r\n//                                @Param(\"refDocNumber\") String refDocNumber,\r\n//                                @Param(\"statusId\") Long statusId,\r\n//                                @Param(\"statusDescription\") String statusDescription\r\n//                                );\r\n\r\n    @Query(value = \"select ht.usr_id from tblhhtuser ht \\n\" +\r\n            \"join tblordertypeid ot on ot.usr_id=ht.usr_id \\n\" +\r\n            \"where ht.is_deleted = 0 and ot.is_deleted = 0 and ot.ob_ord_typ_id in (:outboundOrderTypeId) \", nativeQuery = true)\r\n    public List<String> getHHTUserList(\r\n            @Param(\"outboundOrderTypeId\") Long outboundOrderTypeId);\r\n\r\n    @Query(value = \"select ht.usr_id from tblhhtuser ht \\n\" +\r\n            \"join tblordertypeid ot on ot.usr_id=ht.usr_id \\n\" +\r\n            \"where ht.is_deleted = 0 and ot.is_deleted = 0 and  \\n\" +\r\n            \"ht.c_id in (:companyCodeId) and \\n\" +\r\n            \"ht.plant_id in (:plantId) and \\n\" +\r\n            \"ht.lang_id in (:languageId) and \\n\" +\r\n            \"ht.wh_id in (:warehouseId) and \\n\" +\r\n            \"ot.ob_ord_typ_id in (:outboundOrderTypeId) \", nativeQuery = true)\r\n    public List<String> getHHTUserList(\r\n            @Param(\"outboundOrderTypeId\") Long outboundOrderTypeId,\r\n            @Param(\"companyCodeId\") String companyCodeId,\r\n            @Param(\"plantId\") String plantId,\r\n            @Param(\"languageId\") String languageId,\r\n            @Param(\"warehouseId\") String warehouseId);\r\n\r\n    @Query(value = \"select \\n\" +\r\n            \"ht.USR_ID userId,\\n\" +\r\n            \"ht.LANG_ID languageId,\\n\" +\r\n            \"ht.C_ID companyCodeId,\\n\" +\r\n            \"ht.PLANT_ID plantId,\\n\" +\r\n            \"ht.WH_ID warehouseId,\\n\" +\r\n            \"ht.LEVEL_ID levelId,\\n\" +\r\n            \"ht.PASSWORD password,\\n\" +\r\n            \"ht.USER_NM userName,\\n\" +\r\n            \"ht.START_DATE startDate,\\n\" +\r\n            \"ht.END_DATE endDate,\\n\" +\r\n            \"ht.USR_PRESENT userPresent,\\n\" +\r\n            \"ht.NO_OF_DAYS_LEAVE noOfDaysLeave \\n\" +\r\n            \"from tblhhtuser ht \\n\" +\r\n            \"join tblordertypeid ot on ot.usr_id=ht.usr_id \\n\" +\r\n            \"where ht.is_deleted = 0 and ot.is_deleted = 0 and \\n\" +\r\n            \"ht.c_id in (:companyCodeId) and \\n\" +\r\n            \"ht.plant_id in (:plantId) and \\n\" +\r\n            \"ht.lang_id in (:languageId) and \\n\" +\r\n            \"ht.wh_id in (:warehouseId) and \\n\" +\r\n            \"ot.ob_ord_typ_id in (:outboundOrderTypeId) \", nativeQuery = true)\r\n    public List<HHTUser> getHHTUserListNew(@Param(\"outboundOrderTypeId\") Long outboundOrderTypeId,\r\n                                            @Param(\"companyCodeId\") String companyCodeId,\r\n                                            @Param(\"plantId\") String plantId,\r\n                                            @Param(\"languageId\") String languageId,\r\n                                            @Param(\"warehouseId\") String warehouseId);\r\n\r\n    @Query(value = \"select ht.usr_id from tblhhtuser ht \\n\" +\r\n            \"join tblordertypeid ot on ot.usr_id=ht.usr_id \\n\" +\r\n            \"where ht.is_deleted = 0 and ot.is_deleted = 0 and \\n\" +\r\n            \"ht.c_id in (:companyCodeId) and \\n\" +\r\n            \"ht.plant_id in (:plantId) and \\n\" +\r\n            \"ht.lang_id in (:languageId) and \\n\" +\r\n            \"ht.wh_id in (:warehouseId) and \\n\" +\r\n            \"ht.USR_PRESENT = '1' and \\n\" +\r\n            \"ot.ob_ord_typ_id in (:outboundOrderTypeId) \", nativeQuery = true)\r\n    public List<String> getHHTUserPresentList(\r\n            @Param(\"outboundOrderTypeId\") Long outboundOrderTypeId,\r\n            @Param(\"companyCodeId\") String companyCodeId,\r\n            @Param(\"plantId\") String plantId,\r\n            @Param(\"languageId\") String languageId,\r\n            @Param(\"warehouseId\") String warehouseId);\r\n\r\n    @Query(value = \"select ht.usr_id from tblhhtuser ht \\n\" +\r\n            \"where ht.is_deleted = 0 and ht.level_id in (:levelId) \", nativeQuery = true)\r\n    public List<String> getHHTUserListByLevelId(\r\n            @Param(\"levelId\") Long levelId);\r\n\r\n    @Query(value = \"select ht.usr_id from tblhhtuser ht \\n\" +\r\n            \"where \\n\" +\r\n            \"ht.c_id in (:companyCodeId) and \\n\" +\r\n            \"ht.plant_id in (:plantId) and \\n\" +\r\n            \"ht.lang_id in (:languageId) and \\n\" +\r\n            \"ht.wh_id in (:warehouseId) and \\n\" +\r\n            \"ht.is_deleted = 0 \\n\" +\r\n            \"and ht.level_id in (:levelId) \", nativeQuery = true)\r\n    public List<String> getHHTUserListByLevelId(\r\n            @Param(\"levelId\") Long levelId,\r\n            @Param(\"companyCodeId\") String companyCodeId,\r\n            @Param(\"plantId\") String plantId,\r\n            @Param(\"languageId\") String languageId,\r\n            @Param(\"warehouseId\") String warehouseId\r\n    );\r\n\r\n    @Query(value = \"select \\n\" +\r\n            \"ht.USR_ID userId,\\n\" +\r\n            \"ht.LANG_ID languageId,\\n\" +\r\n            \"ht.C_ID companyCodeId,\\n\" +\r\n            \"ht.PLANT_ID plantId,\\n\" +\r\n            \"ht.WH_ID warehouseId,\\n\" +\r\n            \"ht.LEVEL_ID levelId,\\n\" +\r\n            \"ht.PASSWORD password,\\n\" +\r\n            \"ht.USER_NM userName,\\n\" +\r\n            \"ht.START_DATE startDate,\\n\" +\r\n            \"ht.END_DATE endDate,\\n\" +\r\n            \"ht.USR_PRESENT userPresent,\\n\" +\r\n            \"ht.NO_OF_DAYS_LEAVE noOfDaysLeave \\n\" +\r\n            \"from tblhhtuser ht \\n\" +\r\n            \"where \\n\" +\r\n            \"ht.c_id in (:companyCodeId) and \\n\" +\r\n            \"ht.plant_id in (:plantId) and \\n\" +\r\n            \"ht.lang_id in (:languageId) and \\n\" +\r\n            \"ht.wh_id in (:warehouseId) and \\n\" +\r\n            \"ht.is_deleted = 0 \\n\" +\r\n            \"and ht.level_id in (:levelId) \", nativeQuery = true)\r\n    public List<HHTUser> getHHTUserListByLevelIdNew(\r\n            @Param(\"levelId\") Long levelId,\r\n            @Param(\"companyCodeId\") String companyCodeId,\r\n            @Param(\"plantId\") String plantId,\r\n            @Param(\"languageId\") String languageId,\r\n            @Param(\"warehouseId\") String warehouseId\r\n    );\r\n\r\n    @Query(value = \"select ht.usr_id from tblhhtuser ht \\n\" +\r\n            \"where \\n\" +\r\n            \"ht.c_id in (:companyCodeId) and \\n\" +\r\n            \"ht.plant_id in (:plantId) and \\n\" +\r\n            \"ht.lang_id in (:languageId) and \\n\" +\r\n            \"ht.wh_id in (:warehouseId) and \\n\" +\r\n            \"ht.is_deleted = 0 and \\n\" +\r\n            \"ht.USR_PRESENT = '1' and \\n\" +\r\n            \"ht.level_id in (:levelId) \", nativeQuery = true)\r\n    public List<String> getHHTUserByLevelIdPresentList(\r\n            @Param(\"levelId\") Long levelId,\r\n            @Param(\"companyCodeId\") String companyCodeId,\r\n            @Param(\"plantId\") String plantId,\r\n            @Param(\"languageId\") String languageId,\r\n            @Param(\"warehouseId\") String warehouseId\r\n    );\r\n\r\n    @Query(value =\"select usr_id \\n\"+\r\n            \" from tblhhtuser \\n\" +\r\n            \" where \\n\" +\r\n            \"(COALESCE(:companyCodeId, null) IS NULL OR (c_id IN (:companyCodeId))) and \\n\" +\r\n            \"(COALESCE(:languageId, null) IS NULL OR (lang_id IN (:languageId))) and \\n\" +\r\n            \"(COALESCE(:plantId, null) IS NULL OR (plant_id IN (:plantId))) and \\n\" +\r\n            \"(COALESCE(:warehouseId, null) IS NULL OR (wh_id IN (:warehouseId))) and \\n\" +\r\n            \"(COALESCE(:userId, null) IS NULL OR (USR_ID IN (:userId))) and \\n\" +\r\n            \"(getdate() between :startDate and :endDate) and \\n\" +\r\n            \" is_deleted = 0 \",nativeQuery = true)\r\n    public List<String> getHhtUserAttendance(@Param(\"companyCodeId\") String companyCodeId,\r\n                                              @Param(\"languageId\") String languageId,\r\n                                              @Param(\"plantId\") String plantId,\r\n                                              @Param(\"warehouseId\") String warehouseId,\r\n                                              @Param(\"userId\") String userId,\r\n                                              @Param(\"startDate\") Date startDate,\r\n                                              @Param(\"endDate\") Date endDate);\r\n\r\n    PreOutboundHeaderV2 findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndDeletionIndicator(\r\n            String companyCodeId, String plantId, String languageId, String warehouseId, String refDocNumber, Long deletionIndicator);\r\n\r\n    PreOutboundHeaderV2 findByCompanyCodeIdAndPlantIdAndLanguageIdAndWarehouseIdAndRefDocNumberAndPreOutboundNoAndDeletionIndicator(\r\n            String companyCodeId, String plantId, String languageId, String warehouseId, String refDocNumber, String preOutboundNo, Long deletionIndicator);\r\n\r\n    //=====================================walkaroo-v3========================================================================\r\n\r\n    @Query(value = \"select \\n\" +\r\n            \"ht.USR_ID userId,\\n\" +\r\n            \"ht.LANG_ID languageId,\\n\" +\r\n            \"ht.C_ID companyCodeId,\\n\" +\r\n            \"ht.PLANT_ID plantId,\\n\" +\r\n            \"ht.WH_ID warehouseId,\\n\" +\r\n            \"ht.LEVEL_ID levelId,\\n\" +\r\n            \"ht.PASSWORD password,\\n\" +\r\n            \"ht.USER_NM userName,\\n\" +\r\n            \"ht.START_DATE startDate,\\n\" +\r\n            \"ht.END_DATE endDate,\\n\" +\r\n            \"ht.USR_PRESENT userPresent,\\n\" +\r\n            \"ht.NO_OF_DAYS_LEAVE noOfDaysLeave \\n\" +\r\n            \"from tblhhtuser ht \\n\" +\r\n            \"join tblusermanagement um on um.usr_id=ht.usr_id and um.c_id=ht.c_id and um.plant_id=ht.plant_id and um.wh_id=ht.wh_id \\n\" +\r\n            \"where \\n\" +\r\n            \"ht.c_id in (:companyCodeId) and \\n\" +\r\n            \"ht.plant_id in (:plantId) and \\n\" +\r\n            \"ht.lang_id in (:languageId) and \\n\" +\r\n            \"ht.wh_id in (:warehouseId) and \\n\" +\r\n            \"um.usr_typ_id in (:userTypeId) and \\n\" +\r\n            \"ht.is_deleted = 0 \", nativeQuery = true)\r\n    public List<HHTUser> getHHTUserListV3(@Param(\"companyCodeId\") String companyCodeId,\r\n                                          @Param(\"plantId\") String plantId,\r\n                                          @Param(\"languageId\") String languageId,\r\n                                          @Param(\"warehouseId\") String warehouseId,\r\n                                          @Param(\"userTypeId\") Long userTypeId);\r\n\r\n    @Query(value = \"SELECT CASE WHEN \\n\" +\r\n            \"(select count(*) from tblpreoutboundheader where c_id = :companyCodeId and plant_id = :plantId \\n\" +\r\n            \" and lang_id = :languageId and wh_id = :warehouseId and SALES_ORDER_NUMBER = :salesOrderNumber and is_deleted = 0) = \\n\" +\r\n            \"(select count(*) from tbloborder2 where company_code = :companyCodeId and branch_code = :plantId and \\n\" +\r\n            \"language_id = :languageId and warehouseid = :warehouseId and sales_order_number = :salesOrderNumber) \\n\" +\r\n            \"THEN 1 else 0 END as Result \", nativeQuery = true)\r\n    public Long getPickupHeaderCreateStatus(@Param(\"companyCodeId\") String companyCodeId,\r\n                                            @Param(\"plantId\") String plantId,\r\n                                            @Param(\"languageId\") String languageId,\r\n                                            @Param(\"warehouseId\") String warehouseId,\r\n                                            @Param(\"salesOrderNumber\") String salesOrderNumber);\r\n\r\n    @Query(value = \"SELECT customer_id \\n\" +\r\n            \" from tblpreoutboundheader where customer_id is not null and c_id = :companyCodeId and plant_id = :plantId \\n\" +\r\n            \" and lang_id = :languageId and wh_id = :warehouseId and SALES_ORDER_NUMBER = :salesOrderNumber and is_deleted = 0 \\n\" +\r\n            \" group by customer_id \", nativeQuery = true)\r\n    public List<String> getCustomerId(@Param(\"companyCodeId\") String companyCodeId,\r\n                                      @Param(\"plantId\") String plantId,\r\n                                      @Param(\"languageId\") String languageId,\r\n                                      @Param(\"warehouseId\") String warehouseId,\r\n                                      @Param(\"salesOrderNumber\") String salesOrderNumber);\r\n\r\n    @Query(value = \"SELECT CASE WHEN \\n\" +\r\n            \"(select count(*) from tblpreoutboundheader where c_id = :companyCodeId and plant_id = :plantId \\n\" +\r\n            \" and lang_id = :languageId and wh_id = :warehouseId and REF_DOC_NO = :refDocNumber and is_deleted = 0) = \\n\" +\r\n            \"(select count(*) from tbloborder2 where company_code = :companyCodeId and branch_code = :plantId and \\n\" +\r\n            \"language_id = :languageId and warehouseid = :warehouseId and order_id = :refDocNumber) \\n\" +\r\n            \"THEN 1 else 0 END as Result \", nativeQuery = true)\r\n    public Long checkPickupHeaderCreateStatus(@Param(\"companyCodeId\") String companyCodeId,\r\n                                              @Param(\"plantId\") String plantId,\r\n                                              @Param(\"languageId\") String languageId,\r\n                                              @Param(\"warehouseId\") String warehouseId,\r\n                                              @Param(\"refDocNumber\") String refDocNumber);\r\n\r\n    @Query(value = \"SELECT customer_id \\n\" +\r\n            \" from tblpreoutboundheader where customer_id is not null and c_id = :companyCodeId and plant_id = :plantId \\n\" +\r\n            \" and lang_id = :languageId and wh_id = :warehouseId and REF_DOC_NO = :refDocNumber and is_deleted = 0 \\n\" +\r\n            \" group by customer_id \", nativeQuery = true)\r\n    public List<String> getCustomerIdByOrder(@Param(\"companyCodeId\") String companyCodeId,\r\n                                             @Param(\"plantId\") String plantId,\r\n                                             @Param(\"languageId\") String languageId,\r\n                                             @Param(\"warehouseId\") String warehouseId,\r\n                                             @Param(\"refDocNumber\") String refDocNumber);\r\n\r\n    @Query(value = \"SELECT CASE WHEN \\n\" +\r\n            \"(select count(*) from tblpickupline where c_id = :companyCodeId and plant_id = :plantId \\n\" +\r\n            \" and lang_id = :languageId and wh_id = :warehouseId and REF_DOC_NO = :refDocNumber and is_deleted = 0) = \\n\" +\r\n            \"(select count(*) from tblpickupline where c_id = :companyCodeId and plant_id = :plantId and \\n\" +\r\n            \"lang_id = :languageId and wh_id = :warehouseId and REF_DOC_NO = :refDocNumber and is_deleted = 0 and STATUS_ID = :statusId) \\n\" +\r\n            \"THEN 1 else 0 END as Result \", nativeQuery = true)\r\n    public Long checkReversalHeaderStatusUpdate(@Param(\"companyCodeId\") String companyCodeId,\r\n                                                @Param(\"plantId\") String plantId,\r\n                                                @Param(\"languageId\") String languageId,\r\n                                                @Param(\"warehouseId\") String warehouseId,\r\n                                                @Param(\"refDocNumber\") String refDocNumber,\r\n                                                @Param(\"statusId\") Long statusId);\r\n\r\n    @Query(value = \"SELECT SHIP_TO_PARTY \\n\" +\r\n            \" from tblpreoutboundline where SHIP_TO_PARTY is not null and c_id = :companyCodeId and plant_id = :plantId \\n\" +\r\n            \" and lang_id = :languageId and wh_id = :warehouseId and SALES_ORDER_NUMBER = :salesOrderNumber and is_deleted = 0 \\n\" +\r\n            \" group by SHIP_TO_PARTY \", nativeQuery = true)\r\n    public List<String> getShipToParty(@Param(\"companyCodeId\") String companyCodeId,\r\n                                       @Param(\"plantId\") String plantId,\r\n                                       @Param(\"languageId\") String languageId,\r\n                                       @Param(\"warehouseId\") String warehouseId,\r\n                                       @Param(\"salesOrderNumber\") String salesOrderNumber);\r\n    \r\n    //============================PGIReversal================================================================\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(value = \"UPDATE tblpreoutboundheader SET STATUS_ID = :statusId, REF_FIELD_10 = :statusDescription, STATUS_TEXT = :statusDescription \\n\" +\r\n            \"WHERE LANG_ID = :languageId AND C_ID = :companyCodeId AND \\n\" +\r\n            \"PLANT_ID = :plantId AND WH_ID = :warehouseId AND REF_DOC_NO = :refDocNumber \", nativeQuery = true)\r\n    void updatePreOutboundHeaderStatusV3(@Param(\"companyCodeId\") String companyCodeId,\r\n                                         @Param(\"plantId\") String plantId,\r\n                                         @Param(\"languageId\") String languageId,\r\n                                         @Param(\"warehouseId\") String warehouseId,\r\n                                         @Param(\"refDocNumber\") String refDocNumber,\r\n                                         @Param(\"statusId\") Long statusId,\r\n                                         @Param(\"statusDescription\") String statusDescription);\r\n    \r\n    @Modifying(clearAutomatically = true)\r\n    @Query(value = \"UPDATE tblpreoutboundheader SET is_deleted = 1 where c_id = :companyCodeId \" +\r\n            \"AND plant_id = :plantId AND wh_id = :warehouseId AND ref_doc_no = :refDocNumber AND pre_ob_no = :preOutboundNo \" +\r\n            \"AND is_deleted = 0\", nativeQuery = true)\r\n    void deletePreOutboundHeader(@Param(\"companyCodeId\") String companyCodeId,\r\n                                   @Param(\"plantId\") String plantId,\r\n                                   @Param(\"warehouseId\") String warehouseId,\r\n                                   @Param(\"refDocNumber\") String refDocNumber,\r\n                                   @Param(\"preOutboundNo\") String preOutboundNo);\r\n\r\n    @Modifying\r\n    @Query(value = \"Update tblpreoutboundheader set PICK_LIST_NUMBER = :puNo where c_id = :companyId and \" +\r\n            \"plant_id = :plantId and lang_id = :languageId and wh_id = :warehouseId and ref_doc_no = :refDocNo and is_deleted = 0\", nativeQuery = true)\r\n    void updatePickupNo(@Param(\"companyId\") String companyId,\r\n                        @Param(\"plantId\") String plantId,\r\n                        @Param(\"languageId\") String languageId,\r\n                        @Param(\"warehouseId\") String warehouseId,\r\n                        @Param(\"refDocNo\") String refDocNo,\r\n                        @Param(\"puNo\") String puNo);\r\n\r\n    @Modifying\r\n    @Query(value = \"Update tblpreoutboundheader set PICK_LIST_NUMBER = :puNo, status_id = :statusId, status_text = :statusDescription where c_id = :companyId and \" +\r\n            \"plant_id = :plantId and lang_id = :languageId and wh_id = :warehouseId and ref_doc_no = :refDocNo and is_deleted = 0\", nativeQuery = true)\r\n    void updatePreOutboundHeaderStatusId(@Param(\"companyId\") String companyId,\r\n                                         @Param(\"plantId\") String plantId,\r\n                                         @Param(\"languageId\") String languageId,\r\n                                         @Param(\"warehouseId\") String warehouseId,\r\n                                         @Param(\"refDocNo\") String refDocNo,\r\n                                         @Param(\"puNo\") String puNo,\r\n                                         @Param(\"statusId\") Long statusId,\r\n                                         @Param(\"statusDescription\") String statusDescription);\r\n\r\n    @Modifying\r\n    @Query(value = \"Update tblpreoutboundheader set PICK_LIST_NUMBER = :puNo, status_id = :statusId, status_text = :statusDescription where c_id = :companyId and \" +\r\n            \"plant_id = :plantId and lang_id = :languageId and wh_id = :warehouseId and ref_doc_no = :refDocNo and is_deleted = 0\", nativeQuery = true)\r\n    int updatePreOutboundHeaderStatus(@Param(\"companyId\") String companyId,\r\n                                         @Param(\"plantId\") String plantId,\r\n                                         @Param(\"languageId\") String languageId,\r\n                                         @Param(\"warehouseId\") String warehouseId,\r\n                                         @Param(\"refDocNo\") String refDocNo,\r\n                                         @Param(\"puNo\") String puNo,\r\n                                         @Param(\"statusId\") Long statusId,\r\n                                         @Param(\"statusDescription\") String statusDescription);\r\n\r\n    @Modifying\r\n    @Query(value = \"update tblpreoutboundheader set SALES_ORDER_NUMBER = :salesOrderNo where c_id = :companyCodeId \" +\r\n            \"AND plant_id = :plantId AND wh_id = :warehouseId AND ref_doc_no = :refDocNumber \" +\r\n            \"AND is_deleted = 0\", nativeQuery = true)\r\n    int updateSalesOrderNo(@Param(\"companyCodeId\") String companyCodeId,\r\n                            @Param(\"plantId\") String plantId,\r\n                            @Param(\"warehouseId\") String warehouseId,\r\n                            @Param(\"refDocNumber\") String refDocNumber,\r\n                            @Param(\"salesOrderNo\") String salesOrderNo);\r\n\r\n    //LANG_ID\", \"C_ID\", \"PLANT_ID\", \"WH_ID\", \"REF_DOC_NO\", \"PRE_OB_NO\", \"PARTNER_CODE\r\n//\tOptional<PreOutboundHeaderV2> findByLanguageIdAndCompanyCodeIdAndPlantIdAndWarehouseIdAndRefDocNumberAndDeletionIndicator(\r\n//\t\t\tString languageId, String companyCodeId, String plantId, String warehouseId, String refDocNumber, Long deletionIndicator);\r\n\r\n    @Modifying(clearAutomatically = true)\r\n    @Query(value = \"delete tblpreoutboundheader where c_id = :companyCodeId \" +\r\n            \"AND plant_id = :plantId AND wh_id = :warehouseId AND ref_doc_no = :refDocNumber \" +\r\n            \"AND is_deleted = 0\", nativeQuery = true)\r\n    void deletePreOutboundHeader(@Param(\"companyCodeId\") String companyCodeId,\r\n                                 @Param(\"plantId\") String plantId,\r\n                                 @Param(\"warehouseId\") String warehouseId,\r\n                                 @Param(\"refDocNumber\") String refDocNumber);\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java b/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java
--- a/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java	(date 1767265025773)
@@ -338,6 +338,7 @@
     
     //============================PGIReversal================================================================
     @Modifying(clearAutomatically = true)
+    @Transactional
     @Query(value = "UPDATE tblpreoutboundheader SET STATUS_ID = :statusId, REF_FIELD_10 = :statusDescription, STATUS_TEXT = :statusDescription \n" +
             "WHERE LANG_ID = :languageId AND C_ID = :companyCodeId AND \n" +
             "PLANT_ID = :plantId AND WH_ID = :warehouseId AND REF_DOC_NO = :refDocNumber ", nativeQuery = true)
Index: ../../Dev/TransactionService/.idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"bca2e412-ea27-43fe-bde7-0c4517510a5a\" name=\"Changes\" comment=\"wk_dev\">\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_4_58_PM_[Changes]/shelved.patch\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_4_58_PM__Changes_.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_5_30_PM_[Changes]/shelved.patch\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_5_30_PM__Changes_.xml\" beforeDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ExternalProjectsData\">\r\n    <projectState path=\"$PROJECT_DIR$\">\r\n      <ProjectState />\r\n    </projectState>\r\n  </component>\r\n  <component name=\"ExternalProjectsManager\">\r\n    <system id=\"GRADLE\">\r\n      <state>\r\n        <projects_view>\r\n          <tree_state>\r\n            <expand />\r\n            <select />\r\n          </tree_state>\r\n        </projects_view>\r\n      </state>\r\n    </system>\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$/../../../..\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;customColor&quot;: &quot;&quot;,\r\n  &quot;associatedIndex&quot;: 0\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"32BBU4DbgMP6n1K4GMJA9BzBEVq\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"git-widget-placeholder\": \"main\",\r\n    \"last_opened_file_path\": \"D:/GIT/active-projects/3PL/Code/Dev/TransactionService\"\r\n  }\r\n}]]></component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"bca2e412-ea27-43fe-bde7-0c4517510a5a\" name=\"Changes\" comment=\"\" />\r\n      <created>1756884097634</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1756884097634</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756885541170</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756885541170</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756977974105</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756977974105</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756978828707</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756978828707</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756979414158</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756979414158</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756980067426</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756980067426</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756981183217</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756981183217</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756981364138</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756981364138</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756981801197</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756981801197</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757403249797</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757403249797</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757419940152</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757419940152</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757420101937</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757420101937</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757420416682</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757420416682</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757477630478</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757477630478</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757500673581</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757500673581</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757501102972</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757501102972</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757501638777</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757501638777</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757504717311</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757504717311</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757505653923</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757505653923</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"19\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"wk_dev\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"wk_dev\" />\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../Dev/TransactionService/.idea/workspace.xml b/../../Dev/TransactionService/.idea/workspace.xml
--- a/../../Dev/TransactionService/.idea/workspace.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../Dev/TransactionService/.idea/workspace.xml	(date 1767265025801)
@@ -5,15 +5,29 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="bca2e412-ea27-43fe-bde7-0c4517510a5a" name="Changes" comment="wk_dev">
-      <change beforePath="$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../3PL/Code/Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../WrapperService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../WrapperService/src/main/resources/application.properties" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_4_58_PM_[Changes]/shelved.patch" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_4_58_PM__Changes_.xml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_5_30_PM_[Changes]/shelved.patch" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../WalkarooMultiTenent/OutboundTransactionService/.idea/shelf/Uncommitted_changes_before_Update_at_10_8_2025_5_30_PM__Changes_.xml" beforeDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -61,7 +75,7 @@
     "RunOnceActivity.OpenProjectViewOnStart": "true",
     "RunOnceActivity.ShowReadmeOnStart": "true",
     "git-widget-placeholder": "main",
-    "last_opened_file_path": "D:/GIT/active-projects/3PL/Code/Dev/TransactionService"
+    "last_opened_file_path": "D:/GIT/active-projects/Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService"
   }
 }]]></component>
   <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
@@ -217,7 +231,15 @@
       <option name="project" value="LOCAL" />
       <updated>1757505653923</updated>
     </task>
-    <option name="localTasksCounter" value="19" />
+    <task id="LOCAL-00019" summary="wk_dev">
+      <option name="closed" value="true" />
+      <created>1765980863457</created>
+      <option name="number" value="00019" />
+      <option name="presentableId" value="LOCAL-00019" />
+      <option name="project" value="LOCAL" />
+      <updated>1765980863457</updated>
+    </task>
+    <option name="localTasksCounter" value="20" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
Index: ../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"2e71c5e3-2cb4-41a4-bee3-d90a96657b8a\" name=\"Changes\" comment=\"add header\">\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/uiDesigner.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/.gitignore\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/compiler.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/gradle.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/jarRepositories.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/misc.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules/OutboundTransactionService.main.iml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules/TransactionService.main.iml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules/TransactionService_AMG.main.iml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/vcs.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceHeaderRepository.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceHeaderRepository.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceLineRepository.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceLineRepository.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../MasterSetupService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../MasterSetupService/.idea/gradle.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/compiler.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/compiler.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/compiler.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/compiler.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/gradle.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../OutboundTransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/compiler.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/compiler.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/jarRepositories.xml\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/vcs.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/vcs.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/logs/transaction.log\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/logs/transaction.log\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/WrapperService/logs/wrapper.log\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/WrapperService/logs/wrapper.log\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ExternalProjectsData\">\r\n    <projectState path=\"$PROJECT_DIR$\">\r\n      <ProjectState />\r\n    </projectState>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$/../../..\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;associatedIndex&quot;: 2\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"32oVysmTs6I7fl6SHAwdsIBwfMe\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;Gradle.Download Sources.executor&quot;: &quot;Run&quot;,\r\n    &quot;Gradle.InboundOrderService [:com.tekclover.wms.api.inbound.orders.TransactionServiceApplication.main()].executor&quot;: &quot;Debug&quot;,\r\n    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;main&quot;,\r\n    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,\r\n    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;\r\n  }\r\n}</component>\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"2e71c5e3-2cb4-41a4-bee3-d90a96657b8a\" name=\"Changes\" comment=\"\" />\r\n      <created>1758087169556</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1758087169556</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"add it\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1762954736461</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1762954736461</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"add header\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1762956596503</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1762956596503</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"3\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"add it\" />\r\n    <MESSAGE value=\"add header\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"add header\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/scheduler/BatchJobScheduler.java</url>\r\n          <line>45</line>\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/ScheduleAsyncService.java</url>\r\n          <line>60</line>\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>127</line>\r\n          <option name=\"timeStamp\" value=\"4\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>817</line>\r\n          <option name=\"timeStamp\" value=\"5\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderProcessingService.java</url>\r\n          <line>282</line>\r\n          <option name=\"timeStamp\" value=\"6\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderProcessingService.java</url>\r\n          <line>229</line>\r\n          <option name=\"timeStamp\" value=\"7\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>786</line>\r\n          <option name=\"timeStamp\" value=\"10\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>80</line>\r\n          <option name=\"timeStamp\" value=\"12\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>79</line>\r\n          <option name=\"timeStamp\" value=\"13\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>108</line>\r\n          <option name=\"timeStamp\" value=\"14\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>97</line>\r\n          <option name=\"timeStamp\" value=\"15\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>686</line>\r\n          <option name=\"timeStamp\" value=\"16\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>732</line>\r\n          <option name=\"timeStamp\" value=\"17\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>735</line>\r\n          <option name=\"timeStamp\" value=\"18\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>739</line>\r\n          <option name=\"timeStamp\" value=\"19\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>727</line>\r\n          <option name=\"timeStamp\" value=\"20\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>63</line>\r\n          <option name=\"timeStamp\" value=\"24\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>57</line>\r\n          <option name=\"timeStamp\" value=\"25\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>623</line>\r\n          <option name=\"timeStamp\" value=\"26\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>629</line>\r\n          <option name=\"timeStamp\" value=\"27\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>655</line>\r\n          <option name=\"timeStamp\" value=\"28\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>659</line>\r\n          <option name=\"timeStamp\" value=\"29\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/controller/InboundOrderController.java</url>\r\n          <line>434</line>\r\n          <option name=\"timeStamp\" value=\"34\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/WarehouseService.java</url>\r\n          <line>502</line>\r\n          <option name=\"timeStamp\" value=\"43\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/WarehouseService.java</url>\r\n          <line>503</line>\r\n          <option name=\"timeStamp\" value=\"44\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/WarehouseService.java</url>\r\n          <line>414</line>\r\n          <option name=\"timeStamp\" value=\"45\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/WarehouseService.java</url>\r\n          <line>415</line>\r\n          <option name=\"timeStamp\" value=\"46\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>64</line>\r\n          <option name=\"timeStamp\" value=\"47\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>\r\n          <line>65</line>\r\n          <option name=\"timeStamp\" value=\"48\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-method\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>\r\n          <line>2431</line>\r\n          <properties class=\"com.tekclover.wms.api.inbound.orders.service.OrderService\">\r\n            <option name=\"EMULATED\" value=\"true\" />\r\n            <option name=\"WATCH_EXIT\" value=\"false\" />\r\n          </properties>\r\n          <option name=\"timeStamp\" value=\"37\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml b/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml
--- a/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml	(date 1767265025828)
@@ -5,36 +5,21 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="2e71c5e3-2cb4-41a4-bee3-d90a96657b8a" name="Changes" comment="add header">
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/uiDesigner.xml" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Dev/WrapperService/src/main/java/com/tekclover/wms/core/service/OutboundTransactionService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Dev/WrapperService/src/main/java/com/tekclover/wms/core/service/OutboundTransactionService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/IDMasterService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Java/IDMasterService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/.gitignore" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/compiler.xml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/gradle.xml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/jarRepositories.xml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/misc.xml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules.xml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules/OutboundTransactionService.main.iml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules/TransactionService.main.iml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/modules/TransactionService_AMG.main.iml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../MultiTenent/Java/OutboundTransactionService/.idea/vcs.xml" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceHeaderRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceHeaderRepository.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceLineRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/../InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/repository/ProformaInvoiceLineRepository.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../MasterSetupService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../MasterSetupService/.idea/gradle.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundOrderService/.idea/compiler.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundOrderService/.idea/compiler.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundOrderService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundOrderService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundTransactionService/.idea/compiler.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundTransactionService/.idea/compiler.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundTransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundTransactionService/.idea/gradle.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundTransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundTransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../OutboundTransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundTransactionService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/compiler.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/compiler.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/jarRepositories.xml" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/vcs.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/logs/transaction.log" beforeDir="false" afterPath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/TransactionService/logs/transaction.log" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/WrapperService/logs/wrapper.log" beforeDir="false" afterPath="$PROJECT_DIR$/../../../WMS_CORE/Almailem_Product/WrapperService/logs/wrapper.log" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -45,6 +30,18 @@
     <projectState path="$PROJECT_DIR$">
       <ProjectState />
     </projectState>
+  </component>
+  <component name="ExternalProjectsManager">
+    <system id="GRADLE">
+      <state>
+        <projects_view>
+          <tree_state>
+            <expand />
+            <select />
+          </tree_state>
+        </projects_view>
+      </state>
+    </system>
   </component>
   <component name="Git.Settings">
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$/../../.." />
@@ -57,18 +54,20 @@
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;Gradle.Download Sources.executor&quot;: &quot;Run&quot;,
-    &quot;Gradle.InboundOrderService [:com.tekclover.wms.api.inbound.orders.TransactionServiceApplication.main()].executor&quot;: &quot;Debug&quot;,
-    &quot;ModuleVcsDetector.initialDetectionPerformed&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
-    &quot;git-widget-placeholder&quot;: &quot;main&quot;,
-    &quot;ignore.virus.scanning.warn.message&quot;: &quot;true&quot;,
-    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "Gradle.Download Sources.executor": "Run",
+    "Gradle.InboundOrderService [:com.tekclover.wms.api.inbound.orders.TransactionServiceApplication.main()].executor": "Debug",
+    "ModuleVcsDetector.initialDetectionPerformed": "true",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "RunOnceActivity.git.unshallow": "true",
+    "git-widget-placeholder": "main",
+    "ignore.virus.scanning.warn.message": "true",
+    "kotlin-language-version-configured": "true",
+    "last_opened_file_path": "D:/GIT/active-projects/Almailem/AutoLab/TransactionService"
   }
-}</component>
+}]]></component>
+  <component name="SpellCheckerSettings" RuntimeDictionaries="0" Folders="0" CustomDictionaries="0" DefaultDictionary="application-level" UseSingleDictionary="true" transferred="true" />
   <component name="TaskManager">
     <task active="true" id="Default" summary="Default task">
       <changelist id="2e71c5e3-2cb4-41a4-bee3-d90a96657b8a" name="Changes" comment="" />
@@ -93,7 +92,23 @@
       <option name="project" value="LOCAL" />
       <updated>1762956596503</updated>
     </task>
-    <option name="localTasksCounter" value="3" />
+    <task id="LOCAL-00003" summary="add header">
+      <option name="closed" value="true" />
+      <created>1765893528838</created>
+      <option name="number" value="00003" />
+      <option name="presentableId" value="LOCAL-00003" />
+      <option name="project" value="LOCAL" />
+      <updated>1765893528838</updated>
+    </task>
+    <task id="LOCAL-00004" summary="add header">
+      <option name="closed" value="true" />
+      <created>1765894442172</created>
+      <option name="number" value="00004" />
+      <option name="presentableId" value="LOCAL-00004" />
+      <option name="project" value="LOCAL" />
+      <updated>1765894442172</updated>
+    </task>
+    <option name="localTasksCounter" value="5" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
@@ -121,7 +136,7 @@
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>817</line>
+          <line>818</line>
           <option name="timeStamp" value="5" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
@@ -136,7 +151,7 @@
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>786</line>
+          <line>787</line>
           <option name="timeStamp" value="10" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
@@ -161,27 +176,27 @@
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>686</line>
+          <line>687</line>
           <option name="timeStamp" value="16" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>732</line>
+          <line>733</line>
           <option name="timeStamp" value="17" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>735</line>
+          <line>736</line>
           <option name="timeStamp" value="18" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>739</line>
+          <line>740</line>
           <option name="timeStamp" value="19" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>727</line>
+          <line>728</line>
           <option name="timeStamp" value="20" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
@@ -196,22 +211,22 @@
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>623</line>
+          <line>624</line>
           <option name="timeStamp" value="26" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>629</line>
+          <line>630</line>
           <option name="timeStamp" value="27" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>655</line>
+          <line>656</line>
           <option name="timeStamp" value="28" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>659</line>
+          <line>660</line>
           <option name="timeStamp" value="29" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
@@ -248,15 +263,6 @@
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/TransactionService.java</url>
           <line>65</line>
           <option name="timeStamp" value="48" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-method">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/orders/service/OrderService.java</url>
-          <line>2431</line>
-          <properties class="com.tekclover.wms.api.inbound.orders.service.OrderService">
-            <option name="EMULATED" value="true" />
-            <option name="WATCH_EXIT" value="false" />
-          </properties>
-          <option name="timeStamp" value="37" />
         </line-breakpoint>
       </breakpoints>
     </breakpoint-manager>
Index: ../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>\r\n#remote\r\nserver.port=8084\r\n#server.port=8284\r\nserver.servlet.context-path=/classicwms/api/wms-transaction-service\r\n\r\nspring.datasource.url=jdbc:sqlserver://10.20.0.22;databaseName=WMS_ALM_DEV;loginTimeout=30;socketTimeout=60000\r\nspring.datasource.username=sa\r\nspring.datasource.password=kT9mzQeF27vWbHsLXy8dPnJ4r\r\nspring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver\r\nspring.jpa.show-sql=false\r\nspring.jpa.hibernate.dialect=org.hibernate.dialect.SQLServer2012Dialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\nspring.datasource.hikari.data-source-properties.cachePrepStmts=true\r\nspring.datasource.hikari.data-source-properties.useServerPrepStmts=true\r\nspring.datasource.hikari.data-source-properties.rewriteBatchedStatements=true\r\nspring.jpa.properties.hibernate.jdbc.lock_timeout=5000\r\nspring.jpa.properties.javax.persistence.query.timeout=5000\r\n#spring.datasource.hikari.idleTimeout=120000\r\n#spring.datasource.hikari.maxLifetime=500000\r\n\r\n#---------------------------------------------------------------\r\nspring.datasource.hikari.minimumIdle=20\r\nspring.datasource.hikari.maximumPoolSize=100\r\n\r\n# Connection wait\r\nspring.datasource.hikari.connectionTimeout=30000\r\nspring.datasource.hikari.validationTimeout=5000\r\n\r\n# Idle & lifetime (CRITICAL for AWS)\r\nspring.datasource.hikari.idleTimeout=600000\r\nspring.datasource.hikari.maxLifetime=1700000\r\nspring.datasource.hikari.keepaliveTime=300000\r\n\r\n# Validation\r\nspring.datasource.hikari.connectionTestQuery=SELECT 1\r\n\r\n#----------------Spring - Mongo Configuration----------------------\r\n#spring.data.mongodb.host=35.154.84.178\r\n#spring.data.mongodb.port=27017\r\n#spring.data.mongodb.database=WMS\r\nspring.autoconfigure.exclude= \\\r\n  org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration,\\\r\n  org.springframework.boot.autoconfigure.data.mongo.MongoDataAutoConfiguration\r\n\r\n#security\r\nsecurity.oauth2.resource.filter-order=3\r\nspring.jpa.properties.hibernate.jdbc.batch_size=50\r\nspring.jpa.properties.hibernate.order_updates=true\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties b/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties
--- a/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties	(date 1767265025853)
@@ -4,7 +4,7 @@
 #server.port=8284
 server.servlet.context-path=/classicwms/api/wms-transaction-service
 
-spring.datasource.url=jdbc:sqlserver://10.20.0.22;databaseName=WMS_ALM_DEV;loginTimeout=30;socketTimeout=60000
+spring.datasource.url=jdbc:sqlserver://10.20.0.22;databaseName=WMS_ALM_DEV
 spring.datasource.username=sa
 spring.datasource.password=kT9mzQeF27vWbHsLXy8dPnJ4r
 spring.datasource.driverClassName=com.microsoft.sqlserver.jdbc.SQLServerDriver
@@ -17,24 +17,8 @@
 spring.datasource.hikari.data-source-properties.rewriteBatchedStatements=true
 spring.jpa.properties.hibernate.jdbc.lock_timeout=5000
 spring.jpa.properties.javax.persistence.query.timeout=5000
-#spring.datasource.hikari.idleTimeout=120000
-#spring.datasource.hikari.maxLifetime=500000
-
-#---------------------------------------------------------------
-spring.datasource.hikari.minimumIdle=20
-spring.datasource.hikari.maximumPoolSize=100
-
-# Connection wait
-spring.datasource.hikari.connectionTimeout=30000
-spring.datasource.hikari.validationTimeout=5000
-
-# Idle & lifetime (CRITICAL for AWS)
-spring.datasource.hikari.idleTimeout=600000
-spring.datasource.hikari.maxLifetime=1700000
-spring.datasource.hikari.keepaliveTime=300000
-
-# Validation
-spring.datasource.hikari.connectionTestQuery=SELECT 1
+spring.datasource.hikari.idleTimeout=120000
+spring.datasource.hikari.maxLifetime=500000
 
 #----------------Spring - Mongo Configuration----------------------
 #spring.data.mongodb.host=35.154.84.178
Index: ../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"dc6274bc-7ecd-4a87-91f1-dd99d6bd034f\" name=\"Changes\" comment=\"CrossDock getting goodsReceiptNo done\">\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/gradle.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/dto/AsnList.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/dto/AsnList.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNHeaderV2.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNHeaderV2.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNLineV2.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNLineV2.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/InboundOrderProcessV4.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/InboundOrderProcessV4.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/ExcelDataProcessService.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/ExcelDataProcessService.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/OrderPreparationService.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/OrderPreparationService.java\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ExternalProjectsData\">\r\n    <projectState path=\"$PROJECT_DIR$\">\r\n      <ProjectState />\r\n    </projectState>\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n        <option value=\"Interface\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$/../../../..\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;customColor&quot;: &quot;&quot;,\r\n  &quot;associatedIndex&quot;: 3\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"2sQfyhUNzxPqt0860W0Bx7tmbQB\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">{\r\n  &quot;keyToString&quot;: {\r\n    &quot;Gradle.TransactionService [:com.tekclover.wms.api.transaction.TransactionServiceApplication.main()].executor&quot;: &quot;Debug&quot;,\r\n    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,\r\n    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,\r\n    &quot;git-widget-placeholder&quot;: &quot;main&quot;,\r\n    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;,\r\n    &quot;last_opened_file_path&quot;: &quot;C:/Users/Shadow/Desktop/Core/root/Namratha/Code/Java/TransactionService/src/main/java/com/tekclover/wms/api/transaction/model&quot;,\r\n    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.keymap&quot;\r\n  }\r\n}</component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\Shadow\\Desktop\\Core\\root\\Namratha\\Code\\Java\\TransactionService\\src\\main\\java\\com\\tekclover\\wms\\api\\transaction\\model\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"com.tekclover.wms.api.transaction.controller\" />\r\n      <recent name=\"com.tekclover.wms.api.transaction.service\" />\r\n      <recent name=\"com.tekclover.wms.api.transaction.repository\" />\r\n      <recent name=\"com.tekclover.wms.api.transaction.repository.specification\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"dc6274bc-7ecd-4a87-91f1-dd99d6bd034f\" name=\"Changes\" comment=\"\" />\r\n      <created>1738392975784</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1738392975784</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00030\" summary=\"NoOfBags issues fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740479877083</created>\r\n      <option name=\"number\" value=\"00030\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00030\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740479877083</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00031\" summary=\"NoOfBags issues fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740481066200</created>\r\n      <option name=\"number\" value=\"00031\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00031\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740481066200</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00032\" summary=\"LoosePack issues in Pickupline create fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740482702196</created>\r\n      <option name=\"number\" value=\"00032\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00032\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740482702196</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00033\" summary=\"NoOfBags and BagSize issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740485713203</created>\r\n      <option name=\"number\" value=\"00033\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00033\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740485713203</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00034\" summary=\"NoOfBags and BagSize issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740486452525</created>\r\n      <option name=\"number\" value=\"00034\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00034\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740486452525</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00035\" summary=\"NoOfBags and BagSize issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740488461300</created>\r\n      <option name=\"number\" value=\"00035\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00035\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740488461300</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00036\" summary=\"NoOfBags and BagSize issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740489127396</created>\r\n      <option name=\"number\" value=\"00036\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00036\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740489127396</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00037\" summary=\"DriverRemark crud and integration done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740492258955</created>\r\n      <option name=\"number\" value=\"00037\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00037\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740492258955</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00038\" summary=\"DriverRemark crud and integration done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740492464033</created>\r\n      <option name=\"number\" value=\"00038\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00038\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740492464033</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00039\" summary=\"Changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740542617169</created>\r\n      <option name=\"number\" value=\"00039\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00039\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740542617169</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00040\" summary=\"Changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740545402061</created>\r\n      <option name=\"number\" value=\"00040\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00040\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740545402061</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00041\" summary=\"Changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740547336805</created>\r\n      <option name=\"number\" value=\"00041\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00041\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740547336805</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00042\" summary=\"Changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740548327437</created>\r\n      <option name=\"number\" value=\"00042\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00042\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740548327437</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00043\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740554877138</created>\r\n      <option name=\"number\" value=\"00043\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00043\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740554877138</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00044\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740556407590</created>\r\n      <option name=\"number\" value=\"00044\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00044\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740556407590</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00045\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740559563238</created>\r\n      <option name=\"number\" value=\"00045\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00045\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740559563238</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00046\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740562855650</created>\r\n      <option name=\"number\" value=\"00046\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00046\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740562855650</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00047\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740563685605</created>\r\n      <option name=\"number\" value=\"00047\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00047\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740563685605</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00048\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740564142760</created>\r\n      <option name=\"number\" value=\"00048\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00048\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740564142760</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00049\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740564764194</created>\r\n      <option name=\"number\" value=\"00049\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00049\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740564764194</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00050\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740565464195</created>\r\n      <option name=\"number\" value=\"00050\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00050\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740565464213</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00051\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740566175768</created>\r\n      <option name=\"number\" value=\"00051\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00051\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740566175772</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00052\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740566614754</created>\r\n      <option name=\"number\" value=\"00052\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00052\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740566614754</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00053\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740567784461</created>\r\n      <option name=\"number\" value=\"00053\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00053\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740567784461</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00054\" summary=\"Closed case order allocation in outbound logic code\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740568662967</created>\r\n      <option name=\"number\" value=\"00054\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00054\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740568662967</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00055\" summary=\"FindOutboundHeader/rfd api changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740575670319</created>\r\n      <option name=\"number\" value=\"00055\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00055\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740575670319</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00056\" summary=\"Make and Change InhouseTransferHeader TransferNo issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740632468001</created>\r\n      <option name=\"number\" value=\"00056\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00056\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740632468001</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00057\" summary=\"Make and Change InhouseTransferHeader TransferNo issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740632652754</created>\r\n      <option name=\"number\" value=\"00057\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00057\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740632652754</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00058\" summary=\"Make and Change InhouseTransferHeader TransferNo issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740635046508</created>\r\n      <option name=\"number\" value=\"00058\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00058\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740635046513</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00059\" summary=\"Make and Change InhouseTransferHeader TransferNo issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740636740710</created>\r\n      <option name=\"number\" value=\"00059\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00059\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740636740710</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00060\" summary=\"Make and Change InhouseTransferHeader TransferNo issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740636822278</created>\r\n      <option name=\"number\" value=\"00060\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00060\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740636822278</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00061\" summary=\"Make and Change InhouseTransferHeader TransferNo issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740639486271</created>\r\n      <option name=\"number\" value=\"00061\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00061\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740639486271</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00062\" summary=\"Make and Change InhouseTransferHeader TransferNo issue fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740643470106</created>\r\n      <option name=\"number\" value=\"00062\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00062\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740643470112</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00063\" summary=\"CrossDockService code done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740718577350</created>\r\n      <option name=\"number\" value=\"00063\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00063\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740718577350</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00064\" summary=\"MakeAndChange Inventory changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740720291867</created>\r\n      <option name=\"number\" value=\"00064\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00064\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740720291867</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00065\" summary=\"MakeAndChange Inventory changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740721864171</created>\r\n      <option name=\"number\" value=\"00065\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00065\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740721864171</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00066\" summary=\"MakeAndChange Inventory changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740722846843</created>\r\n      <option name=\"number\" value=\"00066\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00066\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740722846843</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00067\" summary=\"MakeAndChange Bin to Bin Issue fix Inventory changes done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740728038169</created>\r\n      <option name=\"number\" value=\"00067\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00067\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740728038169</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00068\" summary=\"MakeAndChange sku to sku log\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740743592997</created>\r\n      <option name=\"number\" value=\"00068\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00068\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740743592997</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00069\" summary=\"CrossDock 48 status added in OrderManagementLine for dev testing crossDock logic\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740977282211</created>\r\n      <option name=\"number\" value=\"00069\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00069\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740977282211</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00070\" summary=\"Log for checking crossDock Logic\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740978344370</created>\r\n      <option name=\"number\" value=\"00070\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00070\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740978344370</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00071\" summary=\"Log for checking crossDock Logic\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740978657198</created>\r\n      <option name=\"number\" value=\"00071\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00071\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740978657198</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00072\" summary=\"FindCrossDock Stagingline status addition 48 in ordermanagementline\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740979156043</created>\r\n      <option name=\"number\" value=\"00072\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00072\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740979156043</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00073\" summary=\"FindCrossDock Stagingline status addition 48 in ordermanagementline\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1740979181215</created>\r\n      <option name=\"number\" value=\"00073\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00073\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1740979181215</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00074\" summary=\"CrossDock Logic for saving in seperate tables\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1741000882956</created>\r\n      <option name=\"number\" value=\"00074\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00074\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1741000882956</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00075\" summary=\"Numberrange for CrossDock OrderManagementLine fix\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1741002445015</created>\r\n      <option name=\"number\" value=\"00075\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00075\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1741002445015</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00076\" summary=\"Log For Dev testing in crossdock grLine\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1741004195237</created>\r\n      <option name=\"number\" value=\"00076\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00076\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1741004195237</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00077\" summary=\"CrossDock getting goodsReceiptNo done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1741009916756</created>\r\n      <option name=\"number\" value=\"00077\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00077\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1741009916756</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00078\" summary=\"CrossDock getting goodsReceiptNo done\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1741010196353</created>\r\n      <option name=\"number\" value=\"00078\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00078\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1741010196353</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"79\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"Namratha PickupLine issue fix\" />\r\n    <MESSAGE value=\"Namratha PickupHeader status updation issue fix\" />\r\n    <MESSAGE value=\"Namratha InventoryCreate field addition\" />\r\n    <MESSAGE value=\"UnallocatedOrderLine Create, Find , and update Api Done\" />\r\n    <MESSAGE value=\"CaseQty Field updated\" />\r\n    <MESSAGE value=\"OrderAllocation based on loosePack code logic change\" />\r\n    <MESSAGE value=\"NoOfBags issues fix\" />\r\n    <MESSAGE value=\"LoosePack issues in Pickupline create fix\" />\r\n    <MESSAGE value=\"NoOfBags and BagSize issue fix\" />\r\n    <MESSAGE value=\"DriverRemark crud and integration done\" />\r\n    <MESSAGE value=\"Changes done\" />\r\n    <MESSAGE value=\"Closed case order allocation in outbound logic code\" />\r\n    <MESSAGE value=\"FindOutboundHeader/rfd api changes done\" />\r\n    <MESSAGE value=\"Make and Change InhouseTransferHeader TransferNo issue fix\" />\r\n    <MESSAGE value=\"CrossDockService code done\" />\r\n    <MESSAGE value=\"MakeAndChange Inventory changes done\" />\r\n    <MESSAGE value=\"MakeAndChange Bin to Bin Issue fix Inventory changes done\" />\r\n    <MESSAGE value=\"MakeAndChange sku to sku log\" />\r\n    <MESSAGE value=\"CrossDock 48 status added in OrderManagementLine for dev testing crossDock logic\" />\r\n    <MESSAGE value=\"Log for checking crossDock Logic\" />\r\n    <MESSAGE value=\"FindCrossDock Stagingline status addition 48 in ordermanagementline\" />\r\n    <MESSAGE value=\"CrossDock Logic for saving in seperate tables\" />\r\n    <MESSAGE value=\"Numberrange for CrossDock OrderManagementLine fix\" />\r\n    <MESSAGE value=\"Log For Dev testing in crossdock grLine\" />\r\n    <MESSAGE value=\"CrossDock getting goodsReceiptNo done\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"CrossDock getting goodsReceiptNo done\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/WarehouseController.java</url>\r\n          <line>277</line>\r\n          <option name=\"timeStamp\" value=\"1\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>802</line>\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>825</line>\r\n          <option name=\"timeStamp\" value=\"3\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>925</line>\r\n          <option name=\"timeStamp\" value=\"13\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>945</line>\r\n          <option name=\"timeStamp\" value=\"14\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>956</line>\r\n          <option name=\"timeStamp\" value=\"15\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>962</line>\r\n          <option name=\"timeStamp\" value=\"16\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderService.java</url>\r\n          <line>226</line>\r\n          <option name=\"timeStamp\" value=\"17\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderService.java</url>\r\n          <line>227</line>\r\n          <option name=\"timeStamp\" value=\"18\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>202</line>\r\n          <option name=\"timeStamp\" value=\"32\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>211</line>\r\n          <option name=\"timeStamp\" value=\"35\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>215</line>\r\n          <option name=\"timeStamp\" value=\"36\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>213</line>\r\n          <option name=\"timeStamp\" value=\"37\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>229</line>\r\n          <option name=\"timeStamp\" value=\"38\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>256</line>\r\n          <option name=\"timeStamp\" value=\"39\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>483</line>\r\n          <option name=\"timeStamp\" value=\"40\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>537</line>\r\n          <option name=\"timeStamp\" value=\"42\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>565</line>\r\n          <option name=\"timeStamp\" value=\"46\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>587</line>\r\n          <option name=\"timeStamp\" value=\"47\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>275</line>\r\n          <option name=\"timeStamp\" value=\"48\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>273</line>\r\n          <option name=\"timeStamp\" value=\"49\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>333</line>\r\n          <option name=\"timeStamp\" value=\"50\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>336</line>\r\n          <option name=\"timeStamp\" value=\"51\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>653</line>\r\n          <option name=\"timeStamp\" value=\"52\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>\r\n          <line>153</line>\r\n          <option name=\"timeStamp\" value=\"53\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>\r\n          <line>196</line>\r\n          <option name=\"timeStamp\" value=\"54\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>\r\n          <line>197</line>\r\n          <option name=\"timeStamp\" value=\"58\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>\r\n          <line>199</line>\r\n          <option name=\"timeStamp\" value=\"59\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/GrLineController.java</url>\r\n          <line>84</line>\r\n          <option name=\"timeStamp\" value=\"60\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>395</line>\r\n          <option name=\"timeStamp\" value=\"61\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>438</line>\r\n          <option name=\"timeStamp\" value=\"62\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>450</line>\r\n          <option name=\"timeStamp\" value=\"63\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>453</line>\r\n          <option name=\"timeStamp\" value=\"64\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>454</line>\r\n          <option name=\"timeStamp\" value=\"65\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>460</line>\r\n          <option name=\"timeStamp\" value=\"66\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>472</line>\r\n          <option name=\"timeStamp\" value=\"67\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>473</line>\r\n          <option name=\"timeStamp\" value=\"68\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>474</line>\r\n          <option name=\"timeStamp\" value=\"69\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>479</line>\r\n          <option name=\"timeStamp\" value=\"70\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/GrLineController.java</url>\r\n          <line>171</line>\r\n          <option name=\"timeStamp\" value=\"71\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6368</line>\r\n          <option name=\"timeStamp\" value=\"91\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6369</line>\r\n          <option name=\"timeStamp\" value=\"92\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6373</line>\r\n          <option name=\"timeStamp\" value=\"93\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6371</line>\r\n          <option name=\"timeStamp\" value=\"94\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6798</line>\r\n          <option name=\"timeStamp\" value=\"130\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/StorageBinService.java</url>\r\n          <line>319</line>\r\n          <option name=\"timeStamp\" value=\"131\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/StorageBinService.java</url>\r\n          <line>326</line>\r\n          <option name=\"timeStamp\" value=\"132\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/PickupLineController.java</url>\r\n          <line>154</line>\r\n          <option name=\"timeStamp\" value=\"133\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/PutAwayLineController.java</url>\r\n          <line>159</line>\r\n          <option name=\"timeStamp\" value=\"134\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3134</line>\r\n          <option name=\"timeStamp\" value=\"136\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3133</line>\r\n          <option name=\"timeStamp\" value=\"137\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3173</line>\r\n          <option name=\"timeStamp\" value=\"138\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3183</line>\r\n          <option name=\"timeStamp\" value=\"139\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3188</line>\r\n          <option name=\"timeStamp\" value=\"140\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3192</line>\r\n          <option name=\"timeStamp\" value=\"141\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3194</line>\r\n          <option name=\"timeStamp\" value=\"142\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3197</line>\r\n          <option name=\"timeStamp\" value=\"143\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3207</line>\r\n          <option name=\"timeStamp\" value=\"144\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3211</line>\r\n          <option name=\"timeStamp\" value=\"145\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3219</line>\r\n          <option name=\"timeStamp\" value=\"146\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3222</line>\r\n          <option name=\"timeStamp\" value=\"147\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3199</line>\r\n          <option name=\"timeStamp\" value=\"148\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3363</line>\r\n          <option name=\"timeStamp\" value=\"149\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3366</line>\r\n          <option name=\"timeStamp\" value=\"150\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3368</line>\r\n          <option name=\"timeStamp\" value=\"151\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3369</line>\r\n          <option name=\"timeStamp\" value=\"152\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3200</line>\r\n          <option name=\"timeStamp\" value=\"153\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3201</line>\r\n          <option name=\"timeStamp\" value=\"154\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3367</line>\r\n          <option name=\"timeStamp\" value=\"155\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3392</line>\r\n          <option name=\"timeStamp\" value=\"156\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3387</line>\r\n          <option name=\"timeStamp\" value=\"157\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3195</line>\r\n          <option name=\"timeStamp\" value=\"159\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3140</line>\r\n          <option name=\"timeStamp\" value=\"162\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3142</line>\r\n          <option name=\"timeStamp\" value=\"163\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3163</line>\r\n          <option name=\"timeStamp\" value=\"164\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3165</line>\r\n          <option name=\"timeStamp\" value=\"165\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayHeaderService.java</url>\r\n          <line>717</line>\r\n          <option name=\"timeStamp\" value=\"166\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayHeaderService.java</url>\r\n          <line>719</line>\r\n          <option name=\"timeStamp\" value=\"167\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayHeaderService.java</url>\r\n          <line>718</line>\r\n          <option name=\"timeStamp\" value=\"168\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6775</line>\r\n          <option name=\"timeStamp\" value=\"173\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6778</line>\r\n          <option name=\"timeStamp\" value=\"174\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6813</line>\r\n          <option name=\"timeStamp\" value=\"175\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6364</line>\r\n          <option name=\"timeStamp\" value=\"176\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6729</line>\r\n          <option name=\"timeStamp\" value=\"177\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6731</line>\r\n          <option name=\"timeStamp\" value=\"178\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6752</line>\r\n          <option name=\"timeStamp\" value=\"179\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6762</line>\r\n          <option name=\"timeStamp\" value=\"180\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6817</line>\r\n          <option name=\"timeStamp\" value=\"181\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6814</line>\r\n          <option name=\"timeStamp\" value=\"182\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>7043</line>\r\n          <option name=\"timeStamp\" value=\"183\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>794</line>\r\n          <option name=\"timeStamp\" value=\"184\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/WarehouseController.java</url>\r\n          <line>612</line>\r\n          <option name=\"timeStamp\" value=\"186\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>1946</line>\r\n          <option name=\"timeStamp\" value=\"187\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>2162</line>\r\n          <option name=\"timeStamp\" value=\"188\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>2165</line>\r\n          <option name=\"timeStamp\" value=\"189\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>2175</line>\r\n          <option name=\"timeStamp\" value=\"190\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>2192</line>\r\n          <option name=\"timeStamp\" value=\"191\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>2204</line>\r\n          <option name=\"timeStamp\" value=\"192\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/WarehouseService.java</url>\r\n          <line>2205</line>\r\n          <option name=\"timeStamp\" value=\"193\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/BaseService.java</url>\r\n          <line>477</line>\r\n          <option name=\"timeStamp\" value=\"196\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/OutboundLineController.java</url>\r\n          <line>201</line>\r\n          <option name=\"timeStamp\" value=\"197\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OutboundLineService.java</url>\r\n          <line>4433</line>\r\n          <option name=\"timeStamp\" value=\"198\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>3128</line>\r\n          <option name=\"timeStamp\" value=\"199\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>1747</line>\r\n          <option name=\"timeStamp\" value=\"200\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/PickupLineController.java</url>\r\n          <line>163</line>\r\n          <option name=\"timeStamp\" value=\"201\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupHeaderService.java</url>\r\n          <line>558</line>\r\n          <option name=\"timeStamp\" value=\"203\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4958</line>\r\n          <option name=\"timeStamp\" value=\"209\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4752</line>\r\n          <option name=\"timeStamp\" value=\"214\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>\r\n          <line>164</line>\r\n          <option name=\"timeStamp\" value=\"215\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>340</line>\r\n          <option name=\"timeStamp\" value=\"216\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>676</line>\r\n          <option name=\"timeStamp\" value=\"217\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>347</line>\r\n          <option name=\"timeStamp\" value=\"218\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>112</line>\r\n          <option name=\"timeStamp\" value=\"219\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6365</line>\r\n          <option name=\"timeStamp\" value=\"220\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/GrLineService.java</url>\r\n          <line>6480</line>\r\n          <option name=\"timeStamp\" value=\"221\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/DriverRemarkService.java</url>\r\n          <line>63</line>\r\n          <option name=\"timeStamp\" value=\"223\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/DriverRemarkService.java</url>\r\n          <line>66</line>\r\n          <option name=\"timeStamp\" value=\"224\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/DriverRemarkService.java</url>\r\n          <line>71</line>\r\n          <option name=\"timeStamp\" value=\"225\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/DriverRemarkService.java</url>\r\n          <line>74</line>\r\n          <option name=\"timeStamp\" value=\"226\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderManagementLineService.java</url>\r\n          <line>4192</line>\r\n          <option name=\"timeStamp\" value=\"227\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4968</line>\r\n          <option name=\"timeStamp\" value=\"228\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4975</line>\r\n          <option name=\"timeStamp\" value=\"229\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/QualityHeaderService.java</url>\r\n          <line>771</line>\r\n          <option name=\"timeStamp\" value=\"230\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/QualityHeaderService.java</url>\r\n          <line>805</line>\r\n          <option name=\"timeStamp\" value=\"231\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4920</line>\r\n          <option name=\"timeStamp\" value=\"232\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4923</line>\r\n          <option name=\"timeStamp\" value=\"233\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4785</line>\r\n          <option name=\"timeStamp\" value=\"234\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4788</line>\r\n          <option name=\"timeStamp\" value=\"235\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>\r\n          <line>4828</line>\r\n          <option name=\"timeStamp\" value=\"236\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingService.java</url>\r\n          <line>224</line>\r\n          <option name=\"timeStamp\" value=\"237\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/OutboundHeaderController.java</url>\r\n          <line>198</line>\r\n          <option name=\"timeStamp\" value=\"238\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/BaseService.java</url>\r\n          <line>208</line>\r\n          <option name=\"timeStamp\" value=\"239\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/InhouseTransferHeaderService.java</url>\r\n          <line>256</line>\r\n          <option name=\"timeStamp\" value=\"240\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PutAwayLineService.java</url>\r\n          <line>2624</line>\r\n          <option name=\"timeStamp\" value=\"243\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/CrossDockService.java</url>\r\n          <line>405</line>\r\n          <option name=\"timeStamp\" value=\"244\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/CrossDockService.java</url>\r\n          <line>388</line>\r\n          <option name=\"timeStamp\" value=\"245\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/CrossDockService.java</url>\r\n          <line>408</line>\r\n          <option name=\"timeStamp\" value=\"246\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/CrossDockService.java</url>\r\n          <line>415</line>\r\n          <option name=\"timeStamp\" value=\"247\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/CrossDockService.java</url>\r\n          <line>432</line>\r\n          <option name=\"timeStamp\" value=\"248\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/CrossDockService.java</url>\r\n          <line>399</line>\r\n          <option name=\"timeStamp\" value=\"249\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml b/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml
--- a/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml	(date 1767265025896)
@@ -5,15 +5,29 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="dc6274bc-7ecd-4a87-91f1-dd99d6bd034f" name="Changes" comment="CrossDock getting goodsReceiptNo done">
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/misc.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/gradle.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/TransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/dto/AsnList.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/dto/AsnList.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNHeaderV2.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNHeaderV2.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNLineV2.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/ASNLineV2.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/InboundOrderProcessV4.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/model/warehouse/inbound/almailem/InboundOrderProcessV4.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/ExcelDataProcessService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/ExcelDataProcessService.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/OrderPreparationService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Code/Java/UAT/WrapperService/src/main/java/com/tekclover/wms/core/service/OrderPreparationService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java" beforeDir="false" afterPath="$PROJECT_DIR$/../WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Java/Dev/WrapperService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Walkaroo/Java/WalkarooMultiTenent/OutboundTransactionService/.idea/gradle.xml" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -24,6 +38,18 @@
     <projectState path="$PROJECT_DIR$">
       <ProjectState />
     </projectState>
+  </component>
+  <component name="ExternalProjectsManager">
+    <system id="GRADLE">
+      <state>
+        <projects_view>
+          <tree_state>
+            <expand />
+            <select />
+          </tree_state>
+        </projects_view>
+      </state>
+    </system>
   </component>
   <component name="FileTemplateManagerImpl">
     <option name="RECENT_TEMPLATES">
@@ -45,17 +71,17 @@
     <option name="hideEmptyMiddlePackages" value="true" />
     <option name="showLibraryContents" value="true" />
   </component>
-  <component name="PropertiesComponent">{
-  &quot;keyToString&quot;: {
-    &quot;Gradle.TransactionService [:com.tekclover.wms.api.transaction.TransactionServiceApplication.main()].executor&quot;: &quot;Debug&quot;,
-    &quot;RunOnceActivity.ShowReadmeOnStart&quot;: &quot;true&quot;,
-    &quot;RunOnceActivity.git.unshallow&quot;: &quot;true&quot;,
-    &quot;git-widget-placeholder&quot;: &quot;main&quot;,
-    &quot;kotlin-language-version-configured&quot;: &quot;true&quot;,
-    &quot;last_opened_file_path&quot;: &quot;C:/Users/Shadow/Desktop/Core/root/Namratha/Code/Java/TransactionService/src/main/java/com/tekclover/wms/api/transaction/model&quot;,
-    &quot;settings.editor.selected.configurable&quot;: &quot;preferences.keymap&quot;
+  <component name="PropertiesComponent"><![CDATA[{
+  "keyToString": {
+    "Gradle.TransactionService [:com.tekclover.wms.api.transaction.TransactionServiceApplication.main()].executor": "Debug",
+    "RunOnceActivity.ShowReadmeOnStart": "true",
+    "RunOnceActivity.git.unshallow": "true",
+    "git-widget-placeholder": "main",
+    "kotlin-language-version-configured": "true",
+    "last_opened_file_path": "D:/GIT/active-projects/Almailem/AutoLab/TransactionService",
+    "settings.editor.selected.configurable": "preferences.keymap"
   }
-}</component>
+}]]></component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
       <recent name="C:\Users\Shadow\Desktop\Core\root\Namratha\Code\Java\TransactionService\src\main\java\com\tekclover\wms\api\transaction\model" />
@@ -76,46 +102,6 @@
       <option name="presentableId" value="Default" />
       <updated>1738392975784</updated>
     </task>
-    <task id="LOCAL-00030" summary="NoOfBags issues fix">
-      <option name="closed" value="true" />
-      <created>1740479877083</created>
-      <option name="number" value="00030" />
-      <option name="presentableId" value="LOCAL-00030" />
-      <option name="project" value="LOCAL" />
-      <updated>1740479877083</updated>
-    </task>
-    <task id="LOCAL-00031" summary="NoOfBags issues fix">
-      <option name="closed" value="true" />
-      <created>1740481066200</created>
-      <option name="number" value="00031" />
-      <option name="presentableId" value="LOCAL-00031" />
-      <option name="project" value="LOCAL" />
-      <updated>1740481066200</updated>
-    </task>
-    <task id="LOCAL-00032" summary="LoosePack issues in Pickupline create fix">
-      <option name="closed" value="true" />
-      <created>1740482702196</created>
-      <option name="number" value="00032" />
-      <option name="presentableId" value="LOCAL-00032" />
-      <option name="project" value="LOCAL" />
-      <updated>1740482702196</updated>
-    </task>
-    <task id="LOCAL-00033" summary="NoOfBags and BagSize issue fix">
-      <option name="closed" value="true" />
-      <created>1740485713203</created>
-      <option name="number" value="00033" />
-      <option name="presentableId" value="LOCAL-00033" />
-      <option name="project" value="LOCAL" />
-      <updated>1740485713203</updated>
-    </task>
-    <task id="LOCAL-00034" summary="NoOfBags and BagSize issue fix">
-      <option name="closed" value="true" />
-      <created>1740486452525</created>
-      <option name="number" value="00034" />
-      <option name="presentableId" value="LOCAL-00034" />
-      <option name="project" value="LOCAL" />
-      <updated>1740486452525</updated>
-    </task>
     <task id="LOCAL-00035" summary="NoOfBags and BagSize issue fix">
       <option name="closed" value="true" />
       <created>1740488461300</created>
@@ -468,13 +454,50 @@
       <option name="project" value="LOCAL" />
       <updated>1741010196353</updated>
     </task>
-    <option name="localTasksCounter" value="79" />
+    <task id="LOCAL-00079" summary="Receipt">
+      <option name="closed" value="true" />
+      <created>1766985891217</created>
+      <option name="number" value="00079" />
+      <option name="presentableId" value="LOCAL-00079" />
+      <option name="project" value="LOCAL" />
+      <updated>1766985891217</updated>
+    </task>
+    <task id="LOCAL-00080" summary="CrossDock getting goodsReceiptNo done">
+      <option name="closed" value="true" />
+      <created>1766986958623</created>
+      <option name="number" value="00080" />
+      <option name="presentableId" value="LOCAL-00080" />
+      <option name="project" value="LOCAL" />
+      <updated>1766986958623</updated>
+    </task>
+    <task id="LOCAL-00081" summary="no_bag_">
+      <option name="closed" value="true" />
+      <created>1766987341465</created>
+      <option name="number" value="00081" />
+      <option name="presentableId" value="LOCAL-00081" />
+      <option name="project" value="LOCAL" />
+      <updated>1766987341465</updated>
+    </task>
+    <task id="LOCAL-00082" summary="Godrej">
+      <option name="closed" value="true" />
+      <created>1767003467503</created>
+      <option name="number" value="00082" />
+      <option name="presentableId" value="LOCAL-00082" />
+      <option name="project" value="LOCAL" />
+      <updated>1767003467503</updated>
+    </task>
+    <task id="LOCAL-00083" summary="CrossDock getting goodsReceiptNo done">
+      <option name="closed" value="true" />
+      <created>1767005306615</created>
+      <option name="number" value="00083" />
+      <option name="presentableId" value="LOCAL-00083" />
+      <option name="project" value="LOCAL" />
+      <updated>1767005306616</updated>
+    </task>
+    <option name="localTasksCounter" value="84" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
-    <MESSAGE value="Namratha PickupLine issue fix" />
-    <MESSAGE value="Namratha PickupHeader status updation issue fix" />
-    <MESSAGE value="Namratha InventoryCreate field addition" />
     <MESSAGE value="UnallocatedOrderLine Create, Find , and update Api Done" />
     <MESSAGE value="CaseQty Field updated" />
     <MESSAGE value="OrderAllocation based on loosePack code logic change" />
@@ -496,6 +519,9 @@
     <MESSAGE value="CrossDock Logic for saving in seperate tables" />
     <MESSAGE value="Numberrange for CrossDock OrderManagementLine fix" />
     <MESSAGE value="Log For Dev testing in crossdock grLine" />
+    <MESSAGE value="Receipt" />
+    <MESSAGE value="no_bag_" />
+    <MESSAGE value="Godrej" />
     <MESSAGE value="CrossDock getting goodsReceiptNo done" />
     <option name="LAST_COMMIT_MESSAGE" value="CrossDock getting goodsReceiptNo done" />
   </component>
@@ -624,22 +650,22 @@
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>
-          <line>153</line>
+          <line>156</line>
           <option name="timeStamp" value="53" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>
-          <line>196</line>
+          <line>199</line>
           <option name="timeStamp" value="54" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>
-          <line>197</line>
+          <line>200</line>
           <option name="timeStamp" value="58" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OrderProcessingService.java</url>
-          <line>199</line>
+          <line>202</line>
           <option name="timeStamp" value="59" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
@@ -738,11 +764,6 @@
           <option name="timeStamp" value="132" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/PickupLineController.java</url>
-          <line>154</line>
-          <option name="timeStamp" value="133" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/PutAwayLineController.java</url>
           <line>159</line>
           <option name="timeStamp" value="134" />
@@ -1023,24 +1044,14 @@
           <option name="timeStamp" value="200" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/controller/PickupLineController.java</url>
-          <line>163</line>
-          <option name="timeStamp" value="201" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupHeaderService.java</url>
           <line>558</line>
           <option name="timeStamp" value="203" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4958</line>
+          <line>4954</line>
           <option name="timeStamp" value="209" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4752</line>
-          <option name="timeStamp" value="214" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>
@@ -1103,53 +1114,13 @@
           <option name="timeStamp" value="227" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4968</line>
-          <option name="timeStamp" value="228" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4975</line>
-          <option name="timeStamp" value="229" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/QualityHeaderService.java</url>
           <line>771</line>
           <option name="timeStamp" value="230" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/QualityHeaderService.java</url>
-          <line>805</line>
-          <option name="timeStamp" value="231" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4920</line>
-          <option name="timeStamp" value="232" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4923</line>
-          <option name="timeStamp" value="233" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4785</line>
-          <option name="timeStamp" value="234" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4788</line>
-          <option name="timeStamp" value="235" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
-          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/PickupLineService.java</url>
-          <line>4828</line>
-          <option name="timeStamp" value="236" />
-        </line-breakpoint>
-        <line-breakpoint enabled="true" type="java-line">
           <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingService.java</url>
-          <line>224</line>
+          <line>176</line>
           <option name="timeStamp" value="237" />
         </line-breakpoint>
         <line-breakpoint enabled="true" type="java-line">
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"bca2e412-ea27-43fe-bde7-0c4517510a5a\" name=\"Changes\" comment=\"wk_dev\">\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/gradle.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/gradle.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/repository/PickupLineV2Repository.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/repository/PickupLineV2Repository.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/service/OutboundLineService.java\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/service/OutboundLineService.java\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../MultiTenent/Dev/OutboundTransactionService/.idea/modules/OutboundTransactionService.main.iml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../MultiTenent/Dev/OutboundTransactionService/.idea/modules/OutboundTransactionService.main.iml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Webapp/Dev/package-lock.json\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Webapp/Dev/package-lock.json\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/common-service/menu-new.service.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/common-service/menu-new.service.ts\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports-routing.module.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports-routing.module.ts\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports.module.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports.module.ts\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/stocksamplereport/stocksample.service.ts\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/stocksamplereport/stocksample.service.ts\" afterDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"ExternalProjectsData\">\r\n    <projectState path=\"$PROJECT_DIR$\">\r\n      <ProjectState />\r\n    </projectState>\r\n  </component>\r\n  <component name=\"ExternalProjectsManager\">\r\n    <system id=\"GRADLE\">\r\n      <state>\r\n        <task path=\"$PROJECT_DIR$\">\r\n          <activation />\r\n        </task>\r\n        <projects_view>\r\n          <tree_state>\r\n            <expand />\r\n            <select />\r\n          </tree_state>\r\n        </projects_view>\r\n      </state>\r\n    </system>\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Class\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$/../../../..\" />\r\n  </component>\r\n  <component name=\"ProjectColorInfo\">{\r\n  &quot;customColor&quot;: &quot;&quot;,\r\n  &quot;associatedIndex&quot;: 0\r\n}</component>\r\n  <component name=\"ProjectId\" id=\"32BBU4DbgMP6n1K4GMJA9BzBEVq\" />\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\"><![CDATA[{\r\n  \"keyToString\": {\r\n    \"RunOnceActivity.OpenProjectViewOnStart\": \"true\",\r\n    \"RunOnceActivity.ShowReadmeOnStart\": \"true\",\r\n    \"RunOnceActivity.git.unshallow\": \"true\",\r\n    \"git-widget-placeholder\": \"main\",\r\n    \"ignore.virus.scanning.warn.message\": \"true\",\r\n    \"kotlin-language-version-configured\": \"true\",\r\n    \"last_opened_file_path\": \"D:/GIT/active-projects/Walkaroo/Java/WalkarooMultiTenent/MasterSetupService\"\r\n  }\r\n}]]></component>\r\n  <component name=\"RunAnythingCache\">\r\n    <option name=\"myCommands\">\r\n      <command value=\"gradle build\" />\r\n    </option>\r\n  </component>\r\n  <component name=\"RunManager\">\r\n    <configuration name=\"TransactionServiceApplication\" type=\"Application\" factoryName=\"Application\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"com.tekclover.wms.api.inbound.transaction.TransactionServiceApplication\" />\r\n      <module name=\"InboundTransactionService.main\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"com.tekclover.wms.api.inbound.transaction.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Application.TransactionServiceApplication\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"bca2e412-ea27-43fe-bde7-0c4517510a5a\" name=\"Changes\" comment=\"\" />\r\n      <created>1756884097634</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1756884097634</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756885541170</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756885541170</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756977974105</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756977974105</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756978828707</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756978828707</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756979414158</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756979414158</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756980067426</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756980067426</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756981183217</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756981183217</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756981364138</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756981364138</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1756981801197</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1756981801197</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757403249797</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757403249797</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757419940152</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757419940152</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757420101937</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757420101937</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00012\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757420416682</created>\r\n      <option name=\"number\" value=\"00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00012\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757420416682</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00013\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757477630478</created>\r\n      <option name=\"number\" value=\"00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00013\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757477630478</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00014\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757500673581</created>\r\n      <option name=\"number\" value=\"00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00014\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757500673581</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00015\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757501102972</created>\r\n      <option name=\"number\" value=\"00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00015\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757501102972</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00016\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757501638777</created>\r\n      <option name=\"number\" value=\"00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00016\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757501638777</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00017\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757504717311</created>\r\n      <option name=\"number\" value=\"00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00017\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757504717311</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00018\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1757505653923</created>\r\n      <option name=\"number\" value=\"00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00018\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1757505653923</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00019\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1759989068581</created>\r\n      <option name=\"number\" value=\"00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00019\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1759989068581</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00020\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1761118931588</created>\r\n      <option name=\"number\" value=\"00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00020\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1761118931588</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00021\" summary=\"wk_dev\">\r\n      <option name=\"closed\" value=\"true\" />\r\n      <created>1763040380030</created>\r\n      <option name=\"number\" value=\"00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00021\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1763040380030</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"22\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"wk_dev\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"wk_dev\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>\r\n          <line>173</line>\r\n          <option name=\"timeStamp\" value=\"5\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>\r\n          <line>168</line>\r\n          <option name=\"timeStamp\" value=\"6\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>\r\n          <line>174</line>\r\n          <option name=\"timeStamp\" value=\"7\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>\r\n          <line>175</line>\r\n          <option name=\"timeStamp\" value=\"8\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>\r\n          <line>186</line>\r\n          <option name=\"timeStamp\" value=\"9\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/transaction/service/TransactionService.java</url>\r\n          <line>187</line>\r\n          <option name=\"timeStamp\" value=\"10\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/OrderService.java</url>\r\n          <line>217</line>\r\n          <option name=\"timeStamp\" value=\"21\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/OrderService.java</url>\r\n          <line>220</line>\r\n          <option name=\"timeStamp\" value=\"22\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/TransactionService.java</url>\r\n          <line>189</line>\r\n          <option name=\"timeStamp\" value=\"27\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/TransactionService.java</url>\r\n          <line>191</line>\r\n          <option name=\"timeStamp\" value=\"29\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>267</line>\r\n          <option name=\"timeStamp\" value=\"32\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>276</line>\r\n          <option name=\"timeStamp\" value=\"33\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>283</line>\r\n          <option name=\"timeStamp\" value=\"34\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>273</line>\r\n          <option name=\"timeStamp\" value=\"35\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>1297</line>\r\n          <option name=\"timeStamp\" value=\"36\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>1329</line>\r\n          <option name=\"timeStamp\" value=\"37\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/MastersService.java</url>\r\n          <line>311</line>\r\n          <option name=\"timeStamp\" value=\"38\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/MastersService.java</url>\r\n          <line>309</line>\r\n          <option name=\"timeStamp\" value=\"39\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>1330</line>\r\n          <option name=\"timeStamp\" value=\"40\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>1354</line>\r\n          <option name=\"timeStamp\" value=\"41\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/InboundOrderProcessingService.java</url>\r\n          <line>286</line>\r\n          <option name=\"timeStamp\" value=\"42\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/OrderProcessingService.java</url>\r\n          <line>171</line>\r\n          <option name=\"timeStamp\" value=\"46\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/OrderProcessingService.java</url>\r\n          <line>170</line>\r\n          <option name=\"timeStamp\" value=\"47\" />\r\n        </line-breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/OrderProcessingService.java</url>\r\n          <line>173</line>\r\n          <option name=\"timeStamp\" value=\"48\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision c7cf62f3f3df8d8c4af5bfb4a9e7bdb054c102ee)
+++ b/.idea/workspace.xml	(date 1767334240214)
@@ -5,18 +5,29 @@
   </component>
   <component name="ChangeListManager">
     <list default="true" id="bca2e412-ea27-43fe-bde7-0c4517510a5a" name="Changes" comment="wk_dev">
-      <change beforePath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/gradle.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/misc.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/.idea/vcs.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/repository/PickupLineV2Repository.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/repository/PickupLineV2Repository.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/service/OutboundLineService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Fahaheel/Java/OutboundTransactionService/src/main/java/com/tekclover/wms/api/outbound/transaction/service/OutboundLineService.java" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Dev/OutboundTransactionService/.idea/modules/OutboundTransactionService.main.iml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Dev/OutboundTransactionService/.idea/modules/OutboundTransactionService.main.iml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Java/OutboundOrderService/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Webapp/Dev/package-lock.json" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Webapp/Dev/package-lock.json" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/common-service/menu-new.service.ts" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/common-service/menu-new.service.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports-routing.module.ts" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports-routing.module.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports.module.ts" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/reports.module.ts" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/stocksamplereport/stocksample.service.ts" beforeDir="false" afterPath="$PROJECT_DIR$/../../../Webapp/Dev/src/app/main-module/reports/stocksamplereport/stocksample.service.ts" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/ConnectorService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/scheduler/BatchJobScheduler.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/PickupHeaderService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/EnterpriseSetupService/src/main/java/com/tekclover/wms/api/enterprise/transaction/service/TransactionService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Almailem/AutoLab/TransactionService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/Code/IDMasterService/src/main/java/com/tekclover/wms/api/idmaster/controller/CurrencyController.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../ClassicWMS/TrueValue/TVProdMerge(24_11_2025)/TransactionService/.idea/vcs.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Godrej/Code/Dev/WrapperService/src/main/java/com/tekclover/wms/core/model/transaction/Receipt.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Dev/InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Dev/InboundTransactionService/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../MultiTenent/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/misc.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../../../Tamween/Java/InboundOrderService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../Dev/TransactionService/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../../Dev/TransactionService/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/repository/PreOutboundHeaderV2Repository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" beforeDir="false" afterPath="$PROJECT_DIR$/../../Dev/TransactionService/src/main/java/com/tekclover/wms/api/transaction/service/OutboundOrderProcessingFTService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../../Dev/WrapperService/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/../../Dev/WrapperService/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/com/tekclover/wms/api/inbound/transaction/service/ReportsService.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/../OutboundTransactionService/.idea/gradle.xml" beforeDir="false" afterPath="$PROJECT_DIR$/../OutboundTransactionService/.idea/gradle.xml" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -70,7 +81,7 @@
     "git-widget-placeholder": "main",
     "ignore.virus.scanning.warn.message": "true",
     "kotlin-language-version-configured": "true",
-    "last_opened_file_path": "D:/GIT/active-projects/Walkaroo/Java/WalkarooMultiTenent/MasterSetupService"
+    "last_opened_file_path": "D:/GIT/active-projects/Walkaroo/Java/WalkarooMultiTenent/InboundTransactionService"
   }
 }]]></component>
   <component name="RunAnythingCache">
@@ -275,7 +286,15 @@
       <option name="project" value="LOCAL" />
       <updated>1763040380030</updated>
     </task>
-    <option name="localTasksCounter" value="22" />
+    <task id="LOCAL-00022" summary="wk_dev">
+      <option name="closed" value="true" />
+      <created>1767334234569</created>
+      <option name="number" value="00022" />
+      <option name="presentableId" value="LOCAL-00022" />
+      <option name="project" value="LOCAL" />
+      <updated>1767334234570</updated>
+    </task>
+    <option name="localTasksCounter" value="23" />
     <servers />
   </component>
   <component name="VcsManagerConfiguration">
